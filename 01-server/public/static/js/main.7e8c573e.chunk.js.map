{"version":3,"sources":["components/Alert/index.js","components/Login/index.js","lib/api.js","components/NavBar/index.js","components/UserChangePassword/index.js","components/Owner/components/Header/index.js","components/Owner/components/Footer/index.js","components/Owner/index.js","components/OwnerInfo/index.js","components/ProgressBar/index.js","components/InspectorList/index.js","components/InspectorCreate/index.js","components/InspectorInfo/index.js","components/InspectorUpdate/index.js","components/InspectorDelete/index.js","components/ConsumerList/index.js","components/GoBackLink/index.js","components/ConsumerCreate/index.js","components/ConsumerInfo/index.js","components/ConsumerUpdate/index.js","components/ConsumerDelete/index.js","components/MeterList/index.js","components/MeterCreate/index.js","lib/helpers.js","components/MeterInfo/index.js","components/MeterUpdate/index.js","components/MeterDelete/index.js","components/MeterAddData/index.js","components/PlaceList/index.js","components/PlaceCreate/index.js","components/PlaceInfo/index.js","components/PlaceUpdate/index.js","components/PlaceDelete/index.js","components/ReportList/index.js","components/OwnerReportInfo/index.js","components/ReportUpdate/index.js","components/ReportDelete/index.js","components/RegisterList/index.js","components/RegisterCreate/index.js","components/RegisterInfo/index.js","components/RegisterUpdate/index.js","components/RegisterDelete/index.js","components/InspectorAppLayout/components/Header/index.js","components/InspectorAppLayout/components/Footer/index.js","components/InspectorAppLayout/index.js","components/InspectorUserInfo/index.js","components/InspectorReportList/index.js","components/InspectorReportInfo/index.js","components/InspectorPlaceList/index.js","components/InspectorPlaceInfo/index.js","components/CanvasSign/index.js","components/InspectorPlaceAddData/index.js","components/App/index.js","index.js"],"names":["Alert","props","type","message","handlerCloseAlert","onClickCloseAlert","e","preventDefault","react_default","a","createElement","className","role","style","zIndex","data-dismiss","aria-label","onClick","aria-hidden","Login","login","password","handlerLogin","minHeight","alert","components_Alert","position","top","left","right","bottom","placeholder","required","autoFocus","ref","r","value","href","api","data","opt","method","headers","Content-Type","body","JSON","stringify","fetch","then","res","promise","json","ok","err","getAllUsers","token","Authorization","concat","changeUserPassword","id","url","getAllInspectors","limit","offset","getCountInspectors","createInspector","name","getInspectorById","inspector_id","cache","getInspectorByUserId","user_id","updateInspectorById","deleteInspectorById","getAllConsumers","params","push","isNaN","join","getCountConsumers","createConsumer","email","phone","getConsumerById","updateConsumerById","deleteConsumerById","getAllMeters","getCountMeters","getAllMetersNotInPlace","createMeter","number","getMeterById","getMeterQRcodePngById","responseType","response","blob","saveAs","getAllMetersQRcodePdf","Date","now","updateMeterById","deleteMeterById","getCountPlaces","getAllPlaces","getAllPlacesForAudit","createPlace","isSignNeed","consumer_id","meter_id","getPlaceById","updatePlaceById","deletePlaceById","getAllReports","getCountReports","getReportById","getReportByIdPdf","getAllReportsByInspectorId","createReport","place_id","sign_id","date","updateReportById","deleteReportById","getAllDataByMeterId","getCountDatas","createData","createSign","formData","FormData","append","deleteSignById","sendReport","getAllRegisters","createRegister","group_abonent_id","sub_abonentes","getRegisterById","updateRegisterById","deleteRegisterById","downloadXlsxRegisterById","downloadXlsxAllRegisters","act_01","getAll","count","getById","getPdfById","getAllByInspectorId","create","inspector","consumer","place","meter","updateById","deletetById","sendEmailById","NavLink","Link","to","history","goBack","children","UserChangePassword","confirmPassword","user","components_NavBar","done","showSuccessAlert","showWarningAlert","catch","_ref","error","Header","handlerLogout","data-toggle","data-target","aria-controls","aria-expanded","Footer","Owner","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","objectSpread","state","setAlert","_this2","components_Header","React","Children","map","child","cloneElement","Owner_components_Footer","Component","withRouter","OwnerInfo","ProgressBar","large","height","aria-valuenow","aria-valuemin","aria-valuemax","width","InspectorList","loadItems","pageNumber","asyncToGenerator","regenerator_default","mark","_callee","_this$state","result","inspectors","wrap","_context","prev","next","sent","totalItemsCount","activePage","isLoaded","t0","stop","handlerChangePage","Promise","resolve","_ref3","_ref4","InspectorList_Table","Pagination_default","hideDisabled","itemsCountPerPage","innerClass","itemClass","linkClass","onChange","components_ProgressBar","Table","scope","fontSize","InspectorList_TableRow","key","TableRow","InspectorCreate","handleInspectorCreate","isProcessing","InspectorInfo","match","InspectorUpdate","handleUpdateInspector","isLoding","_ref2","_this3","defaultValue","InspectorDelete","handleClickYes","go","handleClickNo","Error","ConsumerList","consumers","ConsumerList_Table","ConsumerList_TableRow","GoBackLink","ConsumerCreate","handleCreateConsumer","ConsumerCreate_NavBar","NavBar","components_GoBackLink","ConsumerInfo","ConsumerUpdate","handleUpdateConsumer","ConsumerUpdate_NavBar","ConsumerDelete","MeterList","meters","downloadQRcode","downloadAllQRcodes","_ref5","_ref6","MeterList_Table","MeterList_TableRow","download","MeterLink","handleCreateMeter","MeterCreate_NavBar","formatDate","tmp","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","prettyDate","dateformat","MeterInfo","datas","MeterInfo_Table","MeterInfo_TableRow","MeterUpdate","handleUpdateMeter","MeterUpdate_NavBar","MeterDelete","MeterAddData","val","PlaceList","places","PlaceList_Table","PlaceList_TableRow","PlaceCreate","handleCreatePlace","isProcess","htmlFor","checked","PlaceInfo","colSpan","lastData","PlaceUpdate","handleUpdatePlace","toConsumableArray","defaultChecked","PlaceDelete","ReportList","acts","downloadPdf","ReportList_Table","items","item","ReportList_TableRow","current_value","OwnerReportInfo","act","assign","ConsumerSignId","last_date","last_value","current_date","ReportUpdate","handleUpdateReport","Number","undefined","ReportDelete","RegisterList","downloadXlsx","register_id","registers","RegisterList_Table","register","RegisterList_TableRow","group_abonent","RegisterCreate","handleCreateRegister","processing","report","sub_abonentes_select","sub_abonentes_list","filter","p","includes","toString","multiple","onDoubleClick","sub","options","i","length","selected","RegisterInfo","consumptionGroup","consumptionSubs","calculateConsumptionGroup","calculateConsumptionSub","sub_abonents","RegisterInfo_Table","RegisterInfo_TableRow","Fragment","rowSpan","last","curr","calculateConsumption","consumption","forEach","RegisterUpdate","componentDidMount","handleUpdateRegister","sub_abonents_select","sub_abonents_list","RegisterDelete","InspectorAppLayout","InspectorAppLayout_components_Header","components_InspectorAppLayout_components_Footer","InspectorUserInfo","InspectorReportList","act_id","InspectorReportList_Table","InspectorReportList_TableRow","InspectorReportInfo","ConsumerSingId","InspectorPlaceList","pageLimit","InspectorPlaceList_Table","InspectorPlaceList_TableRow","backgroundColor","InspectorPlaceInfo","CanvasSign","dX","canvas","current","getBoundingClientRect","window","scrollX","dY","scrollY","handlerTouchStart","ctx","document","getElementById","getContext","touches","changedTouches","ongoingTouches","copyTouch","beginPath","arc","pageX","pageY","brush","size","Math","PI","fillStyle","color","fill","handlerTouchMove","idx","ongoingTouchIndexById","identifier","moveTo","lineTo","lineWidth","strokeStyle","stroke","splice","handlerTouchEnd","handleCancel","touch","idToFind","handleClear","clearRect","x","y","snapshot","createRef","refHidden","addEventListener","removeEventListener","display","InspectorPlaceAddData","handleCreateReport","signData","placeName","sign","abrupt","_x","_x2","apply","arguments","components_CanvasSign","toDataURL","emptyDataSize","file","strBase64","blobBin","atob","split","array","charCodeAt","Blob","Uint8Array","strBase64ToBin","App","index","keys","handlerlogin","Switch","Route","exact","path","render","components_Login","components_Owner","components_InspectorAppLayout","components_InspectorUserInfo","components_UserChangePassword","components_InspectorPlaceList","components_PlaceCreate","components_InspectorPlaceInfo","components_PlaceUpdate","components_InspectorPlaceAddData","components_InspectorReportList","components_InspectorReportInfo","components_ReportUpdate","components_OwnerInfo","components_InspectorList","components_InspectorCreate","components_InspectorInfo","components_InspectorUpdate","components_InspectorDelete","components_ConsumerList","components_ConsumerCreate","components_ConsumerInfo","components_ConsumerUpdate","components_ConsumerDelete","components_MeterList","MeterCreate","components_MeterInfo","components_MeterUpdate","components_MeterDelete","components_MeterAddData","components_ReportList","components_OwnerReportInfo","components_ReportDelete","components_PlaceList","components_PlaceInfo","components_PlaceDelete","components_RegisterList","components_RegisterCreate","components_RegisterInfo","components_RegisterUpdate","components_RegisterDelete","ReactDOM","MemoryRouter","components_App"],"mappings":"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","file":"static/js/main.7e8c573e.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Alert = props => {\r\n    const { type, message } = props;\r\n    const { handlerCloseAlert } = props;\r\n    const onClickCloseAlert = e => {\r\n        e.preventDefault();\r\n        handlerCloseAlert();\r\n    }\r\n    switch (type) {\r\n        \r\n        case \"warnig\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        case \"success\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-success fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        default: return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Alert;\r\n\r\n","import React from 'react';\r\nimport Alert from '../Alert';\r\n\r\nconst Login = props => {\r\n    const { handlerLogin, handlerCloseAlert } = props;\r\n    let login, password;\r\n    const onClickLogin = e => {\r\n        e.preventDefault();\r\n        handlerLogin(login.value, password.value);\r\n    };\r\n    return (\r\n        <div style={{ minHeight: '480px' }}>\r\n            {props.alert && <Alert type={props.alert.type} message={props.alert.message} handlerCloseAlert={handlerCloseAlert} />}            \r\n            <div className=\"bg-light d-flex align-items-center\" style={{ position: 'absolute', top: '0', left: '0', right: '0', bottom: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Учет электроэнергии</h3>\r\n                            </div>\r\n                            <form className=\"\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Имя пользователя\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div>\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickLogin}>Вход</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"fixed-bottom mb-3\" style={{ position: 'absolute', bottom: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 text-center\">\r\n                            <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import fetch from 'isomorphic-fetch';\r\nimport {saveAs} from 'file-saver';\r\n\r\nconst api = {\r\n    login: (login, password) => {\r\n        const data = {login, password};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/auth/login';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllUsers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/users';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    changeUserPassword: (token, id, password) => {\r\n        const data = {password};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/users/${id}/changePassword`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllInspectors: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountInspectors: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/inspectors/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createInspector: (token, login, password, name) => {\r\n        const data = {login, password, name};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/inspectors';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorById: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            cache: 'no-cache',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors/${inspector_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorByUserId: (token, user_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors/user/${user_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateInspectorById: (token, id, name) => {\r\n        const data = {name};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteInspectorById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllConsumers: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const params = [];\r\n        if (limit) params.push(`limit=${limit}`);\r\n        if (!isNaN(offset)) params.push(`offset=${offset}`);\r\n        const url = `api/v1/consumers?${params.join('&')}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountConsumers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/consumers/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createConsumer: (token, login, password, name, email, phone) => {\r\n        const data = {login, password, name, email, phone};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/consumers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateConsumerById: (token, id, name, email, phone) => {\r\n        const data = {name, email, phone};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });  \r\n    },\r\n\r\n    getAllMeters: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/meters?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountMeters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/meters/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllMetersNotInPlace: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/meters/notInPlace';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createMeter: (token, number) => {\r\n        const data = {number: number};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/meters';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getMeterQRcodePngById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'image/png',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/meters/${id}/qrcode`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `qrcode-id-${id}.png`));\r\n    },\r\n\r\n    getAllMetersQRcodePdf: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/pdf',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/meters/qrcode`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `meters-qr-${Date.now()}.pdf`));\r\n    },\r\n\r\n    updateMeterById: (token, id, number) => {\r\n        const data = {number};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountPlaces: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/places/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlaces: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/places?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlacesForAudit: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/places/audit';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createPlace: (token, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/places';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getPlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updatePlaceById: (token, id, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deletePlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllReports: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountReports: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/count?inspector_id=${inspector_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportByIdPdf: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/pdf',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/reports/${id}/pdf`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `report-${Date.now()}.pdf`));\r\n    },\r\n\r\n    getAllReportsByInspectorId: (token, inspector_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createReport: (token, inspector_id, place_id, sign_id, date, value) => {\r\n        const data = {inspector_id, place_id, sign_id, date, value};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/reports';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateReportById: (token, id, value) => {\r\n        const data = {value};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllDataByMeterId: (token, meter_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/data?meter_id=${meter_id || \"\"}&offset=${offset}&limit=${limit}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountDatas: (token, meter_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/data/count?meter_id=${meter_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createData: (token, meter_id, date, value) => {\r\n        const data = {date, value, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/data';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createSign: (token, data) => {\r\n        const formData = new FormData();\r\n        formData.append('sign', data, `sing-${Date.now()}.png`);\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                // 'Content-Type': 'multipart/form-data',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: formData\r\n        };\r\n        const url = 'api/v1/signs';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteSignById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/signs/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    sendReport: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/${id}/sendEmail`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/registers`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createRegister: (token, name, group_abonent_id, sub_abonentes) => {\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/registers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateRegisterById: (token, id, name, group_abonent_id, sub_abonentes) => {\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    downloadXlsxRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/registers/${id}/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    downloadXlsxAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/registers/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    act_01: {\r\n        getAll: (token, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01?limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        count: (token, inspector_id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/count?inspector_id=${inspector_id || \"\"}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getPdfById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/pdf',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                responseType: 'blob'\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}/pdf`;\r\n            return fetch(url, opt)\r\n                .then(response => response.blob())\r\n                .then(blob => saveAs(blob, `act-${Date.now()}.pdf`));\r\n        },\r\n    \r\n        getAllByInspectorId: (token, inspector_id, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        create: (token, inspector, consumer, place, meter, sign_id, date, value) => {\r\n            const data = {inspector, consumer, place, meter, sign_id, date, value};\r\n            const opt = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = 'api/v1/doc/act_01';\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        updateById: (token, id, value) => {\r\n            const data = {value};\r\n            const opt = {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        deletetById: (token, id) => {\r\n            const opt = {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n\r\n        sendEmailById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}/sendEmail`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    },\r\n\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavLink = props => {\r\n  const onClickBack = e => {\r\n    e.preventDefault();\r\n    props.history.goBack();\r\n  };\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <Link className=\"nav-link\" to=\"/back\" onClick={onClickBack}>Назад</Link>\r\n      {\r\n        props.children\r\n      }\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavLink;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nconst UserChangePassword = props => {\r\n  let password, confirmPassword;\r\n  const user = props.user\r\n  const onClickSave = e => {\r\n    e.preventDefault();\r\n    if (password.value === confirmPassword.value) {\r\n      api.changeUserPassword(user.token, user.id, password.value)\r\n        .then(done => {\r\n          if (done) {\r\n            props.showSuccessAlert('Пароль изменен');\r\n            props.history.goBack();\r\n          }\r\n          else {\r\n            props.showWarningAlert('Неудалось изменить пароль');\r\n          }\r\n        })\r\n        .catch(({error}) => {\r\n          props.showWarningAlert(error.message);\r\n        });\r\n    }\r\n    else {\r\n      props.showWarningAlert('Пароли не совпадают');\r\n    }\r\n  };\r\n  if (user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Смена пароля</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Новый пароль\" required ref={r => password = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default UserChangePassword;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/owner/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-tie\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/inspectors\">Инспекторы</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/consumers\">Потребители</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/meters\">Счетчики</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/registers\">Реестры</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 text-center\">\r\n                    <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nclass Owner extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            alert: null\r\n        }\r\n    }\r\n\r\n    // componentWillMount() {\r\n    //     if (!this.state.user) {\r\n    //         this.props.history.push('/login');\r\n    //     }\r\n    // }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Owner);\r\n","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst OwnerInfo = props => {\r\n  if (props.user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}>\r\n          <Link className=\"nav-link\" to={`/owner/user/changePassword`}>Поменять пароль</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Роль</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.role}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default OwnerInfo;","import React from 'react';\r\n\r\nconst ProgressBar = props => {\r\n  const {message, large} = props;\r\n  return (\r\n    <div className=\"progress\" style={ large ? {height: '2.5rem'} : {height: '3px'}}>\r\n      <div className=\"progress-bar progress-bar-striped progress-bar-animated text-center\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{width: \"100%\"}}>\r\n        {\r\n          message\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspectors: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountInspectors(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const inspectors = await api.getAllInspectors(token, limit, offset);\r\n        this.setState({ ...this.state, inspectors, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/inspectors/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table inspectors={this.state.inspectors}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {inspectors} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Login</th>\r\n            <th scope=\"col\" className=\"text-center\">Name</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n            inspectors && inspectors.map(inspector => <TableRow key={`${inspector.id}-${inspector.name}`} inspector={inspector}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {inspector} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n      <Link to={`/owner/inspectors/${inspector.id}`}>{inspector.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{inspector.login}</td>\r\n      <td className=\"text-center\">{inspector.name}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InspectorList;","import React, {Component} from 'react';\r\n\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorCreate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleInspectorCreate = (login, password, name) => {\r\n    const token = this.state.user.token;\r\n    this.setState({...this.state, isProcessing: true});\r\n    api.createInspector(token, login, password, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.setAlert('warning', error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    let login, password, confirmPassword, name;\r\n\r\n    const onClickCreateInspector = e => {\r\n      e.preventDefault();\r\n      if (password.value !== confirmPassword.value) {\r\n        this.props.setAlert('warning', 'Не верный пароль');\r\n      }\r\n      else {\r\n        this.handleInspectorCreate(login.value, password.value, name.value);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <NavBar {...this.props}/>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n              <div className=\"text-center font-weight-bold mb-5\">\r\n                  <h3>Добавить инспектора</h3>\r\n              </div>\r\n              <form>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r}/>\r\n                </div>\r\n                {\r\n                  this.state.isProcessing ?\r\n                    <ProgressBar message={'Обработка...'} large={true}/> :\r\n                    <div className=\"form-group\">\r\n                      <button className=\"btn btn-primary btn-block\" onClick={onClickCreateInspector}>Создать</button>\r\n                    </div>\r\n                }\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    api.getInspectorById(this.state.user.token, this.state.inspector.id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert(error.message);\r\n          });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { inspector } = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/delete`}>Удалить</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Инспектор</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Имя</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.name}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoding: false,\r\n      isLoaded: false,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.setState({...this.state, isLoding: true});\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({ ...this.state, isLoaded: true }, () => {\r\n            //this.props.setAlert('warning', 'Inspector not found');\r\n            this.props.showWarningAlert('Inspector not found');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({ ...this.state, isLoaded: true }, () => {\r\n          //this.props.setAlert('warning', error.message);\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateInspector = name => {\r\n    if (!name) {\r\n      return this.props.showWarningAlert('Неправильное имя инспектора');\r\n    }\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.updateInspectorById(token, inspector_id, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Имя инспектора успешно изменено');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    const { inspector } = this.state;\r\n    let name;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateInspector(name.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить имя инспектора</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r} defaultValue={inspector.name} />\r\n              </div>\r\n              {\r\n                this.state.isProcessing ?\r\n                  <ProgressBar message={'Обработка...'} large={true} /> :\r\n                  <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                  </div>\r\n              }\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (!inspector) throw new Error({error: {message: 'Inspector not found'}});\r\n        this.setState({...this.state, inspector, isLoaded: true});\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n          this.props.history.goBack();\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    this.setState({...this.state, isLoaded: false});\r\n    api.deleteInspectorById(token, inspector_id)\r\n      .then(result => {\r\n        if (result && result.done) {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showSuccessAlert('Инспектор удален');\r\n            this.props.history.go(-2);\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message)\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const {inspector} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить инспектора ${inspector.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorDelete;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass ConsumerList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumers: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountConsumers(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const consumers = await api.getAllConsumers(token, limit, offset);\r\n        this.setState({ ...this.state, consumers, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/consumers/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table consumers={this.state.consumers}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {consumers} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Логин</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Email</th>\r\n            <th scope=\"col\" className=\"text-center\">Телефон</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n              consumers && consumers.map(consumer => <TableRow key={`${consumer.id}-${consumer.login}-${consumer.name}-${consumer.email}`} consumer={consumer}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {consumer} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\"><Link to={`/owner/consumers/${consumer.id}`}>{consumer.id}</Link></td>\r\n      <td className=\"text-center\">{consumer.login}</td>\r\n      <td className=\"text-center\">{consumer.name}</td>\r\n      <td className=\"text-center\">{consumer.email}</td>\r\n      <td className=\"text-center\"><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ConsumerList;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst GoBackLink = props => <Link className=\"nav-link\" to='/back' onClick={e => {e.preventDefault(); props.history.goBack();}}>Назад</Link>;\r\n\r\nexport default GoBackLink;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    handleCreateConsumer = (login, password, name, email, phone) => {\r\n        const token = this.state.user.token;\r\n        this.setState({ ...this.state, isLoaded: false });\r\n        api.createConsumer(token, login, password, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showSuccessAlert('Потребитель добавлен');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не добавлен');\r\n                    this.setState({ ...this.state, isLoaded: true });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.setState({ ...this.state, isLoaded: true });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n    }\r\n\r\n    render() {\r\n        let login, password, confirmPassword, name, email, phone;\r\n\r\n        const onClickCreateConsumer = e => {\r\n            e.preventDefault();\r\n            if (!login || !password || !confirmPassword || !name || !email) {\r\n                return this.showWarningAlert('Некорректрые данные в форме');\r\n            }\r\n            if (password.value === confirmPassword.value) {\r\n                this.handleCreateConsumer(login.value, password.value, name.value, email.value, phone.value);\r\n            }\r\n            else {\r\n                this.props.showWarningAlert('Пароли не совпадают');\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    !this.state.isLoaded && <ProgressBar />\r\n                }\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить потребителя</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required ref={r => email = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Номер телефона\" required ref={r => phone = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreateConsumer}>Создать</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Потребитель не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        const { consumer } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Потребитель</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.login}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Email</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.email}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ConsumerInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass ConsumerUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleUpdateConsumer = (name, email, phone) => {\r\n        if (!name || !email) {\r\n            return this.props.showWarningAlert('Некорректные данные в форме');\r\n        }\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.updateConsumerById(token, consumer_id, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.props.showSuccessAlert('Потребитель успешно изменен');\r\n                    this.props.history.goBack();\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Неудалось изменить потребителя')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                this.props.showWarningAlert(err.error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { consumer } = this.state;\r\n        let name, email, phone;\r\n        const onClickUpdateConsumer = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateConsumer(name.value, email.value, phone.value);\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}/>\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-5\">\r\n                            <h3>Редактировать потребителя</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required autoFocus defaultValue={consumer.name} ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required defaultValue={consumer.email} ref={r => email = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Email\" required defaultValue={consumer.phone} ref={r => phone = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateConsumer}>Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ConsumerDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumer: {\r\n        id: props.match.params.consumer_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.getConsumerById(token, consumer_id)\r\n      .then(consumer => {\r\n        if (consumer) {\r\n          this.setState({...this.state, consumer});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Потребитель не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.deleteConsumerById(token, consumer_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Потребитель удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {consumer} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить потребителя ${consumer.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ConsumerDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass MeterList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meters: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountMeters(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const meters = await api.getAllMeters(token, limit, offset);\r\n        this.setState({ ...this.state, meters, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  downloadQRcode = meter_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.getMeterQRcodePngById(token, meter_id)\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadAllQRcodes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.getAllMetersQRcodePdf(token)\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to=\"/owner/meters/create\">Добавить</Link>\r\n          <Link className=\"nav-link\" to=\"/owner/meters/qrcodes\" onClick={this.downloadAllQRcodes}>Скачать QR коды</Link>\r\n        </NavBar>\r\n        <Table meters={this.state.meters} downloadQRcode={this.downloadQRcode}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { meters } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Number</th>\r\n            <th scope=\"col\" className=\"text-center\">QR</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            meters && meters.map(meter => <TableRow key={`${meter.id}-${meter.number}`} meter={meter} downloadQRcode={props.downloadQRcode}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { meter } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/meters/${meter.id}`}>{meter.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{meter.number}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadQRcode(meter.id)} href={`api/v1/meters/${meter.id}/qrcode`} download={`qrcode-id-${meter.id}.png`}><i className=\"fas fa-qrcode\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default MeterList;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterLink extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleCreateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.props.user.token;\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    api.createMeter(token, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Счетчик добавлен');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Неудалось добавить счетчик');\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const onClickCreate = e => {\r\n      e.preventDefault();\r\n      this.handleCreateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcessing ? \r\n                    <ProgressBar message={'Создание счетчика...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterLink;","import dateformat from 'dateformat';\r\n\r\nexport const parseDate = date => {\r\n    if (!date) return null;\r\n    const tmp = date.split('T');\r\n    const tmpDate = tmp[0].split('-');\r\n    const tmpTime = tmp[1].split(':');\r\n    return `${tmpDate.join('-')} ${tmpTime[0]}:${tmpTime[1]}:${tmpTime[2].split('.')[0]}`;\r\n};\r\n\r\nexport const toDate = date => {\r\n    return new Date(date);\r\n}\r\n\r\nexport const formatDate = date => {\r\n    const tmp = new Date(date);\r\n    const year = tmp.getFullYear();\r\n    const month = tmp.getMonth() + 1;\r\n    const day = tmp.getDate();\r\n    const hour = tmp.getHours();\r\n    const minutes = tmp.getMinutes();\r\n    const seconds = tmp.getSeconds();\r\n    return `${year}-${month < 9 ? `0${month}` : month}-${day} ${hour}:${minutes}:${seconds}`;\r\n};\r\n\r\nexport const prettyDate = date => {\r\n    const datePattern = 'dd.mm.yyyy HH:MM:ss';\r\n    return dateformat(new Date(date), datePattern);\r\n}\r\n\r\nexport const strBase64ToBin = strBase64 => {\r\n    const blobBin = atob(strBase64.split(',')[1]);\r\n    let array = [];\r\n    for (let i = 0; i < blobBin.length; i++) {\r\n        array.push(blobBin.charCodeAt(i));\r\n    }\r\n    const file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n    return file;\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      },\r\n      datas: [],\r\n      limit: 15,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  loadItems = (meter, pageNumber) => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountDatas(token, meter.id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const datas = await api.getAllDataByMeterId(token, meter.id, limit, offset);\r\n        this.setState({ ...this.state, meter, datas, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, meter, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          // api.getAllDataByMeterId(token, meter_id)\r\n          //   .then(datas => {\r\n          //     if (datas) {\r\n          //       this.setState({ ...this.state, meter, datas, isLoaded: true});\r\n          //     }\r\n          //     else {\r\n          //       this.setState({ ...this.state, meter, isLoaded: true});\r\n          //     }\r\n          //   })\r\n          //   .catch(({ error }) => {\r\n          //       this.props.showWarningAlert(error.message);\r\n          //       this.props.history.goBack();\r\n          //   });\r\n          return Promise.resolve()\r\n            .then(this.loadItems(meter, this.state.activePage))\r\n            .catch(({ error }) => {\r\n              this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.meter, pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { meter } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/delete`}>Удалить</Link>\r\n          {/* <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/addData`}>Добавить показания</Link> */}\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Счетчик</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Номер</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.number}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <h3 className=\"text-center mb-2\">Показания</h3>\r\n        <Table datas={this.state.datas} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { datas } = props;\r\n  return (\r\n    <table className=\"table table-bordered table-hover table-sm\">\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\" className=\"text-center\">Дата</th>\r\n          <th scope=\"col\" className=\"text-center\">Показание</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody style={{ fontSize: '0.85rem' }}>\r\n        {\r\n          datas && datas.map(data => <TableRow key={`${data.id}-${data.date}`} data={data} />)\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { data } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">{prettyDate(data.date)}</td>\r\n      <td className=\"text-center\">{data.value}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default MeterInfo;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterUpdate extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.updateMeterById(token, meter_id, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик успешно изменен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert(\"Неудалось изменить счетчик\");\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const {meter} = this.state;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Редактировать счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r} defaultValue={meter.number}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass MeterDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.deleteMeterById(token, meter_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Счетчик удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {meter} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить счетчик ${meter.number}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MeterDelete;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport {formatDate} from '../../lib/helpers';\r\n\r\nconst MeterAddData = props => {\r\n  const token = props.user.token;\r\n  const meter_id = props.match.params.meter_id;\r\n  let val;\r\n  const onClickAdd = e => {\r\n    e.preventDefault();\r\n    if (!val.value) {\r\n      props.showWarningAlert(\"Не корректные показания счетчика\");\r\n      return;\r\n    }\r\n    const date = formatDate(Date.now());\r\n    api.createData(token, meter_id, date, val.value)\r\n      .then(data => {\r\n        if (data) {\r\n          props.showSuccessAlert('Показания добавлены');\r\n          props.history.goBack();\r\n        }\r\n        else {\r\n          props.showWarningAlert('Неудалось добавить показания счетчика');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"container justify-content-center\">\r\n      <NavBar {...props}/>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n          <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить показание счетчика</h3>\r\n          </div>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input className=\"form-control\" type=\"text\" placeholder=\"Показание, кВт\" required autoFocus ref={r => val = r}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button className=\"btn btn-primary btn-block\" onClick={onClickAdd}>Добавить</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeterAddData;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass PlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const places = await api.getAllPlaces(token, limit, offset);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/places/create`}>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Подпись</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/places/${place.id}`}>{place.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{place.name}</td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.consumer ? <Link to={`/owner/consumers/${place.consumer.id}`}>{place.consumer.name}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.meter ? <Link to={`/owner/meters/${place.meter.id}`}>{place.meter.number}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">{place.isSignNeed ? 'Да' : 'Нет'}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default PlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: meters || [],\r\n                        consumers: consumers || []\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleCreatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n        this.setState({...this.state, isProcess: true});\r\n        const token = this.state.user.token;\r\n        api.createPlace(token, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    //this.props.showSuccessAlert('Место добавлено');\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Не удалось добавить новое место');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const onClickCreate = e => {\r\n            e.preventDefault();\r\n            this.handleCreatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Создание...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceCreate;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport {Link} from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport {prettyDate} from '../../lib/helpers';\r\n\r\nclass PlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({...this.state, place, isLoaded: true});\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({error}) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        const {place} = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const place_id = this.state.place.id;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    const place = await api.getPlaceById(token, place_id);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: place.meter ? [...meters, place.meter] : meters,\r\n                        consumers: consumers || [],\r\n                        place\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleUpdatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.updatePlaceById(token, place_id, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Место сохранено');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Место не сохранено');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const { place } = this.state;\r\n        const onClickUpdate = e => {\r\n            e.preventDefault();\r\n            this.handleUpdatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus defaultValue={place.name} ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r} defaultValue={place.meter ? place.meter.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r} defaultValue={place.consumer ? place.consumer.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} defaultChecked={place.isSignNeed} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Изменение...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickUpdate}>Сохранить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass PlaceDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({ ...this.state, place, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Место не найдено');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.deletePlaceById(token, place_id)\r\n            .then(done => {\r\n                if (done) {\r\n                    this.props.showSuccessAlert('Место удалено');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { place } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить место ${place.name}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      //const result = await api.getCountReports(token);\r\n      const result = await api.act_01.count(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReports(token, limit, offset);\r\n        const acts = await api.act_01.getAll(token, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OwnerReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    downloadPdf = id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(act.date)}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSignId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date !== null ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date !== null ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_value !== null && act.last_value !== null ? act.current_value - act.last_value : (\r\n                                                act.current_value !== null ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default OwnerReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      act: {\r\n        id: props.match.params.id\r\n      },\r\n      isLoaded: false,\r\n      isProcess: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.getReportById(token, report_id)\r\n    api.act_01.getById(token, id)\r\n      .then(act => {\r\n        if (act) {\r\n          this.setState({ ...this.state, act, isLoaded: true });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Отчет не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateReport = value => {\r\n    const { act } = this.state;\r\n    if (Number.isNaN(value) || value < 0) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    if ((act.last_value !== null || act.last_value !== undefined) && (value < Number(act.last_value))) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.updateReportById(token, report_id, value)\r\n    this.setState({...this.state, isProcess: true});\r\n    api.act_01.updateById(token, id, value)\r\n      .then(result => {\r\n        if (!result || !result.done) {\r\n          this.setState({...this.state, isProcess: false}, () => {\r\n            this.props.showWarningAlert('Неудалось изменить отчет');\r\n          });\r\n        }\r\n        else {\r\n          //api.sendReport(token, report_id)\r\n          api.act_01.sendEmailById(token, id)\r\n            .then(done => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showSuccessAlert('Отчет изменен и отправлен.');\r\n                this.props.history.goBack();\r\n              });\r\n            })\r\n            .catch(({ error }) => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(\"Отчет изменен, но не отправлен. \\n\" + error.message);\r\n                this.props.history.goBack();\r\n              });\r\n            });\r\n        }\r\n\r\n        // if (result && result.done) {\r\n        //   this.props.showSuccessAlert('Показания счетчика изменены');\r\n        //   this.props.history.goBack();\r\n        // }\r\n        // else {\r\n        //   this.props.showWarningAlert('Показания не изменены');\r\n        // }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcess: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    const { act } = this.state;\r\n    let val;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateReport(val.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить показания</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"number\" placeholder=\"Показания счетчика\" required ref={r => val = r} defaultValue={act.current_value} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcess ?\r\n                    <ProgressBar message={'Изменение показаний...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ReportUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ReportDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        //api.getReportById(token, report_id)\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.deletetById(token, id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Отчет удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { act: { id } } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить отчет № ${id}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default ReportDelete;","import React, { Component } from 'react';\r\n//import api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nclass RegisterList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            registers: [],\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllRegisters(token)\r\n            .then(registers => {\r\n                if (registers) {\r\n                    this.setState({...this.state, registers, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Реестры не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                })\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    downloadXlsxAllRegisters = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxAllRegisters(token)\r\n            .catch(({error}) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to='/owner/registers/create'>Добавить</Link>\r\n                </NavBar>\r\n                <Table registers={this.state.registers} downloadXlsx={this.downloadXlsx} downloadXlsxAllRegisters={this.downloadXlsxAllRegisters}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { registers } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center\">Название</th>\r\n                        <th scope=\"col\" className=\"text-center\">Групповой абонент</th>\r\n                        <th className=\"text-center\"><a className=\"text-light\" onClick={props.downloadXlsxAllRegisters} href={`api/v1/registers/xlsx`} download={`register-all-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        registers && registers.map(register => <TableRow key={`${register.id}`} register={register} downloadXlsx={props.downloadXlsx}/>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { register } = props;\r\n    return (\r\n        <tr>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.id}</Link></td>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.name}</Link></td>\r\n            <td className=\"text-center\">\r\n                {\r\n                    register.group_abonent && <Link to={`/owner/places/${register.group_abonent.id}`}>{register.group_abonent.name}</Link>\r\n                }\r\n            </td>\r\n            <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadXlsx(register.id)} href={`api/v1/registers/${register.id}/xlsx`} download={`register-${register.id}-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default RegisterList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonentes: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllPlaces(token)\r\n            .then(places => {\r\n                if (places) {\r\n                    this.setState({ ...this.state, places, isLoaded: true })\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Места не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: true }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    handleCreateRegister = (name, group_abonent_id, sub_abonentes) => {\r\n        const token = this.state.user.token;\r\n        this.setState({...this.state, processing: true});\r\n        api.createRegister(token, name, group_abonent_id, sub_abonentes)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showSuccessAlert('Регистор создан');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showWarningAlert('Регистор не создан');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, processing: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        let name, group_abonent_id, sub_abonentes_select, sub_abonentes_list;\r\n\r\n        const onClickRegisterCreate = e => {\r\n            e.preventDefault();\r\n            this.handleCreateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonentes);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({...this.state, group_abonent_id: id});\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, sub_abonentes_select.value]});\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonentes_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, ...sub]});\r\n            }\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonentes_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonentes = this.state.sub_abonentes\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({...this.state, sub_abonentes: [...sub_abonentes]});\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Создать регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonentes_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple  className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonentes_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing && <ProgressBar/>\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickRegisterCreate}>Создать</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass RegisterInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            consumptionGroup: 0,\r\n            consumptionSubs: 0,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    const consumptionGroup = calculateConsumptionGroup(register.group_abonent);\r\n                    const consumptionSubs = calculateConsumptionSub(register.sub_abonents);\r\n                    this.setState({ ...this.state, consumptionGroup, consumptionSubs, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Реестр не найден');\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                this.props.showWarningAlert(err.error && err.error.message ? err.error.message : err);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to={`api/v1/registers/${register.id}/xlsx`} onClick={this.downloadXlsx(register.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Реестр</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Групповой</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Субабоненты</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потери</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup - this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <h3 className=\"text-center\">Групповой абонент</h3>\r\n                <Table items={this.state.register.group_abonent ? [this.state.register.group_abonent] : []} />\r\n                <h3 className=\"text-center\">Субабоненты</h3>\r\n                <Table items={this.state.register.sub_abonents || []} />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { items } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Место</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребитель</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Счетчик</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Предыдущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Текущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребление</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        items && items.map(item => <TableRow key={item.id} item={item} />)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { item } = props;\r\n    if (!item) return null;\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">{item.id}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\"><Link to={`/owner/places/${item.id}`}>{item.name}</Link></td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.consumer && <Link to={`/owner/consumers/${item.consumer.id}`}>{item.consumer.name}</Link>\r\n                    }\r\n                </td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.meter && <Link to={`/owner/meters/${item.meter.id}`}>{item.meter.number}</Link>\r\n                    }\r\n                </td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? prettyDate(item.meter.data[1].date) : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? prettyDate(item.meter.data[0].date) : null}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        (() => {\r\n                            const last = item.meter && item.meter.data[1] ? item.meter.data[1].value : null;\r\n                            const curr = item.meter && item.meter.data[0] ? item.meter.data[0].value : null;\r\n                            return calculateConsumption(last, curr);\r\n                        })()\r\n                    }\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? item.meter.data[1].value : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? item.meter.data[0].value : null}</td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nconst calculateConsumption = (last, curr) => {\r\n    if (last && curr && !isNaN(last) && !isNaN(curr)) {\r\n        return curr - last;\r\n    }\r\n    else if (curr && !isNaN(curr)) {\r\n        return curr;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst calculateConsumptionGroup = (group_abonent) => {\r\n    if (!group_abonent) return null;\r\n    const { meter } = group_abonent;\r\n    const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n    const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n    return calculateConsumption(last, curr);\r\n};\r\n\r\nconst calculateConsumptionSub = (sub_abonents) => {\r\n    if (!sub_abonents) return null;\r\n    let consumption = 0;\r\n    sub_abonents.forEach(p => {\r\n        const { meter } = p;\r\n        const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n        const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n        const result = calculateConsumption(last, curr);\r\n        if (result !== null) consumption += result;\r\n    });\r\n    return consumption;\r\n};\r\n\r\nexport default RegisterInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonents: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        try {\r\n            const token = this.state.user.token;\r\n            const register_id = this.state.register.id;\r\n\r\n            const register = await api.getRegisterById(token, register_id);\r\n            const places = await api.getAllPlaces(token);\r\n\r\n            if (register && places) {\r\n                const group_abonent_id = register.group_abonent ? `${register.group_abonent.id}` : null;\r\n                const sub_abonents = register.sub_abonents ? register.sub_abonents.map(p => `${p.id}`) : [];\r\n                this.setState({ ...this.state, register, places, group_abonent_id: group_abonent_id, sub_abonents: sub_abonents, isLoaded: true });\r\n            } else {\r\n                throw new Error({ error: { error: { message: 'Не найден реестр или места' } } })\r\n            }\r\n        } catch ({ error }) {\r\n            this.setState({ ...this.state, isLoaded: true }, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleUpdateRegister = (name, group_abonent_id, sub_abonents) => {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        this.setState({ ...this.state, processing: true }, () => {\r\n            api.updateRegisterById(token, register_id, name, group_abonent_id, sub_abonents)\r\n                .then(result => {\r\n                    if (result && result.done) {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showSuccessAlert('Регистор именен');\r\n                            this.props.history.goBack();\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showWarningAlert('Регистор не изменен');\r\n                        });\r\n                    }\r\n                })\r\n                .catch(({ error }) => {\r\n                    this.setState({ ...this.state, processing: false }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        let name, group_abonent_id, sub_abonents_select, sub_abonents_list;\r\n\r\n        const onClickUpdateRegister = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonents);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({ ...this.state, group_abonent_id: id });\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, sub_abonents_select.value] });\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, ...sub] });\r\n            }\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonents = this.state.sub_abonents\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...sub_abonents] });\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Изменить регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} defaultValue={this.state.register.name} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent} defaultValue={this.state.register.group_abonent ? this.state.register.group_abonent.id : null}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonents_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonents_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing ? <ProgressBar message={'Обработка...'} large={true} /> :\r\n                                    <div className=\"form-group\">\r\n                                        <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateRegister}>Создать</button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass RegisterDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    this.setState({ ...this.state, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Реестр не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.deleteRegisterById(token, register_id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Реестр удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container pt-2\">\r\n                <div className=\"border p-5\">\r\n                    <div className=\"mb-5\">\r\n                        <p className=\"h3 text-center\">{`Удалить реестр ${register.name}?`}</p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"ml-5\">\r\n                            <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                        </div>\r\n                        <div className=\"mr-5\">\r\n                            <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RegisterDelete;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/inspector/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-secret\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 text-center\">\r\n                        <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass InspectorAppLayout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: {},\r\n            alert: null,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const user_id = this.state.user.id;\r\n        api.getInspectorByUserId(token, user_id)\r\n            .then(inspector => {\r\n                if (inspector) {\r\n                    this.setState({...this.state, inspector, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.props.handlerLogout();\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.props.handlerLogout();\r\n            });\r\n    }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user } = this.state;\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert, inspector: this.state.inspector})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorAppLayout;","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst InspectorUserInfo = props => {\r\n    const {user, inspector} = props;\r\n    return (\r\n        <div className=\"container justify-content-center\">\r\n            <NavBar {...props}>\r\n                <Link className=\"nav-link\" to={`/inspector/user/changePassword`}>Изменить пароль</Link>\r\n            </NavBar>\r\n            <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n            <div className=\"border-top border-bottom\">\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Логин</span> : <span>{user.login}</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Имя</span> : <span>{inspector.name}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InspectorUserInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: props.inspector,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const inspector_id = this.state.inspector.id;\r\n      //const result = await api.getCountReports(token, inspector_id);\r\n      const result = await api.act_01.count(token, inspector_id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReportsByInspectorId(token, inspector_id, limit, offset);\r\n        const acts = await api.act_01.getAllByInspectorId(token, inspector_id, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = act_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, act_id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/inspector/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      {/* <td className=\"text-center\">{prettyDate(item.date)}</td> */}\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default InspectorReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass InspectorReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const act_id = this.state.act.id;\r\n        api.act_01.getById(token, act_id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert('Отчет не найден');\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadPdf = act_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, act_id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/inspector/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(formatDate(act.date))}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSingId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_date && act.last_date ? act.current_value - act.last_value : (\r\n                                                act.current_date ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorPlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      pageLimit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      this.setState({...this.state, isLoaded: false});\r\n      const { user: { token }, pageLimit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const places = await api.getAllPlaces(token, pageLimit, (pageNumber - 1) * pageLimit);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/inspector/places/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.pageLimit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.pageLimit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-plus\"></i></th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '1rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr style={style(place)}>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}/addData`}><i className=\"text-secondary fas fa-plus\"></i></Link></td>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}`}>{place.name}</Link></td>\r\n      <td className=\"text-center\">{place.consumer ? place.consumer.name : null}</td>\r\n      <td className=\"text-center\">{place.meter ? place.meter.number : null}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst style = place => {\r\n  if (!place.meter) return { backgroundColor: '#b0bec5' };\r\n  if (place.meter) {\r\n    const { lastData } = place.meter;\r\n    if (lastData && (new Date(lastData.date)).getMonth() === (new Date(Date.now())).getMonth()) {\r\n      return { backgroundColor: '#ffab91' };\r\n    }\r\n    else {\r\n      return { backgroundColor: '#c5e1a5' }\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default InspectorPlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass InspectorPlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/addData`}>Добавить показания</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceInfo;","import React, { Component } from 'react';\r\n\r\nclass CanvasSign extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.touches = { x: [], y: [] };\r\n        this.brush = { color: 'black', size: 3 };\r\n        this.snapshot = null;\r\n        this.canvas = {\r\n            width: 300,\r\n            height: 300,\r\n            ref: React.createRef(),\r\n            refHidden: React.createRef()\r\n        };\r\n\r\n        this.ongoingTouches = [];\r\n    }\r\n\r\n    dX = () => this.canvas.ref.current.getBoundingClientRect().left + window.scrollX;\r\n\r\n    dY = () => this.canvas.ref.current.getBoundingClientRect().top + window.scrollY;\r\n\r\n    handlerTouchStart = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            this.ongoingTouches.push(this.copyTouch(touches[i]));\r\n            ctx.beginPath();\r\n            ctx.arc(touches[i].pageX - this.dX(), touches[i].pageY - this.dY(), this.brush.size / 2, 0, 2 * Math.PI, false);  // a circle at the start\r\n            ctx.fillStyle = this.brush.color;\r\n            ctx.fill();\r\n        }\r\n    };\r\n\r\n    handlerTouchMove = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.strokeStyle = this.brush.color;\r\n                ctx.stroke();\r\n                this.ongoingTouches.splice(idx, 1, this.copyTouch(touches[i]));  // swap in the new touch record\r\n            } else {\r\n            }\r\n        }\r\n    };\r\n\r\n    handlerTouchEnd = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.fillStyle = this.brush.color;\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                //ctx.fillRect(touches[i].pageX - this.dX() - 4, touches[i].pageY - this.dY() - 4, 8, 8);  // and a square at the end\r\n                this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n            } else {\r\n            }\r\n        }\r\n    };\r\n\r\n    handleCancel = e => {\r\n        e.preventDefault();\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            const idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n        }\r\n    }\r\n\r\n    // colorForTouch = touch => {\r\n    //     let r = touch.identifier % 16;\r\n    //     let g = Math.floor(touch.identifier / 3) % 16;\r\n    //     let b = Math.floor(touch.identifier / 7) % 16;\r\n    //     r = r.toString(16); // make it a hex digit\r\n    //     g = g.toString(16); // make it a hex digit\r\n    //     b = b.toString(16); // make it a hex digit\r\n    //     const color = \"#\" + r + g + b;\r\n    //     return color;\r\n    // }\r\n\r\n    copyTouch = touch => {\r\n        return { identifier: touch.identifier, pageX: touch.pageX, pageY: touch.pageY };\r\n    }\r\n\r\n    ongoingTouchIndexById = idToFind => {\r\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\r\n            const id = this.ongoingTouches[i].identifier;\r\n\r\n            if (id === idToFind) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;    // not found\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.addEventListener('touchstart', this.handlerTouchStart, false);\r\n        canvas.addEventListener('touchmove', this.handlerTouchMove, false);\r\n        canvas.addEventListener('touchcancel', this.handleCancel, false);\r\n        canvas.addEventListener('touchend', this.handlerTouchEnd, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.removeEventListener('touchstart', this.handlerTouchStart);\r\n        canvas.removeEventListener('touchmove', this.handlerTouchMove);\r\n        canvas.removeEventListener('touchcancel', this.handleCancel);\r\n        canvas.removeEventListener('touchend', this.handlerTouchEnd);\r\n    }\r\n\r\n    handleClear = e => {\r\n        e.preventDefault();\r\n        const ctx = this.canvas.ref.current.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <div className=\"border text-center mx-auto\">\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.ref} />\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.refHidden} style={{display: 'none'}} />\r\n                </div>\r\n                <button className=\"btn btn-warning btn-block\" onClick={this.handleClear}>Очистить</button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CanvasSign;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate, strBase64ToBin } from '../../lib/helpers';\r\nimport CanvasSign from '../CanvasSign';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorPlaceAddData extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: props.inspector,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            consumption: null,\r\n            isLoaded: false,\r\n            isProcess: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    handleCreateReport = async (value, signData) => {\r\n        const { place } = this.state;\r\n        if (!place.meter) {\r\n            return this.props.showWarningAlert(\"Отсутствует счетчик\");\r\n        }\r\n        if (Number.isNaN(value)) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (place.meter && place.meter.lastData && (value < Number(place.meter.lastData.value))) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (this.state.place.isSignNeed && !signData) {\r\n            return this.props.showWarningAlert('Отсутствует подпись');\r\n        }\r\n\r\n        const token = this.state.user.token;\r\n        //const inspector_id = this.state.inspector.id;\r\n        const inspector = this.state.inspector.name;\r\n        //const place_id = this.state.place.id;\r\n        const placeName = this.state.place.name;\r\n        const consumer = this.state.place.consumer.name;\r\n        const meter = this.state.place.meter.number;\r\n        const date = formatDate(Date.now());\r\n        let sign_id = null;\r\n\r\n        let sign = null;\r\n        //let report = null;\r\n        let act = null;\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        try {\r\n            if (this.state.place.isSignNeed) {\r\n                sign = await api.createSign(token, signData);\r\n                sign_id = sign.id;\r\n            }\r\n            //report = await api.createReport(token, inspector_id, place_id, sign_id, date, value);\r\n            act = await api.act_01.create(token, inspector, consumer, placeName, meter, sign_id, date, value);\r\n        } catch ({error}) {\r\n            if (sign) api.deleteSignById(token, sign.id).then(() => {});\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!act) {\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert('Неудалось создать отчет');\r\n            });\r\n        }\r\n        else {\r\n            api.act_01.sendEmailById(token, act.id)\r\n                .then(done => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Отчет создан и отправлен.');\r\n                        this.props.history.goBack();\r\n                    });\r\n                })\r\n                .catch(({error}) => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert(\"Отчет создан, но не отправлен. \\n\" + error.message);\r\n                        this.props.history.goBack();\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let val, canvas;\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n\r\n        const onClickCreateReport = e => {\r\n            e.preventDefault();\r\n\r\n            if (!this.state.place.isSignNeed) {\r\n                return this.handleCreateReport(val.value, null);\r\n            }\r\n\r\n            const signData = canvas.canvas.ref.current.toDataURL();\r\n            const emptyDataSize = canvas.canvas.refHidden.current.toDataURL().length;\r\n            if (signData.length <= emptyDataSize) {\r\n                return this.props.showWarningAlert('Необходима подпись');\r\n            }\r\n            \r\n            const file = strBase64ToBin(signData);\r\n            this.handleCreateReport(val.value, file);\r\n        };\r\n\r\n        const onChangeValue = e => {\r\n            let consumption = null; \r\n            if (val.value <= 0) {\r\n                consumption = null;\r\n            }\r\n            else if (!this.state.place.meter) {\r\n                consumption = null;\r\n            }\r\n            else if (this.state.place.meter && !this.state.place.meter.lastData) {\r\n                consumption = val.value;\r\n            }\r\n            else {\r\n                consumption = val.value - Number(this.state.place.meter.lastData.value);    \r\n            }\r\n            this.setState({...this.state, consumption: consumption});\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\">\r\n                                    <div className=\"form-group my-0 p-0\">\r\n                                        <input className=\"form-control\" type=\"number\" placeholder=\"Текущие показания\" required ref={r => val = r} onChange={onChangeValue} />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={this.state.consumption === 0 ? 'table-warning' : (this.state.consumption > 0 ? 'table-success' : 'table-danger') }>\r\n                                <td><span className=\"font-weight-bold\">Потребление: </span></td>\r\n                                <td><span className=\"font-weight-bold text-right\">{this.state.consumption}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {/* <div className=\"input-group mb-3\">\r\n                    <div className=\"custom-file\">\r\n                        <input type=\"file\" className=\"custom-file-input\" />\r\n                        <label className=\"custom-file-label\">Фотография показаний</label>\r\n                    </div>\r\n                </div> */}\r\n                {\r\n                    place.isSignNeed &&\r\n                    <>\r\n                        <h5 className=\"text-center mb-2\">Подпись потребителя</h5>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                                <div className=\"my-2\">\r\n                                    <CanvasSign ref={r => canvas = r} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"form-group\">\r\n                        {\r\n                            this.state.isProcess ?\r\n                            <ProgressBar message=\"Создание отчета...\" large={true}/> :\r\n                            <button className=\"btn btn-primary btn-block\" onClick={onClickCreateReport}>Создать</button>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceAddData;","import React, { Component } from 'react';\r\nimport { withRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Login from '../Login';\r\n\r\nimport UserChangePassword from '../UserChangePassword';\r\n\r\nimport Owner from '../Owner';\r\nimport OwnerInfo from '../OwnerInfo';\r\n\r\n//import UserList from '../UserList';\r\n\r\nimport InspectorList from '../InspectorList';\r\nimport InspectorCreate from '../InspectorCreate';\r\nimport InspectorInfo from '../InspectorInfo';\r\nimport InspectorUpdate from '../InspectorUpdate';\r\nimport InspectorDelete from '../InspectorDelete';\r\n\r\nimport ConsumerList from '../ConsumerList';\r\nimport ConsumerCreate from '../ConsumerCreate';\r\nimport ConsumerInfo from '../ConsumerInfo';\r\nimport ConsumerUpdate from '../ConsumerUpdate';\r\nimport ConsumerDelete from '../ConsumerDelete';\r\n\r\nimport MeterList from '../MeterList';\r\nimport MeterCreate from '../MeterCreate';\r\nimport MeterInfo from '../MeterInfo';\r\nimport MeterUpdate from '../MeterUpdate';\r\nimport MeterDelete from '../MeterDelete';\r\nimport MeterAddData from '../MeterAddData';\r\n\r\nimport PlaceList from '../PlaceList';\r\nimport PlaceCreate from '../PlaceCreate';\r\nimport PlaceInfo from '../PlaceInfo';\r\nimport PlaceUpdate from '../PlaceUpdate';\r\nimport PlaceDelete from '../PlaceDelete';\r\n\r\nimport ReportList from '../ReportList';\r\nimport OwnerReportInfo from '../OwnerReportInfo';\r\nimport ReportUpdate from '../ReportUpdate';\r\nimport ReportDelete from '../ReportDelete';\r\n\r\nimport RegisterList from '../RegisterList';\r\nimport RegisterCreate from '../RegisterCreate';\r\nimport RegisterInfo from '../RegisterInfo';\r\nimport RegisterUpdate from '../RegisterUpdate';\r\nimport RegisterDelete from '../RegisterDelete';\r\n\r\nimport InspectorAppLayout from '../InspectorAppLayout';\r\nimport InspectorUserInfo from '../InspectorUserInfo';\r\nimport InspectorReportList from '../InspectorReportList';\r\nimport InspectorReportInfo from '../InspectorReportInfo';\r\nimport InspectorPlaceList from '../InspectorPlaceList';\r\nimport InspectorPlaceInfo from '../InspectorPlaceInfo';\r\nimport InspectorPlaceAddData from '../InspectorPlaceAddData';\r\n\r\n//import Consumer from '../Consumer';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: null,\r\n      alert: null\r\n    }\r\n\r\n  }\r\n\r\n  handlerLogout = () => {\r\n    this.props.history.index = -1;\r\n    this.props.history.push('/login');\r\n    let state = {};\r\n    Object.keys(this.state).forEach(key => {\r\n      state[key] = null;\r\n    });\r\n    this.setState({...state});\r\n  }\r\n\r\n  handlerlogin = (login, password) => {\r\n    if (!login || !password) {\r\n      this.setState({ ...this.state, alert: { type: 'warning', message: 'Incorrect login or password' } });\r\n      return;\r\n    }\r\n    api.login(login, password)\r\n      .then(user => {\r\n        this.setState({ ...this.state, user }, () => {\r\n          switch (user.role) {\r\n            case 'ADMIN': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'OWNER': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'INSPECTOR': {\r\n              this.props.history.push('/inspector');\r\n              break;\r\n            }\r\n            // case 'CONSUMER': {\r\n            //   this.props.history.push('/consumer');\r\n            //   break;\r\n            // }\r\n            default: {\r\n              this.props.history.push('/login');\r\n            }\r\n          }\r\n        });\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({ ...this.state, alert: { type: 'warning', message: error.message } })\r\n      });\r\n  }\r\n\r\n  handlerCloseAlert = () => {\r\n    this.setState({ ...this.state, alert: null });\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.history.push('/login');\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    return (\r\n      <div>\r\n        <Switch>\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/login' render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n          <Route exact path='/owner' render={props => <Owner {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          <Route exact path='/inspector' render={props => <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          {/*<Route exact path='/consumer' render={props => <Consumer {...props} user={user} handlerLogout={this.handlerLogout} />} />*/}\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/inspector/user'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUserInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/user/changePassword'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/create'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/addData'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceAddData {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/user'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/user/changePassword'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/inspectors'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/consumers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/meters'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/addData'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterAddData {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/reports'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerReportInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/places'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/registers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n\r\n        </Switch>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {MemoryRouter} from 'react-router-dom';\r\n\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\r\nimport '../node_modules/bootstrap/dist/js/bootstrap';\r\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<MemoryRouter><App /></MemoryRouter>, document.getElementById('root'));"],"sourceRoot":""}