{"version":3,"sources":["components/Alert/index.js","components/Login/index.js","lib/api.js","components/NavBar/index.js","components/UserChangePassword/index.js","components/Owner/components/Header/index.js","components/Owner/components/Footer/index.js","components/Owner/index.js","components/OwnerInfo/index.js","components/ProgressBar/index.js","components/InspectorList/index.js","components/InspectorCreate/index.js","components/InspectorInfo/index.js","components/InspectorUpdate/index.js","components/InspectorDelete/index.js","components/ConsumerList/index.js","components/GoBackLink/index.js","components/ConsumerCreate/index.js","components/ConsumerInfo/index.js","components/ConsumerUpdate/index.js","components/ConsumerDelete/index.js","components/MeterList/index.js","components/MeterCreate/index.js","lib/helpers.js","components/MeterInfo/index.js","components/MeterUpdate/index.js","components/MeterDelete/index.js","components/MeterAddData/index.js","components/PlaceList/index.js","components/PlaceCreate/index.js","components/PlaceInfo/index.js","components/PlaceUpdate/index.js","components/PlaceDelete/index.js","components/ReportList/index.js","components/OwnerReportInfo/index.js","components/ReportUpdate/index.js","components/ReportDelete/index.js","components/RegisterList/index.js","components/RegisterCreate/index.js","components/RegisterInfo/index.js","components/RegisterUpdate/index.js","components/RegisterDelete/index.js","components/InspectorAppLayout/components/Header/index.js","components/InspectorAppLayout/components/Footer/index.js","components/InspectorAppLayout/index.js","components/InspectorUserInfo/index.js","components/InspectorReportList/index.js","components/InspectorReportInfo/index.js","components/InspectorPlaceList/index.js","components/InspectorPlaceInfo/index.js","components/CanvasSign/index.js","components/InspectorPlaceAddData/index.js","components/App/index.js","index.js"],"names":["Alert","props","type","message","handlerCloseAlert","onClickCloseAlert","e","preventDefault","console","log","react_default","a","createElement","className","role","style","zIndex","data-dismiss","aria-label","onClick","aria-hidden","Login","login","password","handlerLogin","minHeight","alert","components_Alert","position","top","left","right","bottom","placeholder","required","autoFocus","ref","r","value","href","api","data","opt","method","headers","Content-Type","body","JSON","stringify","fetch","then","res","promise","json","ok","err","getAllUsers","token","Authorization","concat","changeUserPassword","id","url","getAllInspectors","limit","offset","getCountInspectors","createInspector","name","getInspectorById","inspector_id","cache","getInspectorByUserId","user_id","updateInspectorById","deleteInspectorById","getAllConsumers","params","push","isNaN","join","getCountConsumers","createConsumer","email","phone","getConsumerById","updateConsumerById","deleteConsumerById","getAllMeters","getCountMeters","getAllMetersNotInPlace","createMeter","number","getMeterById","updateMeterById","deleteMeterById","getCountPlaces","getAllPlaces","getAllPlacesForAudit","createPlace","isSignNeed","consumer_id","meter_id","getPlaceById","updatePlaceById","deletePlaceById","getAllReports","getCountReports","getReportById","getReportByIdPdf","responseType","response","blob","saveAs","Date","now","getAllReportsByInspectorId","createReport","place_id","sign_id","date","updateReportById","deleteReportById","getAllDataByMeterId","getCountDatas","createData","createSign","formData","FormData","append","deleteSignById","sendReport","getAllRegisters","createRegister","group_abonent_id","sub_abonentes","getRegisterById","updateRegisterById","deleteRegisterById","downloadXlsxRegisterById","downloadXlsxAllRegisters","act_01","getAll","count","getById","getPdfById","getAllByInspectorId","create","inspector","consumer","place","meter","updateById","deletetById","sendEmailById","NavLink","Link","to","history","goBack","children","UserChangePassword","confirmPassword","user","components_NavBar","done","showSuccessAlert","showWarningAlert","catch","_ref","error","Header","handlerLogout","data-toggle","data-target","aria-controls","aria-expanded","Footer","Owner","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","objectSpread","state","setAlert","_this2","components_Header","React","Children","map","child","cloneElement","Owner_components_Footer","Component","withRouter","OwnerInfo","ProgressBar","large","height","aria-valuenow","aria-valuemin","aria-valuemax","width","InspectorList","loadItems","pageNumber","asyncToGenerator","regenerator_default","mark","_callee","_this$state","result","inspectors","wrap","_context","prev","next","sent","totalItemsCount","activePage","isLoaded","t0","stop","handlerChangePage","Promise","resolve","_ref3","_ref4","InspectorList_Table","Pagination_default","hideDisabled","itemsCountPerPage","innerClass","itemClass","linkClass","onChange","components_ProgressBar","Table","scope","fontSize","InspectorList_TableRow","key","TableRow","InspectorCreate","handleInspectorCreate","isProcessing","InspectorInfo","match","InspectorUpdate","handleUpdateInspector","isLoding","_ref2","_this3","defaultValue","InspectorDelete","handleClickYes","go","handleClickNo","Error","ConsumerList","consumers","ConsumerList_Table","ConsumerList_TableRow","GoBackLink","ConsumerCreate","handleCreateConsumer","ConsumerCreate_NavBar","NavBar","components_GoBackLink","ConsumerInfo","ConsumerUpdate","handleUpdateConsumer","ConsumerUpdate_NavBar","ConsumerDelete","MeterList","meters","MeterList_Table","MeterList_TableRow","MeterLink","handleCreateMeter","MeterCreate_NavBar","formatDate","tmp","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","prettyDate","dateformat","MeterInfo","datas","_ref5","MeterInfo_Table","MeterInfo_TableRow","MeterUpdate","handleUpdateMeter","MeterUpdate_NavBar","MeterDelete","MeterAddData","val","PlaceList","places","PlaceList_Table","PlaceList_TableRow","PlaceCreate","handleCreatePlace","isProcess","htmlFor","checked","PlaceInfo","colSpan","lastData","PlaceUpdate","handleUpdatePlace","toConsumableArray","defaultChecked","PlaceDelete","ReportList","acts","downloadPdf","ReportList_Table","items","item","ReportList_TableRow","current_value","download","OwnerReportInfo","act","assign","ConsumerSignId","last_date","last_value","current_date","ReportUpdate","handleUpdateReport","Number","undefined","ReportDelete","RegisterList","downloadXlsx","register_id","registers","RegisterList_Table","register","RegisterList_TableRow","group_abonent","RegisterCreate","handleCreateRegister","processing","report","sub_abonentes_select","sub_abonentes_list","filter","p","includes","toString","multiple","onDoubleClick","sub","options","i","length","selected","RegisterInfo","consumptionGroup","consumptionSubs","calculateConsumptionGroup","calculateConsumptionSub","sub_abonents","RegisterInfo_Table","RegisterInfo_TableRow","Fragment","rowSpan","last","curr","calculateConsumption","consumption","forEach","RegisterUpdate","componentDidMount","handleUpdateRegister","sub_abonents_select","sub_abonents_list","RegisterDelete","InspectorAppLayout","InspectorAppLayout_components_Header","components_InspectorAppLayout_components_Footer","InspectorUserInfo","InspectorReportList","act_id","InspectorReportList_Table","InspectorReportList_TableRow","InspectorReportInfo","ConsumerSingId","InspectorPlaceList","pageLimit","InspectorPlaceList_Table","InspectorPlaceList_TableRow","backgroundColor","InspectorPlaceInfo","CanvasSign","dX","canvas","current","getBoundingClientRect","window","scrollX","dY","scrollY","handlerTouchStart","ctx","document","getElementById","getContext","touches","changedTouches","ongoingTouches","copyTouch","beginPath","arc","pageX","pageY","brush","size","Math","PI","fillStyle","color","fill","handlerTouchMove","idx","ongoingTouchIndexById","identifier","moveTo","lineTo","lineWidth","strokeStyle","stroke","splice","handlerTouchEnd","handleCancel","touch","idToFind","handleClear","clearRect","x","y","snapshot","createRef","refHidden","addEventListener","removeEventListener","display","InspectorPlaceAddData","handleCreateReport","signData","placeName","sign","abrupt","_x","_x2","apply","arguments","components_CanvasSign","toDataURL","emptyDataSize","file","strBase64","blobBin","atob","split","array","charCodeAt","Blob","Uint8Array","strBase64ToBin","App","index","keys","handlerlogin","Switch","Route","exact","path","render","components_Login","components_Owner","components_InspectorAppLayout","components_InspectorUserInfo","components_UserChangePassword","components_InspectorPlaceList","components_PlaceCreate","components_InspectorPlaceInfo","components_PlaceUpdate","components_InspectorPlaceAddData","components_InspectorReportList","components_InspectorReportInfo","components_ReportUpdate","components_OwnerInfo","components_InspectorList","components_InspectorCreate","components_InspectorInfo","components_InspectorUpdate","components_InspectorDelete","components_ConsumerList","components_ConsumerCreate","components_ConsumerInfo","components_ConsumerUpdate","components_ConsumerDelete","components_MeterList","MeterCreate","components_MeterInfo","components_MeterUpdate","components_MeterDelete","components_MeterAddData","components_ReportList","components_OwnerReportInfo","components_ReportDelete","components_PlaceList","components_PlaceInfo","components_PlaceDelete","components_RegisterList","components_RegisterCreate","components_RegisterInfo","components_RegisterUpdate","components_RegisterDelete","ReactDOM","MemoryRouter","components_App"],"mappings":"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","file":"static/js/main.38fb2583.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Alert = props => {\r\n    const { type, message } = props;\r\n    const { handlerCloseAlert } = props;\r\n    const onClickCloseAlert = e => {\r\n        e.preventDefault();\r\n        handlerCloseAlert();\r\n    }\r\n    console.log(type, message);\r\n    switch (type) {\r\n        \r\n        case \"warnig\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        case \"success\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-success fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        default: return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Alert;\r\n\r\n","import React from 'react';\r\nimport Alert from '../Alert';\r\n\r\nconst Login = props => {\r\n    const { handlerLogin, handlerCloseAlert } = props;\r\n    let login, password;\r\n    const onClickLogin = e => {\r\n        e.preventDefault();\r\n        handlerLogin(login.value, password.value);\r\n    };\r\n    return (\r\n        <div style={{ minHeight: '480px' }}>\r\n            {props.alert && <Alert type={props.alert.type} message={props.alert.message} handlerCloseAlert={handlerCloseAlert} />}            \r\n            <div className=\"bg-light d-flex align-items-center\" style={{ position: 'absolute', top: '0', left: '0', right: '0', bottom: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Учет электроэнергии</h3>\r\n                            </div>\r\n                            <form className=\"\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Имя пользователя\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div>\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickLogin}>Вход</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"fixed-bottom mb-3\" style={{ position: 'absolute', bottom: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 text-center\">\r\n                            <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import fetch from 'isomorphic-fetch';\r\nimport {saveAs} from 'file-saver';\r\n\r\nconst api = {\r\n    login: (login, password) => {\r\n        const data = {login, password};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/auth/login';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllUsers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/users';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    changeUserPassword: (token, id, password) => {\r\n        const data = {password};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/users/${id}/changePassword`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllInspectors: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountInspectors: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/inspectors/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createInspector: (token, login, password, name) => {\r\n        const data = {login, password, name};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/inspectors';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorById: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            cache: 'no-cache',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors/${inspector_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorByUserId: (token, user_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors/user/${user_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateInspectorById: (token, id, name) => {\r\n        const data = {name};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteInspectorById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllConsumers: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const params = [];\r\n        if (limit) params.push(`limit=${limit}`);\r\n        if (!isNaN(offset)) params.push(`offset=${offset}`);\r\n        const url = `api/v1/consumers?${params.join('&')}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountConsumers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/consumers/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createConsumer: (token, login, password, name, email, phone) => {\r\n        const data = {login, password, name, email, phone};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/consumers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateConsumerById: (token, id, name, email, phone) => {\r\n        const data = {name, email, phone};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });  \r\n    },\r\n\r\n    getAllMeters: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/meters?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountMeters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/meters/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllMetersNotInPlace: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/meters/notInPlace';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createMeter: (token, number) => {\r\n        const data = {number: number};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/meters';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateMeterById: (token, id, number) => {\r\n        const data = {number};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountPlaces: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/places/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlaces: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/places?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlacesForAudit: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = 'api/v1/places/audit';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createPlace: (token, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/places';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getPlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updatePlaceById: (token, id, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deletePlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllReports: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountReports: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/count?inspector_id=${inspector_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportByIdPdf: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/pdf',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/reports/${id}/pdf`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `report-${Date.now()}.pdf`));\r\n    },\r\n\r\n    getAllReportsByInspectorId: (token, inspector_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createReport: (token, inspector_id, place_id, sign_id, date, value) => {\r\n        const data = {inspector_id, place_id, sign_id, date, value};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/reports';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateReportById: (token, id, value) => {\r\n        const data = {value};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllDataByMeterId: (token, meter_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/data?meter_id=${meter_id || \"\"}&offset=${offset}&limit=${limit}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountDatas: (token, meter_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/data/count?meter_id=${meter_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createData: (token, meter_id, date, value) => {\r\n        const data = {date, value, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/data';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createSign: (token, data) => {\r\n        const formData = new FormData();\r\n        formData.append('sign', data, `sing-${Date.now()}.png`);\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                // 'Content-Type': 'multipart/form-data',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: formData\r\n        };\r\n        const url = 'api/v1/signs';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteSignById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/signs/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    sendReport: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/reports/${id}/sendEmail`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/registers`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createRegister: (token, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = 'api/v1/registers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateRegisterById: (token, id, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    downloadXlsxRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/registers/${id}/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    downloadXlsxAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `api/v1/registers/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    act_01: {\r\n        getAll: (token, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01?limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        count: (token, inspector_id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/count?inspector_id=${inspector_id || \"\"}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getPdfById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/pdf',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                responseType: 'blob'\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}/pdf`;\r\n            return fetch(url, opt)\r\n                .then(response => response.blob())\r\n                .then(blob => saveAs(blob, `act-${Date.now()}.pdf`));\r\n        },\r\n    \r\n        getAllByInspectorId: (token, inspector_id, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        create: (token, inspector, consumer, place, meter, sign_id, date, value) => {\r\n            const data = {inspector, consumer, place, meter, sign_id, date, value};\r\n            const opt = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = 'api/v1/doc/act_01';\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        updateById: (token, id, value) => {\r\n            const data = {value};\r\n            const opt = {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        deletetById: (token, id) => {\r\n            const opt = {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n\r\n        sendEmailById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `api/v1/doc/act_01/${id}/sendEmail`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    },\r\n\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavLink = props => {\r\n  const onClickBack = e => {\r\n    e.preventDefault();\r\n    props.history.goBack();\r\n  };\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <Link className=\"nav-link\" to=\"/back\" onClick={onClickBack}>Назад</Link>\r\n      {\r\n        props.children\r\n      }\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavLink;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nconst UserChangePassword = props => {\r\n  let password, confirmPassword;\r\n  const user = props.user\r\n  const onClickSave = e => {\r\n    e.preventDefault();\r\n    if (password.value === confirmPassword.value) {\r\n      api.changeUserPassword(user.token, user.id, password.value)\r\n        .then(done => {\r\n          if (done) {\r\n            props.showSuccessAlert('Пароль изменен');\r\n            props.history.goBack();\r\n          }\r\n          else {\r\n            props.showWarningAlert('Неудалось изменить пароль');\r\n          }\r\n        })\r\n        .catch(({error}) => {\r\n          props.showWarningAlert(error.message);\r\n        });\r\n    }\r\n    else {\r\n      props.showWarningAlert('Пароли не совпадают');\r\n    }\r\n  };\r\n  if (user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Смена пароля</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Новый пароль\" required ref={r => password = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default UserChangePassword;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/owner/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-tie\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/inspectors\">Инспекторы</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/consumers\">Потребители</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/meters\">Счетчики</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/registers\">Реестры</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 text-center\">\r\n                    <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nclass Owner extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            alert: null\r\n        }\r\n    }\r\n\r\n    // componentWillMount() {\r\n    //     if (!this.state.user) {\r\n    //         this.props.history.push('/login');\r\n    //     }\r\n    // }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        console.log('OWNER', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Owner);\r\n","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst OwnerInfo = props => {\r\n  if (props.user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}>\r\n          <Link className=\"nav-link\" to={`/owner/user/changePassword`}>Поменять пароль</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Роль</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.role}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default OwnerInfo;","import React from 'react';\r\n\r\nconst ProgressBar = props => {\r\n  const {message, large} = props;\r\n  return (\r\n    <div className=\"progress\" style={ large ? {height: '2.5rem'} : {height: '3px'}}>\r\n      <div className=\"progress-bar progress-bar-striped progress-bar-animated text-center\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{width: \"100%\"}}>\r\n        {\r\n          message\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspectors: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountInspectors(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const inspectors = await api.getAllInspectors(token, limit, offset);\r\n        this.setState({ ...this.state, inspectors, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/inspectors/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table inspectors={this.state.inspectors}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {inspectors} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Login</th>\r\n            <th scope=\"col\" className=\"text-center\">Name</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n            inspectors && inspectors.map(inspector => <TableRow key={`${inspector.id}-${inspector.name}`} inspector={inspector}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {inspector} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n      <Link to={`/owner/inspectors/${inspector.id}`}>{inspector.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{inspector.login}</td>\r\n      <td className=\"text-center\">{inspector.name}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InspectorList;","import React, {Component} from 'react';\r\n\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorCreate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleInspectorCreate = (login, password, name) => {\r\n    const token = this.state.user.token;\r\n    this.setState({...this.state, isProcessing: true});\r\n    api.createInspector(token, login, password, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.setAlert('warning', error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    let login, password, confirmPassword, name;\r\n\r\n    const onClickCreateInspector = e => {\r\n      e.preventDefault();\r\n      if (password.value !== confirmPassword.value) {\r\n        this.props.setAlert('warning', 'Не верный пароль');\r\n      }\r\n      else {\r\n        this.handleInspectorCreate(login.value, password.value, name.value);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <NavBar {...this.props}/>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n              <div className=\"text-center font-weight-bold mb-5\">\r\n                  <h3>Добавить инспектора</h3>\r\n              </div>\r\n              <form>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r}/>\r\n                </div>\r\n                {\r\n                  this.state.isProcessing ?\r\n                    <ProgressBar message={'Обработка...'} large={true}/> :\r\n                    <div className=\"form-group\">\r\n                      <button className=\"btn btn-primary btn-block\" onClick={onClickCreateInspector}>Создать</button>\r\n                    </div>\r\n                }\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    api.getInspectorById(this.state.user.token, this.state.inspector.id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert(error.message);\r\n          });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { inspector } = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/delete`}>Удалить</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Инспектор</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Имя</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.name}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoding: false,\r\n      isLoaded: false,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.setState({...this.state, isLoding: true});\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({ ...this.state, isLoaded: true }, () => {\r\n            //this.props.setAlert('warning', 'Inspector not found');\r\n            this.props.showWarningAlert('Inspector not found');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({ ...this.state, isLoaded: true }, () => {\r\n          //this.props.setAlert('warning', error.message);\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateInspector = name => {\r\n    if (!name) {\r\n      return this.props.showWarningAlert('Неправильное имя инспектора');\r\n    }\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.updateInspectorById(token, inspector_id, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Имя инспектора успешно изменено');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    const { inspector } = this.state;\r\n    let name;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateInspector(name.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить имя инспектора</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r} defaultValue={inspector.name} />\r\n              </div>\r\n              {\r\n                this.state.isProcessing ?\r\n                  <ProgressBar message={'Обработка...'} large={true} /> :\r\n                  <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                  </div>\r\n              }\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (!inspector) throw new Error({error: {message: 'Inspector not found'}});\r\n        this.setState({...this.state, inspector, isLoaded: true});\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n          this.props.history.goBack();\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    this.setState({...this.state, isLoaded: false});\r\n    api.deleteInspectorById(token, inspector_id)\r\n      .then(result => {\r\n        if (result && result.done) {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showSuccessAlert('Инспектор удален');\r\n            this.props.history.go(-2);\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message)\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const {inspector} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить инспектора ${inspector.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorDelete;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass ConsumerList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumers: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountConsumers(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const consumers = await api.getAllConsumers(token, limit, offset);\r\n        this.setState({ ...this.state, consumers, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/consumers/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table consumers={this.state.consumers}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {consumers} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Логин</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Email</th>\r\n            <th scope=\"col\" className=\"text-center\">Телефон</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n              consumers && consumers.map(consumer => <TableRow key={`${consumer.id}-${consumer.login}-${consumer.name}-${consumer.email}`} consumer={consumer}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {consumer} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\"><Link to={`/owner/consumers/${consumer.id}`}>{consumer.id}</Link></td>\r\n      <td className=\"text-center\">{consumer.login}</td>\r\n      <td className=\"text-center\">{consumer.name}</td>\r\n      <td className=\"text-center\">{consumer.email}</td>\r\n      <td className=\"text-center\"><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ConsumerList;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst GoBackLink = props => <Link className=\"nav-link\" to='/back' onClick={e => {e.preventDefault(); props.history.goBack();}}>Назад</Link>;\r\n\r\nexport default GoBackLink;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    handleCreateConsumer = (login, password, name, email, phone) => {\r\n        const token = this.state.user.token;\r\n        this.setState({ ...this.state, isLoaded: false });\r\n        api.createConsumer(token, login, password, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showSuccessAlert('Потребитель добавлен');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не добавлен');\r\n                    this.setState({ ...this.state, isLoaded: true });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.setState({ ...this.state, isLoaded: true });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n    }\r\n\r\n    render() {\r\n        let login, password, confirmPassword, name, email, phone;\r\n\r\n        const onClickCreateConsumer = e => {\r\n            e.preventDefault();\r\n            if (!login || !password || !confirmPassword || !name || !email) {\r\n                return this.showWarningAlert('Некорректрые данные в форме');\r\n            }\r\n            if (password.value === confirmPassword.value) {\r\n                this.handleCreateConsumer(login.value, password.value, name.value, email.value, phone.value);\r\n            }\r\n            else {\r\n                this.props.showWarningAlert('Пароли не совпадают');\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    !this.state.isLoaded && <ProgressBar />\r\n                }\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить потребителя</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required ref={r => email = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Номер телефона\" required ref={r => phone = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreateConsumer}>Создать</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Потребитель не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        const { consumer } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Потребитель</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.login}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Email</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.email}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ConsumerInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass ConsumerUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleUpdateConsumer = (name, email, phone) => {\r\n        if (!name || !email) {\r\n            return this.props.showWarningAlert('Некорректные данные в форме');\r\n        }\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.updateConsumerById(token, consumer_id, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.props.showSuccessAlert('Потребитель успешно изменен');\r\n                    this.props.history.goBack();\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Неудалось изменить потребителя')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { consumer } = this.state;\r\n        let name, email, phone;\r\n        const onClickUpdateConsumer = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateConsumer(name.value, email.value, phone.value);\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}/>\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-5\">\r\n                            <h3>Редактировать потребителя</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required autoFocus defaultValue={consumer.name} ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required defaultValue={consumer.email} ref={r => email = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Email\" required defaultValue={consumer.phone} ref={r => phone = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateConsumer}>Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ConsumerDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumer: {\r\n        id: props.match.params.consumer_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.getConsumerById(token, consumer_id)\r\n      .then(consumer => {\r\n        if (consumer) {\r\n          this.setState({...this.state, consumer});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Потребитель не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.deleteConsumerById(token, consumer_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Потребитель удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {consumer} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить потребителя ${consumer.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ConsumerDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass MeterList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meters: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountMeters(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const meters = await api.getAllMeters(token, limit, offset);\r\n        this.setState({ ...this.state, meters, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to=\"/owner/meters/create\">Добавить</Link>\r\n        </NavBar>\r\n        <Table meters={this.state.meters} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { meters } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Number</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            meters && meters.map(meter => <TableRow key={`${meter.id}-${meter.number}`} meter={meter} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { meter } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/meters/${meter.id}`}>{meter.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{meter.number}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default MeterList;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterLink extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleCreateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.props.user.token;\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    api.createMeter(token, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Счетчик добавлен');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Неудалось добавить счетчик');\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const onClickCreate = e => {\r\n      e.preventDefault();\r\n      this.handleCreateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcessing ? \r\n                    <ProgressBar message={'Создание счетчика...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterLink;","import dateformat from 'dateformat';\r\n\r\nexport const parseDate = date => {\r\n    if (!date) return null;\r\n    const tmp = date.split('T');\r\n    const tmpDate = tmp[0].split('-');\r\n    const tmpTime = tmp[1].split(':');\r\n    return `${tmpDate.join('-')} ${tmpTime[0]}:${tmpTime[1]}:${tmpTime[2].split('.')[0]}`;\r\n};\r\n\r\nexport const toDate = date => {\r\n    return new Date(date);\r\n}\r\n\r\nexport const formatDate = date => {\r\n    const tmp = new Date(date);\r\n    const year = tmp.getFullYear();\r\n    const month = tmp.getMonth() + 1;\r\n    const day = tmp.getDate();\r\n    const hour = tmp.getHours();\r\n    const minutes = tmp.getMinutes();\r\n    const seconds = tmp.getSeconds();\r\n    return `${year}-${month < 9 ? `0${month}` : month}-${day} ${hour}:${minutes}:${seconds}`;\r\n};\r\n\r\nexport const prettyDate = date => {\r\n    const datePattern = 'dd.mm.yyyy HH:MM:ss';\r\n    return dateformat(new Date(date), datePattern);\r\n}\r\n\r\nexport const strBase64ToBin = strBase64 => {\r\n    const blobBin = atob(strBase64.split(',')[1]);\r\n    let array = [];\r\n    for (let i = 0; i < blobBin.length; i++) {\r\n        array.push(blobBin.charCodeAt(i));\r\n    }\r\n    const file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n    return file;\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      },\r\n      datas: [],\r\n      limit: 15,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  loadItems = (meter, pageNumber) => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountDatas(token, meter.id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const datas = await api.getAllDataByMeterId(token, meter.id, limit, offset);\r\n        this.setState({ ...this.state, meter, datas, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, meter, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          // api.getAllDataByMeterId(token, meter_id)\r\n          //   .then(datas => {\r\n          //     if (datas) {\r\n          //       this.setState({ ...this.state, meter, datas, isLoaded: true});\r\n          //     }\r\n          //     else {\r\n          //       this.setState({ ...this.state, meter, isLoaded: true});\r\n          //     }\r\n          //   })\r\n          //   .catch(({ error }) => {\r\n          //       this.props.showWarningAlert(error.message);\r\n          //       this.props.history.goBack();\r\n          //   });\r\n          return Promise.resolve()\r\n            .then(this.loadItems(meter, this.state.activePage))\r\n            .catch(({ error }) => {\r\n              this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.meter, pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { meter } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/delete`}>Удалить</Link>\r\n          {/* <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/addData`}>Добавить показания</Link> */}\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Счетчик</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Номер</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.number}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <h3 className=\"text-center mb-2\">Показания</h3>\r\n        <Table datas={this.state.datas} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { datas } = props;\r\n  return (\r\n    <table className=\"table table-bordered table-hover table-sm\">\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\" className=\"text-center\">Дата</th>\r\n          <th scope=\"col\" className=\"text-center\">Показание</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody style={{ fontSize: '0.85rem' }}>\r\n        {\r\n          datas && datas.map(data => <TableRow key={`${data.id}-${data.date}`} data={data} />)\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { data } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">{prettyDate(data.date)}</td>\r\n      <td className=\"text-center\">{data.value}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default MeterInfo;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterUpdate extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.updateMeterById(token, meter_id, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик успешно изменен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert(\"Неудалось изменить счетчик\");\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const {meter} = this.state;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Редактировать счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r} defaultValue={meter.number}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass MeterDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.deleteMeterById(token, meter_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Счетчик удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {meter} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить счетчик ${meter.number}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MeterDelete;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport {formatDate} from '../../lib/helpers';\r\n\r\nconst MeterAddData = props => {\r\n  const token = props.user.token;\r\n  const meter_id = props.match.params.meter_id;\r\n  let val;\r\n  const onClickAdd = e => {\r\n    e.preventDefault();\r\n    if (!val.value) {\r\n      props.showWarningAlert(\"Не корректные показания счетчика\");\r\n      return;\r\n    }\r\n    const date = formatDate(Date.now());\r\n    console.log(meter_id, date, val.value);\r\n    api.createData(token, meter_id, date, val.value)\r\n      .then(data => {\r\n        if (data) {\r\n          props.showSuccessAlert('Показания добавлены');\r\n          props.history.goBack();\r\n        }\r\n        else {\r\n          props.showWarningAlert('Неудалось добавить показания счетчика');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"container justify-content-center\">\r\n      <NavBar {...props}/>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n          <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить показание счетчика</h3>\r\n          </div>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input className=\"form-control\" type=\"text\" placeholder=\"Показание, кВт\" required autoFocus ref={r => val = r}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button className=\"btn btn-primary btn-block\" onClick={onClickAdd}>Добавить</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeterAddData;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass PlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const places = await api.getAllPlaces(token, limit, offset);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/places/create`}>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Подпись</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/places/${place.id}`}>{place.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{place.name}</td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.consumer ? <Link to={`/owner/consumers/${place.consumer.id}`}>{place.consumer.name}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.meter ? <Link to={`/owner/meters/${place.meter.id}`}>{place.meter.number}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">{place.isSignNeed ? 'Да' : 'Нет'}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default PlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: meters || [],\r\n                        consumers: consumers || []\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleCreatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n        this.setState({...this.state, isProcess: true});\r\n        const token = this.state.user.token;\r\n        api.createPlace(token, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    //this.props.showSuccessAlert('Место добавлено');\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Не удалось добавить новое место');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const onClickCreate = e => {\r\n            e.preventDefault();\r\n            this.handleCreatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Создание...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceCreate;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport {Link} from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport {prettyDate} from '../../lib/helpers';\r\n\r\nclass PlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({...this.state, place, isLoaded: true});\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({error}) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        const {place} = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const place_id = this.state.place.id;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    const place = await api.getPlaceById(token, place_id);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: place.meter ? [...meters, place.meter] : meters,\r\n                        consumers: consumers || [],\r\n                        place\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleUpdatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.updatePlaceById(token, place_id, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Место сохранено');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Место не сохранено');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const { place } = this.state;\r\n        const onClickUpdate = e => {\r\n            e.preventDefault();\r\n            this.handleUpdatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus defaultValue={place.name} ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r} defaultValue={place.meter ? place.meter.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r} defaultValue={place.consumer ? place.consumer.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} defaultChecked={place.isSignNeed} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Изменение...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickUpdate}>Сохранить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass PlaceDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({ ...this.state, place, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Место не найдено');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.deletePlaceById(token, place_id)\r\n            .then(done => {\r\n                if (done) {\r\n                    this.props.showSuccessAlert('Место удалено');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { place } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить место ${place.name}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      //const result = await api.getCountReports(token);\r\n      const result = await api.act_01.count(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReports(token, limit, offset);\r\n        const acts = await api.act_01.getAll(token, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OwnerReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    downloadPdf = id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(act.date)}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSignId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date !== null ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date !== null ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_value !== null && act.last_value !== null ? act.current_value - act.last_value : (\r\n                                                act.current_value !== null ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default OwnerReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      act: {\r\n        id: props.match.params.id\r\n      },\r\n      isLoaded: false,\r\n      isProcess: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.getReportById(token, report_id)\r\n    api.act_01.getById(token, id)\r\n      .then(act => {\r\n        if (act) {\r\n          this.setState({ ...this.state, act, isLoaded: true });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Отчет не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateReport = value => {\r\n    const { act } = this.state;\r\n    if (Number.isNaN(value) || value < 0) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    if ((act.last_value !== null || act.last_value !== undefined) && (value < Number(act.last_value))) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.updateReportById(token, report_id, value)\r\n    this.setState({...this.state, isProcess: true});\r\n    api.act_01.updateById(token, id, value)\r\n      .then(result => {\r\n        if (!result || !result.done) {\r\n          this.setState({...this.state, isProcess: false}, () => {\r\n            this.props.showWarningAlert('Неудалось изменить отчет');\r\n          });\r\n        }\r\n        else {\r\n          //api.sendReport(token, report_id)\r\n          api.act_01.sendEmailById(token, id)\r\n            .then(done => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showSuccessAlert('Отчет изменен и отправлен.');\r\n                this.props.history.goBack();\r\n              });\r\n            })\r\n            .catch(({ error }) => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(\"Отчет изменен, но не отправлен. \\n\" + error.message);\r\n                this.props.history.goBack();\r\n              });\r\n            });\r\n        }\r\n\r\n        // if (result && result.done) {\r\n        //   this.props.showSuccessAlert('Показания счетчика изменены');\r\n        //   this.props.history.goBack();\r\n        // }\r\n        // else {\r\n        //   this.props.showWarningAlert('Показания не изменены');\r\n        // }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcess: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    const { act } = this.state;\r\n    let val;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateReport(val.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить показания</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"number\" placeholder=\"Показания счетчика\" required ref={r => val = r} defaultValue={act.current_value} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcess ?\r\n                    <ProgressBar message={'Изменение показаний...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ReportUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ReportDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        //api.getReportById(token, report_id)\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.deletetById(token, id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Отчет удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { act: { id } } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить отчет № ${id}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default ReportDelete;","import React, { Component } from 'react';\r\n//import api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nclass RegisterList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            registers: [],\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllRegisters(token)\r\n            .then(registers => {\r\n                if (registers) {\r\n                    this.setState({...this.state, registers, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Реестры не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                })\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    downloadXlsxAllRegisters = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxAllRegisters(token)\r\n            .catch(({error}) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to='/owner/registers/create'>Добавить</Link>\r\n                </NavBar>\r\n                <Table registers={this.state.registers} downloadXlsx={this.downloadXlsx} downloadXlsxAllRegisters={this.downloadXlsxAllRegisters}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { registers } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center\">Название</th>\r\n                        <th scope=\"col\" className=\"text-center\">Групповой абонент</th>\r\n                        <th className=\"text-center\"><a className=\"text-light\" onClick={props.downloadXlsxAllRegisters} href={`api/v1/registers/xlsx`} download={`register-all-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        registers && registers.map(register => <TableRow key={`${register.id}`} register={register} downloadXlsx={props.downloadXlsx}/>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { register } = props;\r\n    return (\r\n        <tr>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.id}</Link></td>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.name}</Link></td>\r\n            <td className=\"text-center\">\r\n                {\r\n                    register.group_abonent && <Link to={`/owner/places/${register.group_abonent.id}`}>{register.group_abonent.name}</Link>\r\n                }\r\n            </td>\r\n            <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadXlsx(register.id)} href={`api/v1/registers/${register.id}/xlsx`} download={`register-${register.id}-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default RegisterList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonentes: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllPlaces(token)\r\n            .then(places => {\r\n                if (places) {\r\n                    this.setState({ ...this.state, places, isLoaded: true })\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Места не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: true }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    handleCreateRegister = (name, group_abonent_id, sub_abonentes) => {\r\n        const token = this.state.user.token;\r\n        this.setState({...this.state, processing: true});\r\n        api.createRegister(token, name, group_abonent_id, sub_abonentes)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showSuccessAlert('Регистор создан');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showWarningAlert('Регистор не создан');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, processing: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        let name, group_abonent_id, sub_abonentes_select, sub_abonentes_list;\r\n\r\n        const onClickRegisterCreate = e => {\r\n            e.preventDefault();\r\n            //console.log(name.value, group_abonent_id.value);\r\n            this.handleCreateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonentes);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            //console.log(e);\r\n            console.log(typeof group_abonent_id.value, group_abonent_id.value);\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({...this.state, group_abonent_id: id});\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonentes_select.value);\r\n\r\n            this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, sub_abonentes_select.value]});\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            //console.log(sub_abonentes_select.list);\r\n            let sub = [];\r\n            const options = sub_abonentes_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, ...sub]});\r\n            }\r\n            //console.log(sub);\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonentes_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonentes = this.state.sub_abonentes\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({...this.state, sub_abonentes: [...sub_abonentes]});\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Создать регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonentes_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple  className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonentes_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing && <ProgressBar/>\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickRegisterCreate}>Создать</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass RegisterInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            consumptionGroup: 0,\r\n            consumptionSubs: 0,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    console.log(register);\r\n                    const consumptionGroup = calculateConsumptionGroup(register.group_abonent);\r\n                    const consumptionSubs = calculateConsumptionSub(register.sub_abonents);\r\n                    this.setState({ ...this.state, consumptionGroup, consumptionSubs, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Реестр не найден');\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error && err.error.message ? err.error.message : err);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to={`/api/v1/registers/${register.id}/xlsx`} onClick={this.downloadXlsx(register.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Реестр</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Групповой</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Субабоненты</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потери</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup - this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <h3 className=\"text-center\">Групповой абонент</h3>\r\n                <Table items={this.state.register.group_abonent ? [this.state.register.group_abonent] : []} />\r\n                <h3 className=\"text-center\">Субабоненты</h3>\r\n                <Table items={this.state.register.sub_abonents || []} />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { items } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Место</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребитель</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Счетчик</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Предыдущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Текущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребление</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        items && items.map(item => <TableRow key={item.id} item={item} />)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { item } = props;\r\n    if (!item) return null;\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">{item.id}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\"><Link to={`/owner/places/${item.id}`}>{item.name}</Link></td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.consumer && <Link to={`/owner/consumers/${item.consumer.id}`}>{item.consumer.name}</Link>\r\n                    }\r\n                </td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.meter && <Link to={`/owner/meters/${item.meter.id}`}>{item.meter.number}</Link>\r\n                    }\r\n                </td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? prettyDate(item.meter.data[1].date) : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? prettyDate(item.meter.data[0].date) : null}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        (() => {\r\n                            const last = item.meter && item.meter.data[1] ? item.meter.data[1].value : null;\r\n                            const curr = item.meter && item.meter.data[0] ? item.meter.data[0].value : null;\r\n                            return calculateConsumption(last, curr);\r\n                        })()\r\n                    }\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? item.meter.data[1].value : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? item.meter.data[0].value : null}</td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nconst calculateConsumption = (last, curr) => {\r\n    if (last && curr && !isNaN(last) && !isNaN(curr)) {\r\n        return curr - last;\r\n    }\r\n    else if (curr && !isNaN(curr)) {\r\n        return curr;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst calculateConsumptionGroup = (group_abonent) => {\r\n    if (!group_abonent) return null;\r\n    const { meter } = group_abonent;\r\n    const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n    const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n    return calculateConsumption(last, curr);\r\n};\r\n\r\nconst calculateConsumptionSub = (sub_abonents) => {\r\n    if (!sub_abonents) return null;\r\n    let consumption = 0;\r\n    sub_abonents.forEach(p => {\r\n        const { meter } = p;\r\n        const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n        const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n        const result = calculateConsumption(last, curr);\r\n        if (result !== null) consumption += result;\r\n    });\r\n    return consumption;\r\n};\r\n\r\nexport default RegisterInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonents: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        try {\r\n            const token = this.state.user.token;\r\n            const register_id = this.state.register.id;\r\n\r\n            const register = await api.getRegisterById(token, register_id);\r\n            const places = await api.getAllPlaces(token);\r\n\r\n            if (register && places) {\r\n                const group_abonent_id = register.group_abonent ? `${register.group_abonent.id}` : null;\r\n                const sub_abonents = register.sub_abonents ? register.sub_abonents.map(p => `${p.id}`) : [];\r\n                this.setState({ ...this.state, register, places, group_abonent_id: group_abonent_id, sub_abonents: sub_abonents, isLoaded: true });\r\n            } else {\r\n                throw new Error({ error: { error: { message: 'Не найден реестр или места' } } })\r\n            }\r\n        } catch ({ error }) {\r\n            this.setState({ ...this.state, isLoaded: true }, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleUpdateRegister = (name, group_abonent_id, sub_abonents) => {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        this.setState({ ...this.state, processing: true }, () => {\r\n            api.updateRegisterById(token, register_id, name, group_abonent_id, sub_abonents)\r\n                .then(result => {\r\n                    if (result && result.done) {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showSuccessAlert('Регистор именен');\r\n                            this.props.history.goBack();\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showWarningAlert('Регистор не изменен');\r\n                        });\r\n                    }\r\n                })\r\n                .catch(({ error }) => {\r\n                    this.setState({ ...this.state, processing: false }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        console.log(this.state);\r\n\r\n        let name, group_abonent_id, sub_abonents_select, sub_abonents_list;\r\n\r\n        const onClickUpdateRegister = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonents);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({ ...this.state, group_abonent_id: id });\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonents_select.value);\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, sub_abonents_select.value] });\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, ...sub] });\r\n            }\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonents = this.state.sub_abonents\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...sub_abonents] });\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Изменить регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} defaultValue={this.state.register.name} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent} defaultValue={this.state.register.group_abonent ? this.state.register.group_abonent.id : null}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonents_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonents_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing ? <ProgressBar message={'Обработка...'} large={true} /> :\r\n                                    <div className=\"form-group\">\r\n                                        <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateRegister}>Создать</button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass RegisterDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    this.setState({ ...this.state, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Реестр не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.deleteRegisterById(token, register_id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Реестр удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container pt-2\">\r\n                <div className=\"border p-5\">\r\n                    <div className=\"mb-5\">\r\n                        <p className=\"h3 text-center\">{`Удалить реестр ${register.name}?`}</p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"ml-5\">\r\n                            <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                        </div>\r\n                        <div className=\"mr-5\">\r\n                            <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RegisterDelete;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/inspector/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-secret\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 text-center\">\r\n                        <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass InspectorAppLayout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: {},\r\n            alert: null,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const user_id = this.state.user.id;\r\n        api.getInspectorByUserId(token, user_id)\r\n            .then(inspector => {\r\n                if (inspector) {\r\n                    this.setState({...this.state, inspector, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.props.handlerLogout();\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.props.handlerLogout();\r\n            });\r\n    }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user } = this.state;\r\n        console.log('INSPECTOR', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert, inspector: this.state.inspector})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorAppLayout;","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst InspectorUserInfo = props => {\r\n    const {user, inspector} = props;\r\n    return (\r\n        <div className=\"container justify-content-center\">\r\n            <NavBar {...props}>\r\n                <Link className=\"nav-link\" to={`/inspector/user/changePassword`}>Изменить пароль</Link>\r\n            </NavBar>\r\n            <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n            <div className=\"border-top border-bottom\">\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Логин</span> : <span>{user.login}</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Имя</span> : <span>{inspector.name}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InspectorUserInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: props.inspector,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const inspector_id = this.state.inspector.id;\r\n      //const result = await api.getCountReports(token, inspector_id);\r\n      const result = await api.act_01.count(token, inspector_id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReportsByInspectorId(token, inspector_id, limit, offset);\r\n        const acts = await api.act_01.getAllByInspectorId(token, inspector_id, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = act_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, act_id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/inspector/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      {/* <td className=\"text-center\">{prettyDate(item.date)}</td> */}\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default InspectorReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass InspectorReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const act_id = this.state.act.id;\r\n        api.act_01.getById(token, act_id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert('Отчет не найден');\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadPdf = act_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, act_id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/inspector/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(formatDate(act.date))}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSingId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_date && act.last_date ? act.current_value - act.last_value : (\r\n                                                act.current_date ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorPlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      pageLimit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      this.setState({...this.state, isLoaded: false});\r\n      const { user: { token }, pageLimit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const places = await api.getAllPlaces(token, pageLimit, (pageNumber - 1) * pageLimit);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/inspector/places/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.pageLimit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.pageLimit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-plus\"></i></th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '1rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr style={style(place)}>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}/addData`}><i className=\"text-secondary fas fa-plus\"></i></Link></td>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}`}>{place.name}</Link></td>\r\n      <td className=\"text-center\">{place.consumer ? place.consumer.name : null}</td>\r\n      <td className=\"text-center\">{place.meter ? place.meter.number : null}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst style = place => {\r\n  if (!place.meter) return { backgroundColor: '#b0bec5' };\r\n  if (place.meter) {\r\n    const { lastData } = place.meter;\r\n    if (lastData && (new Date(lastData.date)).getMonth() === (new Date(Date.now())).getMonth()) {\r\n      return { backgroundColor: '#ffab91' };\r\n    }\r\n    else {\r\n      return { backgroundColor: '#c5e1a5' }\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default InspectorPlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass InspectorPlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/addData`}>Добавить показания</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceInfo;","import React, { Component } from 'react';\r\n\r\nclass CanvasSign extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.touches = { x: [], y: [] };\r\n        this.brush = { color: 'black', size: 3 };\r\n        this.snapshot = null;\r\n        this.canvas = {\r\n            width: 300,\r\n            height: 300,\r\n            ref: React.createRef(),\r\n            refHidden: React.createRef()\r\n        };\r\n\r\n        this.ongoingTouches = [];\r\n    }\r\n\r\n    dX = () => this.canvas.ref.current.getBoundingClientRect().left + window.scrollX;\r\n\r\n    dY = () => this.canvas.ref.current.getBoundingClientRect().top + window.scrollY;\r\n\r\n    handlerTouchStart = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            this.ongoingTouches.push(this.copyTouch(touches[i]));\r\n            ctx.beginPath();\r\n            ctx.arc(touches[i].pageX - this.dX(), touches[i].pageY - this.dY(), this.brush.size / 2, 0, 2 * Math.PI, false);  // a circle at the start\r\n            ctx.fillStyle = this.brush.color;\r\n            ctx.fill();\r\n        }\r\n    };\r\n\r\n    handlerTouchMove = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.strokeStyle = this.brush.color;\r\n                ctx.stroke();\r\n                this.ongoingTouches.splice(idx, 1, this.copyTouch(touches[i]));  // swap in the new touch record\r\n            } else {\r\n                console.log(\"can't figure out which touch to continue\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handlerTouchEnd = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.fillStyle = this.brush.color;\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                //ctx.fillRect(touches[i].pageX - this.dX() - 4, touches[i].pageY - this.dY() - 4, 8, 8);  // and a square at the end\r\n                this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n            } else {\r\n                console.log(\"can't figure out which touch to end\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handleCancel = e => {\r\n        e.preventDefault();\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            const idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n        }\r\n    }\r\n\r\n    // colorForTouch = touch => {\r\n    //     let r = touch.identifier % 16;\r\n    //     let g = Math.floor(touch.identifier / 3) % 16;\r\n    //     let b = Math.floor(touch.identifier / 7) % 16;\r\n    //     r = r.toString(16); // make it a hex digit\r\n    //     g = g.toString(16); // make it a hex digit\r\n    //     b = b.toString(16); // make it a hex digit\r\n    //     const color = \"#\" + r + g + b;\r\n    //     console.log(\"color for touch with identifier \" + touch.identifier + \" = \" + color);\r\n    //     return color;\r\n    // }\r\n\r\n    copyTouch = touch => {\r\n        return { identifier: touch.identifier, pageX: touch.pageX, pageY: touch.pageY };\r\n    }\r\n\r\n    ongoingTouchIndexById = idToFind => {\r\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\r\n            const id = this.ongoingTouches[i].identifier;\r\n\r\n            if (id === idToFind) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;    // not found\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.addEventListener('touchstart', this.handlerTouchStart, false);\r\n        canvas.addEventListener('touchmove', this.handlerTouchMove, false);\r\n        canvas.addEventListener('touchcancel', this.handleCancel, false);\r\n        canvas.addEventListener('touchend', this.handlerTouchEnd, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.removeEventListener('touchstart', this.handlerTouchStart);\r\n        canvas.removeEventListener('touchmove', this.handlerTouchMove);\r\n        canvas.removeEventListener('touchcancel', this.handleCancel);\r\n        canvas.removeEventListener('touchend', this.handlerTouchEnd);\r\n    }\r\n\r\n    handleClear = e => {\r\n        e.preventDefault();\r\n        const ctx = this.canvas.ref.current.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <div className=\"border text-center mx-auto\">\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.ref} />\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.refHidden} style={{display: 'none'}} />\r\n                </div>\r\n                <button className=\"btn btn-warning btn-block\" onClick={this.handleClear}>Очистить</button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CanvasSign;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate, strBase64ToBin } from '../../lib/helpers';\r\nimport CanvasSign from '../CanvasSign';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorPlaceAddData extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: props.inspector,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            consumption: null,\r\n            isLoaded: false,\r\n            isProcess: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    handleCreateReport = async (value, signData) => {\r\n        console.log(value);\r\n        const { place } = this.state;\r\n        if (!place.meter) {\r\n            return this.props.showWarningAlert(\"Отсутствует счетчик\");\r\n        }\r\n        if (Number.isNaN(value)) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (place.meter && place.meter.lastData && (value < Number(place.meter.lastData.value))) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (this.state.place.isSignNeed && !signData) {\r\n            return this.props.showWarningAlert('Отсутствует подпись');\r\n        }\r\n\r\n        const token = this.state.user.token;\r\n        //const inspector_id = this.state.inspector.id;\r\n        const inspector = this.state.inspector.name;\r\n        //const place_id = this.state.place.id;\r\n        const placeName = this.state.place.name;\r\n        const consumer = this.state.place.consumer.name;\r\n        const meter = this.state.place.meter.number;\r\n        const date = formatDate(Date.now());\r\n        let sign_id = null;\r\n\r\n        let sign = null;\r\n        //let report = null;\r\n        let act = null;\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        try {\r\n            if (this.state.place.isSignNeed) {\r\n                sign = await api.createSign(token, signData);\r\n                sign_id = sign.id;\r\n            }\r\n            //report = await api.createReport(token, inspector_id, place_id, sign_id, date, value);\r\n            act = await api.act_01.create(token, inspector, consumer, placeName, meter, sign_id, date, value);\r\n        } catch ({error}) {\r\n            if (sign) api.deleteSignById(token, sign.id).then(() => {});\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!act) {\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert('Неудалось создать отчет');\r\n            });\r\n        }\r\n        else {\r\n            //api.sendReport(token, report.id)\r\n            console.log(act);\r\n            api.act_01.sendEmailById(token, act.id)\r\n                .then(done => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Отчет создан и отправлен.');\r\n                        this.props.history.goBack();\r\n                    });\r\n                })\r\n                .catch(({error}) => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert(\"Отчет создан, но не отправлен. \\n\" + error.message);\r\n                        this.props.history.goBack();\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let val, canvas;\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n\r\n        const onClickCreateReport = e => {\r\n            e.preventDefault();\r\n\r\n            if (!this.state.place.isSignNeed) {\r\n                return this.handleCreateReport(val.value, null);\r\n            }\r\n\r\n            const signData = canvas.canvas.ref.current.toDataURL();\r\n            const emptyDataSize = canvas.canvas.refHidden.current.toDataURL().length;\r\n            if (signData.length <= emptyDataSize) {\r\n                return this.props.showWarningAlert('Необходима подпись');\r\n            }\r\n            \r\n            const file = strBase64ToBin(signData);\r\n            this.handleCreateReport(val.value, file);\r\n        };\r\n\r\n        const onChangeValue = e => {\r\n            let consumption = null; \r\n            if (val.value <= 0) {\r\n                consumption = null;\r\n            }\r\n            else if (!this.state.place.meter) {\r\n                consumption = null;\r\n            }\r\n            else if (this.state.place.meter && !this.state.place.meter.lastData) {\r\n                consumption = val.value;\r\n            }\r\n            else {\r\n                consumption = val.value - Number(this.state.place.meter.lastData.value);    \r\n            }\r\n            this.setState({...this.state, consumption: consumption});\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\">\r\n                                    <div className=\"form-group my-0 p-0\">\r\n                                        <input className=\"form-control\" type=\"number\" placeholder=\"Текущие показания\" required ref={r => val = r} onChange={onChangeValue} />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={this.state.consumption === 0 ? 'table-warning' : (this.state.consumption > 0 ? 'table-success' : 'table-danger') }>\r\n                                <td><span className=\"font-weight-bold\">Потребление: </span></td>\r\n                                <td><span className=\"font-weight-bold text-right\">{this.state.consumption}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {/* <div className=\"input-group mb-3\">\r\n                    <div className=\"custom-file\">\r\n                        <input type=\"file\" className=\"custom-file-input\" />\r\n                        <label className=\"custom-file-label\">Фотография показаний</label>\r\n                    </div>\r\n                </div> */}\r\n                {\r\n                    place.isSignNeed &&\r\n                    <>\r\n                        <h5 className=\"text-center mb-2\">Подпись потребителя</h5>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                                <div className=\"my-2\">\r\n                                    <CanvasSign ref={r => canvas = r} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"form-group\">\r\n                        {\r\n                            this.state.isProcess ?\r\n                            <ProgressBar message=\"Создание отчета...\" large={true}/> :\r\n                            <button className=\"btn btn-primary btn-block\" onClick={onClickCreateReport}>Создать</button>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceAddData;","import React, { Component } from 'react';\r\nimport { withRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Login from '../Login';\r\n\r\nimport UserChangePassword from '../UserChangePassword';\r\n\r\nimport Owner from '../Owner';\r\nimport OwnerInfo from '../OwnerInfo';\r\n\r\n//import UserList from '../UserList';\r\n\r\nimport InspectorList from '../InspectorList';\r\nimport InspectorCreate from '../InspectorCreate';\r\nimport InspectorInfo from '../InspectorInfo';\r\nimport InspectorUpdate from '../InspectorUpdate';\r\nimport InspectorDelete from '../InspectorDelete';\r\n\r\nimport ConsumerList from '../ConsumerList';\r\nimport ConsumerCreate from '../ConsumerCreate';\r\nimport ConsumerInfo from '../ConsumerInfo';\r\nimport ConsumerUpdate from '../ConsumerUpdate';\r\nimport ConsumerDelete from '../ConsumerDelete';\r\n\r\nimport MeterList from '../MeterList';\r\nimport MeterCreate from '../MeterCreate';\r\nimport MeterInfo from '../MeterInfo';\r\nimport MeterUpdate from '../MeterUpdate';\r\nimport MeterDelete from '../MeterDelete';\r\nimport MeterAddData from '../MeterAddData';\r\n\r\nimport PlaceList from '../PlaceList';\r\nimport PlaceCreate from '../PlaceCreate';\r\nimport PlaceInfo from '../PlaceInfo';\r\nimport PlaceUpdate from '../PlaceUpdate';\r\nimport PlaceDelete from '../PlaceDelete';\r\n\r\nimport ReportList from '../ReportList';\r\nimport OwnerReportInfo from '../OwnerReportInfo';\r\nimport ReportUpdate from '../ReportUpdate';\r\nimport ReportDelete from '../ReportDelete';\r\n\r\nimport RegisterList from '../RegisterList';\r\nimport RegisterCreate from '../RegisterCreate';\r\nimport RegisterInfo from '../RegisterInfo';\r\nimport RegisterUpdate from '../RegisterUpdate';\r\nimport RegisterDelete from '../RegisterDelete';\r\n\r\nimport InspectorAppLayout from '../InspectorAppLayout';\r\nimport InspectorUserInfo from '../InspectorUserInfo';\r\nimport InspectorReportList from '../InspectorReportList';\r\nimport InspectorReportInfo from '../InspectorReportInfo';\r\nimport InspectorPlaceList from '../InspectorPlaceList';\r\nimport InspectorPlaceInfo from '../InspectorPlaceInfo';\r\nimport InspectorPlaceAddData from '../InspectorPlaceAddData';\r\n\r\n//import Consumer from '../Consumer';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: null,\r\n      alert: null\r\n    }\r\n\r\n  }\r\n\r\n  handlerLogout = () => {\r\n    this.props.history.index = -1;\r\n    this.props.history.push('/login');\r\n    let state = {};\r\n    Object.keys(this.state).forEach(key => {\r\n      state[key] = null;\r\n    });\r\n    this.setState({...state});\r\n  }\r\n\r\n  handlerlogin = (login, password) => {\r\n    if (!login || !password) {\r\n      this.setState({ ...this.state, alert: { type: 'warning', message: 'Incorrect login or password' } });\r\n      return;\r\n    }\r\n    api.login(login, password)\r\n      .then(user => {\r\n        this.setState({ ...this.state, user }, () => {\r\n          switch (user.role) {\r\n            case 'ADMIN': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'OWNER': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'INSPECTOR': {\r\n              this.props.history.push('/inspector');\r\n              break;\r\n            }\r\n            // case 'CONSUMER': {\r\n            //   this.props.history.push('/consumer');\r\n            //   break;\r\n            // }\r\n            default: {\r\n              this.props.history.push('/login');\r\n            }\r\n          }\r\n        });\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({ ...this.state, alert: { type: 'warning', message: error.message } })\r\n      });\r\n  }\r\n\r\n  handlerCloseAlert = () => {\r\n    this.setState({ ...this.state, alert: null });\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.history.push('/login');\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    console.log(\"APP\", user);\r\n    return (\r\n      <div>\r\n        <Switch>\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/login' render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n          <Route exact path='/owner' render={props => <Owner {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          <Route exact path='/inspector' render={props => <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          {/*<Route exact path='/consumer' render={props => <Consumer {...props} user={user} handlerLogout={this.handlerLogout} />} />*/}\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/inspector/user'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUserInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/user/changePassword'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/create'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/addData'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceAddData {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/user'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/user/changePassword'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/inspectors'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/consumers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/meters'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/addData'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterAddData {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/reports'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerReportInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/places'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/registers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n\r\n        </Switch>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {MemoryRouter} from 'react-router-dom';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap';\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\n\nimport App from './components/App';\n\nReactDOM.render(<MemoryRouter><App /></MemoryRouter>, document.getElementById('root'));"],"sourceRoot":""}