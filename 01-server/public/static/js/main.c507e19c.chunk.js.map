{"version":3,"sources":["img/logo.png","components/Alert/index.js","components/Login/index.js","lib/api.js","components/NavBar/index.js","components/UserChangePassword/index.js","components/Owner/components/Header/index.js","components/Owner/components/Footer/index.js","components/Owner/index.js","components/OwnerInfo/index.js","components/ProgressBar/index.js","components/InspectorList/index.js","components/InspectorCreate/index.js","components/InspectorInfo/index.js","components/InspectorUpdate/index.js","components/InspectorDelete/index.js","components/ConsumerList/index.js","components/GoBackLink/index.js","components/ConsumerCreate/index.js","components/ConsumerInfo/index.js","components/ConsumerUpdate/index.js","components/ConsumerDelete/index.js","components/MeterList/index.js","components/MeterCreate/index.js","lib/helpers.js","components/MeterInfo/index.js","components/MeterUpdate/index.js","components/MeterDelete/index.js","components/MeterAddData/index.js","components/PlaceList/index.js","components/PlaceCreate/index.js","components/PlaceInfo/index.js","components/PlaceUpdate/index.js","components/PlaceDelete/index.js","components/ReportList/index.js","components/OwnerReportInfo/index.js","components/ReportUpdate/index.js","components/ReportDelete/index.js","components/RegisterList/index.js","components/RegisterCreate/index.js","components/RegisterInfo/index.js","components/RegisterUpdate/index.js","components/RegisterDelete/index.js","components/InspectorAppLayout/components/Header/index.js","components/InspectorAppLayout/components/Footer/index.js","components/InspectorAppLayout/index.js","components/InspectorUserInfo/index.js","components/InspectorReportList/index.js","components/InspectorReportInfo/index.js","components/InspectorPlaceList/index.js","components/InspectorPlaceInfo/index.js","components/CanvasSign/index.js","components/InspectorPlaceAddData/index.js","components/App/index.js","index.js"],"names":["module","exports","__webpack_require__","p","Alert","props","type","message","handlerCloseAlert","onClickCloseAlert","e","preventDefault","console","log","react_default","a","createElement","className","role","style","zIndex","data-dismiss","aria-label","onClick","aria-hidden","Login","login","password","handlerLogin","minHeight","alert","components_Alert","position","top","href","src","logo","alt","width","height","left","right","bottom","placeholder","required","autoFocus","ref","r","value","api","data","opt","method","headers","Content-Type","body","JSON","stringify","fetch","then","res","promise","json","ok","err","getAllUsers","token","Authorization","concat","changeUserPassword","id","url","getAllInspectors","limit","offset","getCountInspectors","createInspector","name","getInspectorById","inspector_id","cache","getInspectorByUserId","user_id","updateInspectorById","deleteInspectorById","getAllConsumers","params","push","isNaN","join","getCountConsumers","createConsumer","email","phone","getConsumerById","updateConsumerById","deleteConsumerById","getAllMeters","getCountMeters","getAllMetersNotInPlace","createMeter","number","getMeterById","updateMeterById","deleteMeterById","getCountPlaces","getAllPlaces","getAllPlacesForAudit","createPlace","isSignNeed","consumer_id","meter_id","getPlaceById","updatePlaceById","deletePlaceById","getAllReports","getCountReports","getReportById","getReportByIdPdf","responseType","response","blob","saveAs","Date","now","getAllReportsByInspectorId","createReport","place_id","sign_id","date","updateReportById","deleteReportById","getAllDataByMeterId","getCountDatas","createData","createSign","formData","FormData","append","deleteSignById","sendReport","getAllRegisters","createRegister","group_abonent_id","sub_abonentes","getRegisterById","updateRegisterById","deleteRegisterById","downloadXlsxRegisterById","downloadXlsxAllRegisters","act_01","getAll","count","getById","getPdfById","getAllByInspectorId","create","inspector","consumer","place","meter","updateById","deletetById","sendEmailById","NavLink","Link","to","history","goBack","children","UserChangePassword","confirmPassword","user","components_NavBar","done","showSuccessAlert","showWarningAlert","catch","_ref","error","Header","handlerLogout","data-toggle","data-target","aria-controls","aria-expanded","Footer","Owner","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","objectSpread","state","setAlert","_this2","components_Header","React","Children","map","child","cloneElement","Owner_components_Footer","Component","withRouter","OwnerInfo","ProgressBar","large","aria-valuenow","aria-valuemin","aria-valuemax","InspectorList","loadItems","pageNumber","asyncToGenerator","regenerator_default","mark","_callee","_this$state","result","inspectors","wrap","_context","prev","next","sent","totalItemsCount","activePage","isLoaded","t0","stop","handlerChangePage","Promise","resolve","_ref3","_ref4","InspectorList_Table","Pagination_default","hideDisabled","itemsCountPerPage","innerClass","itemClass","linkClass","onChange","components_ProgressBar","Table","scope","fontSize","InspectorList_TableRow","key","TableRow","InspectorCreate","handleInspectorCreate","isProcessing","InspectorInfo","match","InspectorUpdate","handleUpdateInspector","isLoding","_ref2","_this3","defaultValue","InspectorDelete","handleClickYes","go","handleClickNo","Error","ConsumerList","consumers","ConsumerList_Table","ConsumerList_TableRow","GoBackLink","ConsumerCreate","handleCreateConsumer","ConsumerCreate_NavBar","NavBar","components_GoBackLink","ConsumerInfo","ConsumerUpdate","handleUpdateConsumer","ConsumerUpdate_NavBar","ConsumerDelete","MeterList","meters","MeterList_Table","MeterList_TableRow","MeterLink","handleCreateMeter","MeterCreate_NavBar","formatDate","tmp","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","prettyDate","dateformat","MeterInfo","datas","_ref5","MeterInfo_Table","MeterInfo_TableRow","MeterUpdate","handleUpdateMeter","MeterUpdate_NavBar","MeterDelete","MeterAddData","val","PlaceList","places","PlaceList_Table","PlaceList_TableRow","PlaceCreate","handleCreatePlace","isProcess","htmlFor","checked","PlaceInfo","colSpan","lastData","PlaceUpdate","handleUpdatePlace","toConsumableArray","defaultChecked","PlaceDelete","ReportList","acts","downloadPdf","ReportList_Table","items","item","ReportList_TableRow","current_value","download","OwnerReportInfo","act","assign","ConsumerSignId","last_date","last_value","current_date","ReportUpdate","handleUpdateReport","Number","undefined","ReportDelete","RegisterList","downloadXlsx","register_id","registers","RegisterList_Table","register","RegisterList_TableRow","group_abonent","RegisterCreate","handleCreateRegister","processing","report","sub_abonentes_select","sub_abonentes_list","filter","includes","toString","multiple","onDoubleClick","sub","options","i","length","selected","RegisterInfo","consumptionGroup","consumptionSubs","calculateConsumptionGroup","calculateConsumptionSub","sub_abonents","RegisterInfo_Table","RegisterInfo_TableRow","Fragment","rowSpan","last","curr","calculateConsumption","consumption","forEach","RegisterUpdate","componentDidMount","handleUpdateRegister","sub_abonents_select","sub_abonents_list","RegisterDelete","InspectorAppLayout","InspectorAppLayout_components_Header","components_InspectorAppLayout_components_Footer","InspectorUserInfo","InspectorReportList","act_id","InspectorReportList_Table","InspectorReportList_TableRow","InspectorReportInfo","ConsumerSingId","InspectorPlaceList","pageLimit","InspectorPlaceList_Table","InspectorPlaceList_TableRow","backgroundColor","InspectorPlaceInfo","CanvasSign","dX","canvas","current","getBoundingClientRect","window","scrollX","dY","scrollY","handlerTouchStart","ctx","document","getElementById","getContext","touches","changedTouches","ongoingTouches","copyTouch","beginPath","arc","pageX","pageY","brush","size","Math","PI","fillStyle","color","fill","handlerTouchMove","idx","ongoingTouchIndexById","identifier","moveTo","lineTo","lineWidth","strokeStyle","stroke","splice","handlerTouchEnd","handleCancel","touch","idToFind","handleClear","clearRect","x","y","snapshot","createRef","refHidden","addEventListener","removeEventListener","display","InspectorPlaceAddData","handleCreateReport","signData","placeName","sign","abrupt","_x","_x2","apply","arguments","components_CanvasSign","toDataURL","emptyDataSize","file","strBase64","blobBin","atob","split","array","charCodeAt","Blob","Uint8Array","strBase64ToBin","App","index","keys","handlerlogin","Switch","Route","exact","path","render","components_Login","components_Owner","components_InspectorAppLayout","components_InspectorUserInfo","components_UserChangePassword","components_InspectorPlaceList","components_PlaceCreate","components_InspectorPlaceInfo","components_PlaceUpdate","components_InspectorPlaceAddData","components_InspectorReportList","components_InspectorReportInfo","components_ReportUpdate","components_OwnerInfo","components_InspectorList","components_InspectorCreate","components_InspectorInfo","components_InspectorUpdate","components_InspectorDelete","components_ConsumerList","components_ConsumerCreate","components_ConsumerInfo","components_ConsumerUpdate","components_ConsumerDelete","components_MeterList","MeterCreate","components_MeterInfo","components_MeterUpdate","components_MeterDelete","components_MeterAddData","components_ReportList","components_OwnerReportInfo","components_ReportDelete","components_PlaceList","components_PlaceInfo","components_PlaceDelete","components_RegisterList","components_RegisterCreate","components_RegisterInfo","components_RegisterUpdate","components_RegisterDelete","ReactDOM","MemoryRouter","components_App"],"mappings":"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","file":"static/js/main.c507e19c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.6d69186a.png\";","import React from 'react';\r\n\r\nconst Alert = props => {\r\n    const { type, message } = props;\r\n    const { handlerCloseAlert } = props;\r\n    const onClickCloseAlert = e => {\r\n        e.preventDefault();\r\n        handlerCloseAlert();\r\n    }\r\n    console.log(type, message);\r\n    switch (type) {\r\n        \r\n        case \"warnig\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        case \"success\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-success fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        default: return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Alert;\r\n\r\n","import React from 'react';\r\nimport Alert from '../Alert';\r\nimport logo from '../../img/logo.png';\r\n\r\nconst Login = props => {\r\n    const { handlerLogin, handlerCloseAlert } = props;\r\n    let login, password;\r\n    const onClickLogin = e => {\r\n        e.preventDefault();\r\n        handlerLogin(login.value, password.value);\r\n    };\r\n    return (\r\n        <div style={{ minHeight: '480px' }}>\r\n            {props.alert && <Alert type={props.alert.type} message={props.alert.message} handlerCloseAlert={handlerCloseAlert} />}\r\n            <div className=\"fixed-top mb-3\" style={{ position: 'absolute', top: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 text-center\">\r\n                            <a href=\"http://instaservice.by\">\r\n                                <img src={logo} alt=\"Instaservice\" width=\"150px\" height=\"150px\" />\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"bg-light d-flex align-items-center\" style={{ position: 'absolute', top: '0', left: '0', right: '0', bottom: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Учет электроэнергии</h3>\r\n                            </div>\r\n                            <form className=\"\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Имя пользователя\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div>\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickLogin}>Вход</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"fixed-bottom mb-3\" style={{ position: 'absolute', bottom: '0' }}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 text-center\">\r\n                            <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import fetch from 'isomorphic-fetch';\r\nimport {saveAs} from 'file-saver';\r\n\r\nconst api = {\r\n    login: (login, password) => {\r\n        const data = {login, password};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/auth/login';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllUsers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/users';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    changeUserPassword: (token, id, password) => {\r\n        const data = {password};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/users/${id}/changePassword`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllInspectors: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountInspectors: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/inspectors/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createInspector: (token, login, password, name) => {\r\n        const data = {login, password, name};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/inspectors';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorById: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            cache: 'no-cache',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/${inspector_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorByUserId: (token, user_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/user/${user_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateInspectorById: (token, id, name) => {\r\n        const data = {name};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteInspectorById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllConsumers: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const params = [];\r\n        if (limit) params.push(`limit=${limit}`);\r\n        if (!isNaN(offset)) params.push(`offset=${offset}`);\r\n        const url = `/api/v1/consumers?${params.join('&')}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountConsumers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/consumers/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createConsumer: (token, login, password, name, email, phone) => {\r\n        const data = {login, password, name, email, phone};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/consumers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateConsumerById: (token, id, name, email, phone) => {\r\n        const data = {name, email, phone};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });  \r\n    },\r\n\r\n    getAllMeters: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountMeters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/meters/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllMetersNotInPlace: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/meters/notInPlace';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createMeter: (token, number) => {\r\n        const data = {number: number};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/meters';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateMeterById: (token, id, number) => {\r\n        const data = {number};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountPlaces: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/places/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlaces: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlacesForAudit: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/places/audit';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createPlace: (token, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/places';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getPlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updatePlaceById: (token, id, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deletePlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllReports: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountReports: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/count?inspector_id=${inspector_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportByIdPdf: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/pdf',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/reports/${id}/pdf`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `report-${Date.now()}.pdf`));\r\n    },\r\n\r\n    getAllReportsByInspectorId: (token, inspector_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createReport: (token, inspector_id, place_id, sign_id, date, value) => {\r\n        const data = {inspector_id, place_id, sign_id, date, value};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/reports';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateReportById: (token, id, value) => {\r\n        const data = {value};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllDataByMeterId: (token, meter_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/data?meter_id=${meter_id || \"\"}&offset=${offset}&limit=${limit}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountDatas: (token, meter_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/data/count?meter_id=${meter_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createData: (token, meter_id, date, value) => {\r\n        const data = {date, value, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/data';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createSign: (token, data) => {\r\n        const formData = new FormData();\r\n        formData.append('sign', data, `sing-${Date.now()}.png`);\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                // 'Content-Type': 'multipart/form-data',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: formData\r\n        };\r\n        const url = '/api/v1/signs';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteSignById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/signs/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    sendReport: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}/sendEmail`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createRegister: (token, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/registers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateRegisterById: (token, id, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    downloadXlsxRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/registers/${id}/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    downloadXlsxAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/registers/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    act_01: {\r\n        getAll: (token, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01?limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        count: (token, inspector_id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/count?inspector_id=${inspector_id || \"\"}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getPdfById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/pdf',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                responseType: 'blob'\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}/pdf`;\r\n            return fetch(url, opt)\r\n                .then(response => response.blob())\r\n                .then(blob => saveAs(blob, `act-${Date.now()}.pdf`));\r\n        },\r\n    \r\n        getAllByInspectorId: (token, inspector_id, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        create: (token, inspector, consumer, place, meter, sign_id, date, value) => {\r\n            const data = {inspector, consumer, place, meter, sign_id, date, value};\r\n            const opt = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = '/api/v1/doc/act_01';\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        updateById: (token, id, value) => {\r\n            const data = {value};\r\n            const opt = {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        deletetById: (token, id) => {\r\n            const opt = {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n\r\n        sendEmailById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}/sendEmail`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    },\r\n\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavLink = props => {\r\n  const onClickBack = e => {\r\n    e.preventDefault();\r\n    props.history.goBack();\r\n  };\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <Link className=\"nav-link\" to=\"/back\" onClick={onClickBack}>Назад</Link>\r\n      {\r\n        props.children\r\n      }\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavLink;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nconst UserChangePassword = props => {\r\n  let password, confirmPassword;\r\n  const user = props.user\r\n  const onClickSave = e => {\r\n    e.preventDefault();\r\n    if (password.value === confirmPassword.value) {\r\n      api.changeUserPassword(user.token, user.id, password.value)\r\n        .then(done => {\r\n          if (done) {\r\n            props.showSuccessAlert('Пароль изменен');\r\n            props.history.goBack();\r\n          }\r\n          else {\r\n            props.showWarningAlert('Неудалось изменить пароль');\r\n          }\r\n        })\r\n        .catch(({error}) => {\r\n          props.showWarningAlert(error.message);\r\n        });\r\n    }\r\n    else {\r\n      props.showWarningAlert('Пароли не совпадают');\r\n    }\r\n  };\r\n  if (user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Смена пароля</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Новый пароль\" required ref={r => password = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default UserChangePassword;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/owner/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-tie\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/inspectors\">Инспекторы</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/consumers\">Потребители</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/meters\">Счетчики</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/registers\">Реестры</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 text-center\">\r\n                    <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nclass Owner extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            alert: null\r\n        }\r\n    }\r\n\r\n    // componentWillMount() {\r\n    //     if (!this.state.user) {\r\n    //         this.props.history.push('/login');\r\n    //     }\r\n    // }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        console.log('OWNER', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Owner);\r\n","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst OwnerInfo = props => {\r\n  if (props.user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}>\r\n          <Link className=\"nav-link\" to={`/owner/user/changePassword`}>Поменять пароль</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Роль</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.role}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default OwnerInfo;","import React from 'react';\r\n\r\nconst ProgressBar = props => {\r\n  const {message, large} = props;\r\n  return (\r\n    <div className=\"progress\" style={ large ? {height: '2.5rem'} : {height: '3px'}}>\r\n      <div className=\"progress-bar progress-bar-striped progress-bar-animated text-center\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{width: \"100%\"}}>\r\n        {\r\n          message\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspectors: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountInspectors(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const inspectors = await api.getAllInspectors(token, limit, offset);\r\n        this.setState({ ...this.state, inspectors, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/inspectors/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table inspectors={this.state.inspectors}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {inspectors} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Login</th>\r\n            <th scope=\"col\" className=\"text-center\">Name</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n            inspectors && inspectors.map(inspector => <TableRow key={`${inspector.id}-${inspector.name}`} inspector={inspector}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {inspector} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n      <Link to={`/owner/inspectors/${inspector.id}`}>{inspector.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{inspector.login}</td>\r\n      <td className=\"text-center\">{inspector.name}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InspectorList;","import React, {Component} from 'react';\r\n\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorCreate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleInspectorCreate = (login, password, name) => {\r\n    const token = this.state.user.token;\r\n    this.setState({...this.state, isProcessing: true});\r\n    api.createInspector(token, login, password, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.setAlert('warning', error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    let login, password, confirmPassword, name;\r\n\r\n    const onClickCreateInspector = e => {\r\n      e.preventDefault();\r\n      if (password.value !== confirmPassword.value) {\r\n        this.props.setAlert('warning', 'Не верный пароль');\r\n      }\r\n      else {\r\n        this.handleInspectorCreate(login.value, password.value, name.value);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <NavBar {...this.props}/>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n              <div className=\"text-center font-weight-bold mb-5\">\r\n                  <h3>Добавить инспектора</h3>\r\n              </div>\r\n              <form>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r}/>\r\n                </div>\r\n                {\r\n                  this.state.isProcessing ?\r\n                    <ProgressBar message={'Обработка...'} large={true}/> :\r\n                    <div className=\"form-group\">\r\n                      <button className=\"btn btn-primary btn-block\" onClick={onClickCreateInspector}>Создать</button>\r\n                    </div>\r\n                }\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    api.getInspectorById(this.state.user.token, this.state.inspector.id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert(error.message);\r\n          });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { inspector } = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/delete`}>Удалить</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Инспектор</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Имя</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.name}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoding: false,\r\n      isLoaded: false,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.setState({...this.state, isLoding: true});\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({ ...this.state, isLoaded: true }, () => {\r\n            //this.props.setAlert('warning', 'Inspector not found');\r\n            this.props.showWarningAlert('Inspector not found');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({ ...this.state, isLoaded: true }, () => {\r\n          //this.props.setAlert('warning', error.message);\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateInspector = name => {\r\n    if (!name) {\r\n      return this.props.showWarningAlert('Неправильное имя инспектора');\r\n    }\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.updateInspectorById(token, inspector_id, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Имя инспектора успешно изменено');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    const { inspector } = this.state;\r\n    let name;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateInspector(name.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить имя инспектора</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r} defaultValue={inspector.name} />\r\n              </div>\r\n              {\r\n                this.state.isProcessing ?\r\n                  <ProgressBar message={'Обработка...'} large={true} /> :\r\n                  <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                  </div>\r\n              }\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (!inspector) throw new Error({error: {message: 'Inspector not found'}});\r\n        this.setState({...this.state, inspector, isLoaded: true});\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n          this.props.history.goBack();\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    this.setState({...this.state, isLoaded: false});\r\n    api.deleteInspectorById(token, inspector_id)\r\n      .then(result => {\r\n        if (result && result.done) {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showSuccessAlert('Инспектор удален');\r\n            this.props.history.go(-2);\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message)\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const {inspector} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить инспектора ${inspector.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorDelete;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass ConsumerList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumers: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountConsumers(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const consumers = await api.getAllConsumers(token, limit, offset);\r\n        this.setState({ ...this.state, consumers, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/consumers/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table consumers={this.state.consumers}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {consumers} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Логин</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Email</th>\r\n            <th scope=\"col\" className=\"text-center\">Телефон</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n              consumers && consumers.map(consumer => <TableRow key={`${consumer.id}-${consumer.login}-${consumer.name}-${consumer.email}`} consumer={consumer}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {consumer} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\"><Link to={`/owner/consumers/${consumer.id}`}>{consumer.id}</Link></td>\r\n      <td className=\"text-center\">{consumer.login}</td>\r\n      <td className=\"text-center\">{consumer.name}</td>\r\n      <td className=\"text-center\">{consumer.email}</td>\r\n      <td className=\"text-center\"><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ConsumerList;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst GoBackLink = props => <Link className=\"nav-link\" to='/back' onClick={e => {e.preventDefault(); props.history.goBack();}}>Назад</Link>;\r\n\r\nexport default GoBackLink;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    handleCreateConsumer = (login, password, name, email, phone) => {\r\n        const token = this.state.user.token;\r\n        this.setState({ ...this.state, isLoaded: false });\r\n        api.createConsumer(token, login, password, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showSuccessAlert('Потребитель добавлен');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не добавлен');\r\n                    this.setState({ ...this.state, isLoaded: true });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.setState({ ...this.state, isLoaded: true });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n    }\r\n\r\n    render() {\r\n        let login, password, confirmPassword, name, email, phone;\r\n\r\n        const onClickCreateConsumer = e => {\r\n            e.preventDefault();\r\n            if (!login || !password || !confirmPassword || !name || !email) {\r\n                return this.showWarningAlert('Некорректрые данные в форме');\r\n            }\r\n            if (password.value === confirmPassword.value) {\r\n                this.handleCreateConsumer(login.value, password.value, name.value, email.value, phone.value);\r\n            }\r\n            else {\r\n                this.props.showWarningAlert('Пароли не совпадают');\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    !this.state.isLoaded && <ProgressBar />\r\n                }\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить потребителя</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required ref={r => email = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Номер телефона\" required ref={r => phone = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreateConsumer}>Создать</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Потребитель не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        const { consumer } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Потребитель</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.login}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Email</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.email}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ConsumerInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass ConsumerUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleUpdateConsumer = (name, email, phone) => {\r\n        if (!name || !email) {\r\n            return this.props.showWarningAlert('Некорректные данные в форме');\r\n        }\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.updateConsumerById(token, consumer_id, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.props.showSuccessAlert('Потребитель успешно изменен');\r\n                    this.props.history.goBack();\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Неудалось изменить потребителя')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { consumer } = this.state;\r\n        let name, email, phone;\r\n        const onClickUpdateConsumer = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateConsumer(name.value, email.value, phone.value);\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}/>\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-5\">\r\n                            <h3>Редактировать потребителя</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required autoFocus defaultValue={consumer.name} ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required defaultValue={consumer.email} ref={r => email = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Email\" required defaultValue={consumer.phone} ref={r => phone = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateConsumer}>Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ConsumerDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumer: {\r\n        id: props.match.params.consumer_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.getConsumerById(token, consumer_id)\r\n      .then(consumer => {\r\n        if (consumer) {\r\n          this.setState({...this.state, consumer});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Потребитель не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.deleteConsumerById(token, consumer_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Потребитель удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {consumer} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить потребителя ${consumer.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ConsumerDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass MeterList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meters: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountMeters(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const meters = await api.getAllMeters(token, limit, offset);\r\n        this.setState({ ...this.state, meters, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to=\"/owner/meters/create\">Добавить</Link>\r\n        </NavBar>\r\n        <Table meters={this.state.meters} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { meters } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Number</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            meters && meters.map(meter => <TableRow key={`${meter.id}-${meter.number}`} meter={meter} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { meter } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/meters/${meter.id}`}>{meter.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{meter.number}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default MeterList;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterLink extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleCreateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.props.user.token;\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    api.createMeter(token, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Счетчик добавлен');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Неудалось добавить счетчик');\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const onClickCreate = e => {\r\n      e.preventDefault();\r\n      this.handleCreateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcessing ? \r\n                    <ProgressBar message={'Создание счетчика...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterLink;","import dateformat from 'dateformat';\r\n\r\nexport const parseDate = date => {\r\n    if (!date) return null;\r\n    const tmp = date.split('T');\r\n    const tmpDate = tmp[0].split('-');\r\n    const tmpTime = tmp[1].split(':');\r\n    return `${tmpDate.join('-')} ${tmpTime[0]}:${tmpTime[1]}:${tmpTime[2].split('.')[0]}`;\r\n};\r\n\r\nexport const toDate = date => {\r\n    return new Date(date);\r\n}\r\n\r\nexport const formatDate = date => {\r\n    const tmp = new Date(date);\r\n    const year = tmp.getFullYear();\r\n    const month = tmp.getMonth() + 1;\r\n    const day = tmp.getDate();\r\n    const hour = tmp.getHours();\r\n    const minutes = tmp.getMinutes();\r\n    const seconds = tmp.getSeconds();\r\n    return `${year}-${month < 9 ? `0${month}` : month}-${day} ${hour}:${minutes}:${seconds}`;\r\n};\r\n\r\nexport const prettyDate = date => {\r\n    const datePattern = 'dd.mm.yyyy HH:MM:ss';\r\n    return dateformat(new Date(date), datePattern);\r\n}\r\n\r\nexport const strBase64ToBin = strBase64 => {\r\n    const blobBin = atob(strBase64.split(',')[1]);\r\n    let array = [];\r\n    for (let i = 0; i < blobBin.length; i++) {\r\n        array.push(blobBin.charCodeAt(i));\r\n    }\r\n    const file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n    return file;\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      },\r\n      datas: [],\r\n      limit: 15,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  loadItems = (meter, pageNumber) => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountDatas(token, meter.id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const datas = await api.getAllDataByMeterId(token, meter.id, limit, offset);\r\n        this.setState({ ...this.state, meter, datas, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, meter, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          // api.getAllDataByMeterId(token, meter_id)\r\n          //   .then(datas => {\r\n          //     if (datas) {\r\n          //       this.setState({ ...this.state, meter, datas, isLoaded: true});\r\n          //     }\r\n          //     else {\r\n          //       this.setState({ ...this.state, meter, isLoaded: true});\r\n          //     }\r\n          //   })\r\n          //   .catch(({ error }) => {\r\n          //       this.props.showWarningAlert(error.message);\r\n          //       this.props.history.goBack();\r\n          //   });\r\n          return Promise.resolve()\r\n            .then(this.loadItems(meter, this.state.activePage))\r\n            .catch(({ error }) => {\r\n              this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.meter, pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { meter } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/delete`}>Удалить</Link>\r\n          {/* <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/addData`}>Добавить показания</Link> */}\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Счетчик</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Номер</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.number}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <h3 className=\"text-center mb-2\">Показания</h3>\r\n        <Table datas={this.state.datas} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { datas } = props;\r\n  return (\r\n    <table className=\"table table-bordered table-hover table-sm\">\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\" className=\"text-center\">Дата</th>\r\n          <th scope=\"col\" className=\"text-center\">Показание</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody style={{ fontSize: '0.85rem' }}>\r\n        {\r\n          datas && datas.map(data => <TableRow key={`${data.id}-${data.date}`} data={data} />)\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { data } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">{prettyDate(data.date)}</td>\r\n      <td className=\"text-center\">{data.value}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default MeterInfo;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterUpdate extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.updateMeterById(token, meter_id, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик успешно изменен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert(\"Неудалось изменить счетчик\");\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const {meter} = this.state;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Редактировать счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r} defaultValue={meter.number}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass MeterDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.deleteMeterById(token, meter_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Счетчик удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {meter} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить счетчик ${meter.number}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MeterDelete;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport {formatDate} from '../../lib/helpers';\r\n\r\nconst MeterAddData = props => {\r\n  const token = props.user.token;\r\n  const meter_id = props.match.params.meter_id;\r\n  let val;\r\n  const onClickAdd = e => {\r\n    e.preventDefault();\r\n    if (!val.value) {\r\n      props.showWarningAlert(\"Не корректные показания счетчика\");\r\n      return;\r\n    }\r\n    const date = formatDate(Date.now());\r\n    console.log(meter_id, date, val.value);\r\n    api.createData(token, meter_id, date, val.value)\r\n      .then(data => {\r\n        if (data) {\r\n          props.showSuccessAlert('Показания добавлены');\r\n          props.history.goBack();\r\n        }\r\n        else {\r\n          props.showWarningAlert('Неудалось добавить показания счетчика');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"container justify-content-center\">\r\n      <NavBar {...props}/>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n          <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить показание счетчика</h3>\r\n          </div>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input className=\"form-control\" type=\"text\" placeholder=\"Показание, кВт\" required autoFocus ref={r => val = r}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button className=\"btn btn-primary btn-block\" onClick={onClickAdd}>Добавить</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeterAddData;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass PlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const places = await api.getAllPlaces(token, limit, offset);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/places/create`}>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Подпись</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/places/${place.id}`}>{place.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{place.name}</td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.consumer ? <Link to={`/owner/consumers/${place.consumer.id}`}>{place.consumer.name}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.meter ? <Link to={`/owner/meters/${place.meter.id}`}>{place.meter.number}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">{place.isSignNeed ? 'Да' : 'Нет'}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default PlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: meters || [],\r\n                        consumers: consumers || []\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleCreatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n        this.setState({...this.state, isProcess: true});\r\n        const token = this.state.user.token;\r\n        api.createPlace(token, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    //this.props.showSuccessAlert('Место добавлено');\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Не удалось добавить новое место');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const onClickCreate = e => {\r\n            e.preventDefault();\r\n            this.handleCreatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Создание...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceCreate;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport {Link} from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport {prettyDate} from '../../lib/helpers';\r\n\r\nclass PlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({...this.state, place, isLoaded: true});\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({error}) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        const {place} = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const place_id = this.state.place.id;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    const place = await api.getPlaceById(token, place_id);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: place.meter ? [...meters, place.meter] : meters,\r\n                        consumers: consumers || [],\r\n                        place\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleUpdatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.updatePlaceById(token, place_id, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Место сохранено');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Место не сохранено');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const { place } = this.state;\r\n        const onClickUpdate = e => {\r\n            e.preventDefault();\r\n            this.handleUpdatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus defaultValue={place.name} ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r} defaultValue={place.meter ? place.meter.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r} defaultValue={place.consumer ? place.consumer.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} defaultChecked={place.isSignNeed} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Изменение...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickUpdate}>Сохранить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass PlaceDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({ ...this.state, place, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Место не найдено');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.deletePlaceById(token, place_id)\r\n            .then(done => {\r\n                if (done) {\r\n                    this.props.showSuccessAlert('Место удалено');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { place } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить место ${place.name}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      //const result = await api.getCountReports(token);\r\n      const result = await api.act_01.count(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReports(token, limit, offset);\r\n        const acts = await api.act_01.getAll(token, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OwnerReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    downloadPdf = id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(act.date)}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSignId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date !== null ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date !== null ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_value !== null && act.last_value !== null ? act.current_value - act.last_value : (\r\n                                                act.current_value !== null ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default OwnerReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      act: {\r\n        id: props.match.params.id\r\n      },\r\n      isLoaded: false,\r\n      isProcess: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.getReportById(token, report_id)\r\n    api.act_01.getById(token, id)\r\n      .then(act => {\r\n        if (act) {\r\n          this.setState({ ...this.state, act, isLoaded: true });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Отчет не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateReport = value => {\r\n    const { act } = this.state;\r\n    if (Number.isNaN(value) || value < 0) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    if ((act.last_value !== null || act.last_value !== undefined) && (value < Number(act.last_value))) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.updateReportById(token, report_id, value)\r\n    this.setState({...this.state, isProcess: true});\r\n    api.act_01.updateById(token, id, value)\r\n      .then(result => {\r\n        if (!result || !result.done) {\r\n          this.setState({...this.state, isProcess: false}, () => {\r\n            this.props.showWarningAlert('Неудалось изменить отчет');\r\n          });\r\n        }\r\n        else {\r\n          //api.sendReport(token, report_id)\r\n          api.act_01.sendEmailById(token, id)\r\n            .then(done => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showSuccessAlert('Отчет изменен и отправлен.');\r\n                this.props.history.goBack();\r\n              });\r\n            })\r\n            .catch(({ error }) => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(\"Отчет изменен, но не отправлен. \\n\" + error.message);\r\n                this.props.history.goBack();\r\n              });\r\n            });\r\n        }\r\n\r\n        // if (result && result.done) {\r\n        //   this.props.showSuccessAlert('Показания счетчика изменены');\r\n        //   this.props.history.goBack();\r\n        // }\r\n        // else {\r\n        //   this.props.showWarningAlert('Показания не изменены');\r\n        // }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcess: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    const { act } = this.state;\r\n    let val;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateReport(val.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить показания</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"number\" placeholder=\"Показания счетчика\" required ref={r => val = r} defaultValue={act.current_value} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcess ?\r\n                    <ProgressBar message={'Изменение показаний...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ReportUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ReportDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        //api.getReportById(token, report_id)\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.deletetById(token, id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Отчет удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { act: { id } } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить отчет № ${id}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default ReportDelete;","import React, { Component } from 'react';\r\n//import api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nclass RegisterList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            registers: [],\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllRegisters(token)\r\n            .then(registers => {\r\n                if (registers) {\r\n                    this.setState({...this.state, registers, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Реестры не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                })\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    downloadXlsxAllRegisters = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxAllRegisters(token)\r\n            .catch(({error}) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to='/owner/registers/create'>Добавить</Link>\r\n                </NavBar>\r\n                <Table registers={this.state.registers} downloadXlsx={this.downloadXlsx} downloadXlsxAllRegisters={this.downloadXlsxAllRegisters}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { registers } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center\">Название</th>\r\n                        <th scope=\"col\" className=\"text-center\">Групповой абонент</th>\r\n                        <th className=\"text-center\"><a className=\"text-light\" onClick={props.downloadXlsxAllRegisters} href={`api/v1/registers/xlsx`} download={`register-all-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        registers && registers.map(register => <TableRow key={`${register.id}`} register={register} downloadXlsx={props.downloadXlsx}/>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { register } = props;\r\n    return (\r\n        <tr>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.id}</Link></td>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.name}</Link></td>\r\n            <td className=\"text-center\">\r\n                {\r\n                    register.group_abonent && <Link to={`/owner/places/${register.group_abonent.id}`}>{register.group_abonent.name}</Link>\r\n                }\r\n            </td>\r\n            <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadXlsx(register.id)} href={`api/v1/registers/${register.id}/xlsx`} download={`register-${register.id}-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default RegisterList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonentes: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllPlaces(token)\r\n            .then(places => {\r\n                if (places) {\r\n                    this.setState({ ...this.state, places, isLoaded: true })\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Места не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: true }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    handleCreateRegister = (name, group_abonent_id, sub_abonentes) => {\r\n        const token = this.state.user.token;\r\n        this.setState({...this.state, processing: true});\r\n        api.createRegister(token, name, group_abonent_id, sub_abonentes)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showSuccessAlert('Регистор создан');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showWarningAlert('Регистор не создан');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, processing: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        let name, group_abonent_id, sub_abonentes_select, sub_abonentes_list;\r\n\r\n        const onClickRegisterCreate = e => {\r\n            e.preventDefault();\r\n            //console.log(name.value, group_abonent_id.value);\r\n            this.handleCreateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonentes);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            //console.log(e);\r\n            console.log(typeof group_abonent_id.value, group_abonent_id.value);\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({...this.state, group_abonent_id: id});\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonentes_select.value);\r\n\r\n            this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, sub_abonentes_select.value]});\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            //console.log(sub_abonentes_select.list);\r\n            let sub = [];\r\n            const options = sub_abonentes_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, ...sub]});\r\n            }\r\n            //console.log(sub);\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonentes_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonentes = this.state.sub_abonentes\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({...this.state, sub_abonentes: [...sub_abonentes]});\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Создать регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonentes_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple  className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonentes_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing && <ProgressBar/>\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickRegisterCreate}>Создать</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass RegisterInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            consumptionGroup: 0,\r\n            consumptionSubs: 0,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    console.log(register);\r\n                    const consumptionGroup = calculateConsumptionGroup(register.group_abonent);\r\n                    const consumptionSubs = calculateConsumptionSub(register.sub_abonents);\r\n                    this.setState({ ...this.state, consumptionGroup, consumptionSubs, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Реестр не найден');\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error && err.error.message ? err.error.message : err);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to={`/api/v1/registers/${register.id}/xlsx`} onClick={this.downloadXlsx(register.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Реестр</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Групповой</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Субабоненты</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потери</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup - this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <h3 className=\"text-center\">Групповой абонент</h3>\r\n                <Table items={this.state.register.group_abonent ? [this.state.register.group_abonent] : []} />\r\n                <h3 className=\"text-center\">Субабоненты</h3>\r\n                <Table items={this.state.register.sub_abonents || []} />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { items } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Место</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребитель</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Счетчик</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Предыдущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Текущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребление</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        items && items.map(item => <TableRow key={item.id} item={item} />)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { item } = props;\r\n    if (!item) return null;\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">{item.id}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\"><Link to={`/owner/places/${item.id}`}>{item.name}</Link></td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.consumer && <Link to={`/owner/consumers/${item.consumer.id}`}>{item.consumer.name}</Link>\r\n                    }\r\n                </td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.meter && <Link to={`/owner/meters/${item.meter.id}`}>{item.meter.number}</Link>\r\n                    }\r\n                </td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? prettyDate(item.meter.data[1].date) : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? prettyDate(item.meter.data[0].date) : null}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        (() => {\r\n                            const last = item.meter && item.meter.data[1] ? item.meter.data[1].value : null;\r\n                            const curr = item.meter && item.meter.data[0] ? item.meter.data[0].value : null;\r\n                            return calculateConsumption(last, curr);\r\n                        })()\r\n                    }\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? item.meter.data[1].value : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? item.meter.data[0].value : null}</td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nconst calculateConsumption = (last, curr) => {\r\n    if (last && curr && !isNaN(last) && !isNaN(curr)) {\r\n        return curr - last;\r\n    }\r\n    else if (curr && !isNaN(curr)) {\r\n        return curr;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst calculateConsumptionGroup = (group_abonent) => {\r\n    if (!group_abonent) return null;\r\n    const { meter } = group_abonent;\r\n    const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n    const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n    return calculateConsumption(last, curr);\r\n};\r\n\r\nconst calculateConsumptionSub = (sub_abonents) => {\r\n    if (!sub_abonents) return null;\r\n    let consumption = 0;\r\n    sub_abonents.forEach(p => {\r\n        const { meter } = p;\r\n        const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n        const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n        const result = calculateConsumption(last, curr);\r\n        if (result !== null) consumption += result;\r\n    });\r\n    return consumption;\r\n};\r\n\r\nexport default RegisterInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonents: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        try {\r\n            const token = this.state.user.token;\r\n            const register_id = this.state.register.id;\r\n\r\n            const register = await api.getRegisterById(token, register_id);\r\n            const places = await api.getAllPlaces(token);\r\n\r\n            if (register && places) {\r\n                const group_abonent_id = register.group_abonent ? `${register.group_abonent.id}` : null;\r\n                const sub_abonents = register.sub_abonents ? register.sub_abonents.map(p => `${p.id}`) : [];\r\n                this.setState({ ...this.state, register, places, group_abonent_id: group_abonent_id, sub_abonents: sub_abonents, isLoaded: true });\r\n            } else {\r\n                throw new Error({ error: { error: { message: 'Не найден реестр или места' } } })\r\n            }\r\n        } catch ({ error }) {\r\n            this.setState({ ...this.state, isLoaded: true }, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleUpdateRegister = (name, group_abonent_id, sub_abonents) => {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        this.setState({ ...this.state, processing: true }, () => {\r\n            api.updateRegisterById(token, register_id, name, group_abonent_id, sub_abonents)\r\n                .then(result => {\r\n                    if (result && result.done) {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showSuccessAlert('Регистор именен');\r\n                            this.props.history.goBack();\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showWarningAlert('Регистор не изменен');\r\n                        });\r\n                    }\r\n                })\r\n                .catch(({ error }) => {\r\n                    this.setState({ ...this.state, processing: false }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        console.log(this.state);\r\n\r\n        let name, group_abonent_id, sub_abonents_select, sub_abonents_list;\r\n\r\n        const onClickUpdateRegister = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonents);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({ ...this.state, group_abonent_id: id });\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonents_select.value);\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, sub_abonents_select.value] });\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, ...sub] });\r\n            }\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonents = this.state.sub_abonents\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...sub_abonents] });\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Изменить регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} defaultValue={this.state.register.name} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent} defaultValue={this.state.register.group_abonent ? this.state.register.group_abonent.id : null}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonents_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonents_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing ? <ProgressBar message={'Обработка...'} large={true} /> :\r\n                                    <div className=\"form-group\">\r\n                                        <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateRegister}>Создать</button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass RegisterDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    this.setState({ ...this.state, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Реестр не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.deleteRegisterById(token, register_id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Реестр удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container pt-2\">\r\n                <div className=\"border p-5\">\r\n                    <div className=\"mb-5\">\r\n                        <p className=\"h3 text-center\">{`Удалить реестр ${register.name}?`}</p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"ml-5\">\r\n                            <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                        </div>\r\n                        <div className=\"mr-5\">\r\n                            <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RegisterDelete;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/inspector/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-secret\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 text-center\">\r\n                        <span className=\"text-muted\"><a className=\"text-muted\" href=\"http://instaservice.by\">instaservice.by</a> © 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass InspectorAppLayout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: {},\r\n            alert: null,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const user_id = this.state.user.id;\r\n        api.getInspectorByUserId(token, user_id)\r\n            .then(inspector => {\r\n                if (inspector) {\r\n                    this.setState({...this.state, inspector, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.props.handlerLogout();\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.props.handlerLogout();\r\n            });\r\n    }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user } = this.state;\r\n        console.log('INSPECTOR', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert, inspector: this.state.inspector})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorAppLayout;","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst InspectorUserInfo = props => {\r\n    const {user, inspector} = props;\r\n    return (\r\n        <div className=\"container justify-content-center\">\r\n            <NavBar {...props}>\r\n                <Link className=\"nav-link\" to={`/inspector/user/changePassword`}>Изменить пароль</Link>\r\n            </NavBar>\r\n            <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n            <div className=\"border-top border-bottom\">\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Логин</span> : <span>{user.login}</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Имя</span> : <span>{inspector.name}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InspectorUserInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: props.inspector,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const inspector_id = this.state.inspector.id;\r\n      //const result = await api.getCountReports(token, inspector_id);\r\n      const result = await api.act_01.count(token, inspector_id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReportsByInspectorId(token, inspector_id, limit, offset);\r\n        const acts = await api.act_01.getAllByInspectorId(token, inspector_id, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = act_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, act_id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/inspector/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      {/* <td className=\"text-center\">{prettyDate(item.date)}</td> */}\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default InspectorReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass InspectorReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const act_id = this.state.act.id;\r\n        api.act_01.getById(token, act_id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert('Отчет не найден');\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadPdf = act_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, act_id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/inspector/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(formatDate(act.date))}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSingId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_date && act.last_date ? act.current_value - act.last_value : (\r\n                                                act.current_date ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorPlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      pageLimit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      this.setState({...this.state, isLoaded: false});\r\n      const { user: { token }, pageLimit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const places = await api.getAllPlaces(token, pageLimit, (pageNumber - 1) * pageLimit);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/inspector/places/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.pageLimit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.pageLimit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-plus\"></i></th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '1rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr style={style(place)}>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}/addData`}><i className=\"text-secondary fas fa-plus\"></i></Link></td>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}`}>{place.name}</Link></td>\r\n      <td className=\"text-center\">{place.consumer ? place.consumer.name : null}</td>\r\n      <td className=\"text-center\">{place.meter ? place.meter.number : null}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst style = place => {\r\n  if (!place.meter) return { backgroundColor: '#b0bec5' };\r\n  if (place.meter) {\r\n    const { lastData } = place.meter;\r\n    if (lastData && (new Date(lastData.date)).getMonth() === (new Date(Date.now())).getMonth()) {\r\n      return { backgroundColor: '#ffab91' };\r\n    }\r\n    else {\r\n      return { backgroundColor: '#c5e1a5' }\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default InspectorPlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass InspectorPlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/addData`}>Добавить показания</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceInfo;","import React, { Component } from 'react';\r\n\r\nclass CanvasSign extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.touches = { x: [], y: [] };\r\n        this.brush = { color: 'black', size: 3 };\r\n        this.snapshot = null;\r\n        this.canvas = {\r\n            width: 300,\r\n            height: 300,\r\n            ref: React.createRef(),\r\n            refHidden: React.createRef()\r\n        };\r\n\r\n        this.ongoingTouches = [];\r\n    }\r\n\r\n    dX = () => this.canvas.ref.current.getBoundingClientRect().left + window.scrollX;\r\n\r\n    dY = () => this.canvas.ref.current.getBoundingClientRect().top + window.scrollY;\r\n\r\n    handlerTouchStart = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            this.ongoingTouches.push(this.copyTouch(touches[i]));\r\n            ctx.beginPath();\r\n            ctx.arc(touches[i].pageX - this.dX(), touches[i].pageY - this.dY(), this.brush.size / 2, 0, 2 * Math.PI, false);  // a circle at the start\r\n            ctx.fillStyle = this.brush.color;\r\n            ctx.fill();\r\n        }\r\n    };\r\n\r\n    handlerTouchMove = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.strokeStyle = this.brush.color;\r\n                ctx.stroke();\r\n                this.ongoingTouches.splice(idx, 1, this.copyTouch(touches[i]));  // swap in the new touch record\r\n            } else {\r\n                console.log(\"can't figure out which touch to continue\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handlerTouchEnd = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.fillStyle = this.brush.color;\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                //ctx.fillRect(touches[i].pageX - this.dX() - 4, touches[i].pageY - this.dY() - 4, 8, 8);  // and a square at the end\r\n                this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n            } else {\r\n                console.log(\"can't figure out which touch to end\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handleCancel = e => {\r\n        e.preventDefault();\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            const idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n        }\r\n    }\r\n\r\n    // colorForTouch = touch => {\r\n    //     let r = touch.identifier % 16;\r\n    //     let g = Math.floor(touch.identifier / 3) % 16;\r\n    //     let b = Math.floor(touch.identifier / 7) % 16;\r\n    //     r = r.toString(16); // make it a hex digit\r\n    //     g = g.toString(16); // make it a hex digit\r\n    //     b = b.toString(16); // make it a hex digit\r\n    //     const color = \"#\" + r + g + b;\r\n    //     console.log(\"color for touch with identifier \" + touch.identifier + \" = \" + color);\r\n    //     return color;\r\n    // }\r\n\r\n    copyTouch = touch => {\r\n        return { identifier: touch.identifier, pageX: touch.pageX, pageY: touch.pageY };\r\n    }\r\n\r\n    ongoingTouchIndexById = idToFind => {\r\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\r\n            const id = this.ongoingTouches[i].identifier;\r\n\r\n            if (id === idToFind) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;    // not found\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.addEventListener('touchstart', this.handlerTouchStart, false);\r\n        canvas.addEventListener('touchmove', this.handlerTouchMove, false);\r\n        canvas.addEventListener('touchcancel', this.handleCancel, false);\r\n        canvas.addEventListener('touchend', this.handlerTouchEnd, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.removeEventListener('touchstart', this.handlerTouchStart);\r\n        canvas.removeEventListener('touchmove', this.handlerTouchMove);\r\n        canvas.removeEventListener('touchcancel', this.handleCancel);\r\n        canvas.removeEventListener('touchend', this.handlerTouchEnd);\r\n    }\r\n\r\n    handleClear = e => {\r\n        e.preventDefault();\r\n        const ctx = this.canvas.ref.current.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <div className=\"border text-center mx-auto\">\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.ref} />\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.refHidden} style={{display: 'none'}} />\r\n                </div>\r\n                <button className=\"btn btn-warning btn-block\" onClick={this.handleClear}>Очистить</button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CanvasSign;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate, strBase64ToBin } from '../../lib/helpers';\r\nimport CanvasSign from '../CanvasSign';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorPlaceAddData extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: props.inspector,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            consumption: null,\r\n            isLoaded: false,\r\n            isProcess: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    handleCreateReport = async (value, signData) => {\r\n        console.log(value);\r\n        const { place } = this.state;\r\n        if (!place.meter) {\r\n            return this.props.showWarningAlert(\"Отсутствует счетчик\");\r\n        }\r\n        if (Number.isNaN(value)) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (place.meter && place.meter.lastData && (value < Number(place.meter.lastData.value))) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (this.state.place.isSignNeed && !signData) {\r\n            return this.props.showWarningAlert('Отсутствует подпись');\r\n        }\r\n\r\n        const token = this.state.user.token;\r\n        //const inspector_id = this.state.inspector.id;\r\n        const inspector = this.state.inspector.name;\r\n        //const place_id = this.state.place.id;\r\n        const placeName = this.state.place.name;\r\n        const consumer = this.state.place.consumer.name;\r\n        const meter = this.state.place.meter.number;\r\n        const date = formatDate(Date.now());\r\n        let sign_id = null;\r\n\r\n        let sign = null;\r\n        //let report = null;\r\n        let act = null;\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        try {\r\n            if (this.state.place.isSignNeed) {\r\n                sign = await api.createSign(token, signData);\r\n                sign_id = sign.id;\r\n            }\r\n            //report = await api.createReport(token, inspector_id, place_id, sign_id, date, value);\r\n            act = await api.act_01.create(token, inspector, consumer, placeName, meter, sign_id, date, value);\r\n        } catch ({error}) {\r\n            if (sign) api.deleteSignById(token, sign.id).then(() => {});\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!act) {\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert('Неудалось создать отчет');\r\n            });\r\n        }\r\n        else {\r\n            //api.sendReport(token, report.id)\r\n            console.log(act);\r\n            api.act_01.sendEmailById(token, act.id)\r\n                .then(done => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Отчет создан и отправлен.');\r\n                        this.props.history.goBack();\r\n                    });\r\n                })\r\n                .catch(({error}) => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert(\"Отчет создан, но не отправлен. \\n\" + error.message);\r\n                        this.props.history.goBack();\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let val, canvas;\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n\r\n        const onClickCreateReport = e => {\r\n            e.preventDefault();\r\n\r\n            if (!this.state.place.isSignNeed) {\r\n                return this.handleCreateReport(val.value, null);\r\n            }\r\n\r\n            const signData = canvas.canvas.ref.current.toDataURL();\r\n            const emptyDataSize = canvas.canvas.refHidden.current.toDataURL().length;\r\n            if (signData.length <= emptyDataSize) {\r\n                return this.props.showWarningAlert('Необходима подпись');\r\n            }\r\n            \r\n            const file = strBase64ToBin(signData);\r\n            this.handleCreateReport(val.value, file);\r\n        };\r\n\r\n        const onChangeValue = e => {\r\n            let consumption = null; \r\n            if (val.value <= 0) {\r\n                consumption = null;\r\n            }\r\n            else if (!this.state.place.meter) {\r\n                consumption = null;\r\n            }\r\n            else if (this.state.place.meter && !this.state.place.meter.lastData) {\r\n                consumption = val.value;\r\n            }\r\n            else {\r\n                consumption = val.value - Number(this.state.place.meter.lastData.value);    \r\n            }\r\n            this.setState({...this.state, consumption: consumption});\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\">\r\n                                    <div className=\"form-group my-0 p-0\">\r\n                                        <input className=\"form-control\" type=\"number\" placeholder=\"Текущие показания\" required ref={r => val = r} onChange={onChangeValue} />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={this.state.consumption === 0 ? 'table-warning' : (this.state.consumption > 0 ? 'table-success' : 'table-danger') }>\r\n                                <td><span className=\"font-weight-bold\">Потребление: </span></td>\r\n                                <td><span className=\"font-weight-bold text-right\">{this.state.consumption}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {/* <div className=\"input-group mb-3\">\r\n                    <div className=\"custom-file\">\r\n                        <input type=\"file\" className=\"custom-file-input\" />\r\n                        <label className=\"custom-file-label\">Фотография показаний</label>\r\n                    </div>\r\n                </div> */}\r\n                {\r\n                    place.isSignNeed &&\r\n                    <>\r\n                        <h5 className=\"text-center mb-2\">Подпись потребителя</h5>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                                <div className=\"my-2\">\r\n                                    <CanvasSign ref={r => canvas = r} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"form-group\">\r\n                        {\r\n                            this.state.isProcess ?\r\n                            <ProgressBar message=\"Создание отчета...\" large={true}/> :\r\n                            <button className=\"btn btn-primary btn-block\" onClick={onClickCreateReport}>Создать</button>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceAddData;","import React, { Component } from 'react';\r\nimport { withRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Login from '../Login';\r\n\r\nimport UserChangePassword from '../UserChangePassword';\r\n\r\nimport Owner from '../Owner';\r\nimport OwnerInfo from '../OwnerInfo';\r\n\r\n//import UserList from '../UserList';\r\n\r\nimport InspectorList from '../InspectorList';\r\nimport InspectorCreate from '../InspectorCreate';\r\nimport InspectorInfo from '../InspectorInfo';\r\nimport InspectorUpdate from '../InspectorUpdate';\r\nimport InspectorDelete from '../InspectorDelete';\r\n\r\nimport ConsumerList from '../ConsumerList';\r\nimport ConsumerCreate from '../ConsumerCreate';\r\nimport ConsumerInfo from '../ConsumerInfo';\r\nimport ConsumerUpdate from '../ConsumerUpdate';\r\nimport ConsumerDelete from '../ConsumerDelete';\r\n\r\nimport MeterList from '../MeterList';\r\nimport MeterCreate from '../MeterCreate';\r\nimport MeterInfo from '../MeterInfo';\r\nimport MeterUpdate from '../MeterUpdate';\r\nimport MeterDelete from '../MeterDelete';\r\nimport MeterAddData from '../MeterAddData';\r\n\r\nimport PlaceList from '../PlaceList';\r\nimport PlaceCreate from '../PlaceCreate';\r\nimport PlaceInfo from '../PlaceInfo';\r\nimport PlaceUpdate from '../PlaceUpdate';\r\nimport PlaceDelete from '../PlaceDelete';\r\n\r\nimport ReportList from '../ReportList';\r\nimport OwnerReportInfo from '../OwnerReportInfo';\r\nimport ReportUpdate from '../ReportUpdate';\r\nimport ReportDelete from '../ReportDelete';\r\n\r\nimport RegisterList from '../RegisterList';\r\nimport RegisterCreate from '../RegisterCreate';\r\nimport RegisterInfo from '../RegisterInfo';\r\nimport RegisterUpdate from '../RegisterUpdate';\r\nimport RegisterDelete from '../RegisterDelete';\r\n\r\nimport InspectorAppLayout from '../InspectorAppLayout';\r\nimport InspectorUserInfo from '../InspectorUserInfo';\r\nimport InspectorReportList from '../InspectorReportList';\r\nimport InspectorReportInfo from '../InspectorReportInfo';\r\nimport InspectorPlaceList from '../InspectorPlaceList';\r\nimport InspectorPlaceInfo from '../InspectorPlaceInfo';\r\nimport InspectorPlaceAddData from '../InspectorPlaceAddData';\r\n\r\n//import Consumer from '../Consumer';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: null,\r\n      alert: null\r\n    }\r\n\r\n  }\r\n\r\n  handlerLogout = () => {\r\n    this.props.history.index = -1;\r\n    this.props.history.push('/login');\r\n    let state = {};\r\n    Object.keys(this.state).forEach(key => {\r\n      state[key] = null;\r\n    });\r\n    this.setState({...state});\r\n  }\r\n\r\n  handlerlogin = (login, password) => {\r\n    if (!login || !password) {\r\n      this.setState({ ...this.state, alert: { type: 'warning', message: 'Incorrect login or password' } });\r\n      return;\r\n    }\r\n    api.login(login, password)\r\n      .then(user => {\r\n        this.setState({ ...this.state, user }, () => {\r\n          switch (user.role) {\r\n            case 'ADMIN': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'OWNER': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'INSPECTOR': {\r\n              this.props.history.push('/inspector');\r\n              break;\r\n            }\r\n            // case 'CONSUMER': {\r\n            //   this.props.history.push('/consumer');\r\n            //   break;\r\n            // }\r\n            default: {\r\n              this.props.history.push('/login');\r\n            }\r\n          }\r\n        });\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({ ...this.state, alert: { type: 'warning', message: error.message } })\r\n      });\r\n  }\r\n\r\n  handlerCloseAlert = () => {\r\n    this.setState({ ...this.state, alert: null });\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.history.push('/login');\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    console.log(\"APP\", user);\r\n    return (\r\n      <div>\r\n        <Switch>\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/login' render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n          <Route exact path='/owner' render={props => <Owner {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          <Route exact path='/inspector' render={props => <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          {/*<Route exact path='/consumer' render={props => <Consumer {...props} user={user} handlerLogout={this.handlerLogout} />} />*/}\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/inspector/user'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUserInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/user/changePassword'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/create'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/addData'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceAddData {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/user'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/user/changePassword'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/inspectors'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/consumers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/meters'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/addData'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterAddData {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/reports'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerReportInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/places'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/registers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n\r\n        </Switch>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {MemoryRouter} from 'react-router-dom';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap';\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\n\nimport App from './components/App';\n\nReactDOM.render(<MemoryRouter><App /></MemoryRouter>, document.getElementById('root'));"],"sourceRoot":""}