{"version":3,"sources":["components/Alert/index.js","components/Login/index.js","lib/api.js","components/NavBar/index.js","components/UserChangePassword/index.js","components/Owner/components/Header/index.js","components/Owner/components/Footer/index.js","components/Owner/index.js","components/OwnerInfo/index.js","components/ProgressBar/index.js","components/InspectorList/index.js","components/InspectorCreate/index.js","components/InspectorInfo/index.js","components/InspectorUpdate/index.js","components/InspectorDelete/index.js","components/ConsumerList/index.js","components/GoBackLink/index.js","components/ConsumerCreate/index.js","components/ConsumerInfo/index.js","components/ConsumerUpdate/index.js","components/ConsumerDelete/index.js","components/MeterList/index.js","components/MeterCreate/index.js","lib/helpers.js","components/MeterInfo/index.js","components/MeterUpdate/index.js","components/MeterDelete/index.js","components/MeterAddData/index.js","components/PlaceList/index.js","components/PlaceCreate/index.js","components/PlaceInfo/index.js","components/PlaceUpdate/index.js","components/PlaceDelete/index.js","components/ReportList/index.js","components/OwnerReportInfo/index.js","components/ReportUpdate/index.js","components/ReportDelete/index.js","components/RegisterList/index.js","components/RegisterCreate/index.js","components/RegisterInfo/index.js","components/RegisterUpdate/index.js","components/RegisterDelete/index.js","components/InspectorAppLayout/components/Header/index.js","components/InspectorAppLayout/components/Footer/index.js","components/InspectorAppLayout/index.js","components/InspectorUserInfo/index.js","components/InspectorReportList/index.js","components/InspectorReportInfo/index.js","components/InspectorPlaceList/index.js","components/InspectorPlaceInfo/index.js","components/CanvasSign/index.js","components/InspectorPlaceAddData/index.js","components/App/index.js","index.js"],"names":["Alert","props","type","message","handlerCloseAlert","onClickCloseAlert","e","preventDefault","console","log","react_default","a","createElement","className","role","style","zIndex","data-dismiss","aria-label","onClick","aria-hidden","Login","login","password","handlerLogin","alert","components_Alert","position","top","left","right","bottom","placeholder","required","autoFocus","ref","r","value","api","data","opt","method","headers","Content-Type","body","JSON","stringify","fetch","then","res","promise","json","ok","err","getAllUsers","token","Authorization","concat","changeUserPassword","id","url","getAllInspectors","limit","offset","getCountInspectors","createInspector","name","getInspectorById","inspector_id","cache","getInspectorByUserId","user_id","updateInspectorById","deleteInspectorById","getAllConsumers","params","push","isNaN","join","getCountConsumers","createConsumer","email","phone","getConsumerById","updateConsumerById","deleteConsumerById","getAllMeters","getCountMeters","getAllMetersNotInPlace","createMeter","number","getMeterById","updateMeterById","deleteMeterById","getCountPlaces","getAllPlaces","getAllPlacesForAudit","createPlace","isSignNeed","consumer_id","meter_id","getPlaceById","updatePlaceById","deletePlaceById","getAllReports","getCountReports","getReportById","getReportByIdPdf","responseType","response","blob","saveAs","Date","now","getAllReportsByInspectorId","createReport","place_id","sign_id","date","updateReportById","deleteReportById","getAllDataByMeterId","getCountDatas","createData","createSign","formData","FormData","append","deleteSignById","sendReport","getAllRegisters","createRegister","group_abonent_id","sub_abonentes","getRegisterById","updateRegisterById","deleteRegisterById","downloadXlsxRegisterById","downloadXlsxAllRegisters","NavLink","Link","to","history","goBack","children","UserChangePassword","confirmPassword","user","components_NavBar","done","showSuccessAlert","showWarningAlert","catch","_ref","error","Header","handlerLogout","data-toggle","data-target","aria-controls","aria-expanded","Footer","Owner","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","objectSpread","state","setAlert","_this2","components_Header","React","Children","map","child","cloneElement","Owner_components_Footer","Component","withRouter","OwnerInfo","ProgressBar","large","height","aria-valuenow","aria-valuemin","aria-valuemax","width","InspectorList","loadItems","pageNumber","asyncToGenerator","regenerator_default","mark","_callee","_this$state","result","inspectors","wrap","_context","prev","next","sent","count","totalItemsCount","activePage","isLoaded","t0","stop","handlerChangePage","Promise","resolve","_ref3","_ref4","InspectorList_Table","Pagination_default","hideDisabled","itemsCountPerPage","innerClass","itemClass","linkClass","onChange","components_ProgressBar","Table","scope","fontSize","inspector","InspectorList_TableRow","key","TableRow","InspectorCreate","handleInspectorCreate","isProcessing","InspectorInfo","match","InspectorUpdate","handleUpdateInspector","isLoding","_ref2","_this3","defaultValue","InspectorDelete","handleClickYes","go","handleClickNo","Error","ConsumerList","consumers","ConsumerList_Table","consumer","ConsumerList_TableRow","href","GoBackLink","ConsumerCreate","handleCreateConsumer","ConsumerCreate_NavBar","NavBar","components_GoBackLink","ConsumerInfo","ConsumerUpdate","handleUpdateConsumer","ConsumerUpdate_NavBar","ConsumerDelete","MeterList","meters","MeterList_Table","meter","MeterList_TableRow","MeterLink","handleCreateMeter","MeterCreate_NavBar","formatDate","tmp","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","prettyDate","dateformat","MeterInfo","datas","_ref5","MeterInfo_Table","MeterInfo_TableRow","MeterUpdate","handleUpdateMeter","MeterUpdate_NavBar","MeterDelete","MeterAddData","val","PlaceList","places","PlaceList_Table","place","PlaceList_TableRow","PlaceCreate","handleCreatePlace","htmlFor","checked","PlaceInfo","colSpan","lastData","PlaceUpdate","handleUpdatePlace","toConsumableArray","defaultChecked","PlaceDelete","ReportList","reports","downloadPdf","report_id","ReportList_Table","report","ReportList_TableRow","current_data","download","OwnerReportInfo","assign","sign","last_data","ReportUpdate","handleUpdateReport","Number","ReportDelete","RegisterList","downloadXlsx","register_id","registers","RegisterList_Table","register","RegisterList_TableRow","group_abonent","RegisterCreate","handleCreateRegister","processing","sub_abonentes_select","sub_abonentes_list","filter","p","includes","toString","multiple","onDoubleClick","sub","options","i","length","selected","RegisterInfo","consumptionGroup","consumptionSubs","calculateConsumptionGroup","calculateConsumptionSub","sub_abonents","RegisterInfo_Table","items","item","RegisterInfo_TableRow","Fragment","rowSpan","last","curr","calculateConsumption","consumption","forEach","RegisterUpdate","componentDidMount","handleUpdateRegister","sub_abonents_select","sub_abonents_list","RegisterDelete","InspectorAppLayout","InspectorAppLayout_components_Header","components_InspectorAppLayout_components_Footer","InspectorUserInfo","InspectorReportList","InspectorReportList_Table","InspectorReportList_TableRow","InspectorReportInfo","InspectorPlaceList","pageLimit","InspectorPlaceList_Table","InspectorPlaceList_TableRow","backgroundColor","InspectorPlaceInfo","CanvasSign","dX","canvas","current","getBoundingClientRect","window","scrollX","dY","scrollY","handlerTouchStart","ctx","document","getElementById","getContext","touches","changedTouches","ongoingTouches","copyTouch","beginPath","arc","pageX","pageY","brush","size","Math","PI","fillStyle","color","fill","handlerTouchMove","idx","ongoingTouchIndexById","identifier","moveTo","lineTo","lineWidth","strokeStyle","stroke","splice","handlerTouchEnd","handleCancel","touch","idToFind","handleClear","clearRect","x","y","snapshot","createRef","refHidden","addEventListener","removeEventListener","display","InspectorPlaceAddData","handleCreateReport","signData","abrupt","_x","_x2","apply","arguments","components_CanvasSign","toDataURL","emptyDataSize","file","strBase64","blobBin","atob","split","array","charCodeAt","Blob","Uint8Array","strBase64ToBin","App","index","keys","handlerlogin","Switch","Route","exact","path","render","components_Login","components_Owner","components_InspectorAppLayout","components_InspectorUserInfo","components_UserChangePassword","components_InspectorPlaceList","components_PlaceCreate","components_InspectorPlaceInfo","components_PlaceUpdate","components_InspectorPlaceAddData","components_InspectorReportList","components_InspectorReportInfo","components_ReportUpdate","components_OwnerInfo","components_InspectorList","components_InspectorCreate","components_InspectorInfo","components_InspectorUpdate","components_InspectorDelete","components_ConsumerList","components_ConsumerCreate","components_ConsumerInfo","components_ConsumerUpdate","components_ConsumerDelete","components_MeterList","MeterCreate","components_MeterInfo","components_MeterUpdate","components_MeterDelete","components_MeterAddData","components_ReportList","components_OwnerReportInfo","components_ReportDelete","components_PlaceList","components_PlaceInfo","components_PlaceDelete","components_RegisterList","components_RegisterCreate","components_RegisterInfo","components_RegisterUpdate","components_RegisterDelete","ReactDOM","MemoryRouter","components_App"],"mappings":"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","file":"static/js/main.dc0809b9.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Alert = props => {\r\n    const { type, message } = props;\r\n    const { handlerCloseAlert } = props;\r\n    const onClickCloseAlert = e => {\r\n        e.preventDefault();\r\n        handlerCloseAlert();\r\n    }\r\n    console.log(type, message);\r\n    switch (type) {\r\n        \r\n        case \"warnig\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        case \"success\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-success fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        default: return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Alert;\r\n\r\n","import React from 'react';\r\nimport Alert from '../Alert';\r\n\r\nconst Login = props => {\r\n    const {handlerLogin, handlerCloseAlert} = props;\r\n    let login, password;\r\n    const onClickLogin = e => {\r\n        e.preventDefault();\r\n        handlerLogin(login.value, password.value);\r\n    };\r\n    return (\r\n        <div>\r\n            {props.alert && <Alert type={props.alert.type} message={props.alert.message} handlerCloseAlert={handlerCloseAlert}/>}\r\n            <div className=\"bg-light d-flex align-items-center\" style={{position: \"absolute\", top: \"0\", left: \"0\", right: \"0\", bottom: \"0\"}}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Учет электроэнергии</h3>\r\n                            </div>\r\n                            <form className=\"\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Имя пользователя\" required autoFocus ref={r => login = r}/>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                                </div>\r\n                                <div>\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickLogin}>Вход</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"fixed-bottom mb-5\">\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-4 col-offset-4 text-center\">\r\n                            <span className=\"text-muted\">© 2019</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import fetch from 'isomorphic-fetch';\r\nimport {saveAs} from 'file-saver';\r\n\r\nconst api = {\r\n    login: (login, password) => {\r\n        const data = {login, password};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/auth/login';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllUsers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/users';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    changeUserPassword: (token, id, password) => {\r\n        const data = {password};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/users/${id}/changePassword`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllInspectors: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountInspectors: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/inspectors/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createInspector: (token, login, password, name) => {\r\n        const data = {login, password, name};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/inspectors';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorById: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            cache: 'no-cache',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/${inspector_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorByUserId: (token, user_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/user/${user_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateInspectorById: (token, id, name) => {\r\n        const data = {name};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteInspectorById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllConsumers: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const params = [];\r\n        if (limit) params.push(`limit=${limit}`);\r\n        if (!isNaN(offset)) params.push(`offset=${offset}`);\r\n        const url = `/api/v1/consumers?${params.join('&')}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountConsumers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/consumers/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createConsumer: (token, login, password, name, email, phone) => {\r\n        const data = {login, password, name, email, phone};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/consumers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateConsumerById: (token, id, name, email, phone) => {\r\n        const data = {name, email, phone};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });  \r\n    },\r\n\r\n    getAllMeters: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountMeters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/meters/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllMetersNotInPlace: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/meters/notInPlace';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createMeter: (token, number) => {\r\n        const data = {number: number};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/meters';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateMeterById: (token, id, number) => {\r\n        const data = {number};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountPlaces: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/places/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlaces: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlacesForAudit: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/places/audit';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createPlace: (token, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/places';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getPlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updatePlaceById: (token, id, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deletePlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllReports: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountReports: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/count?inspector_id=${inspector_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportByIdPdf: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/pdf',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/reports/${id}/pdf`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `report-${Date.now()}.pdf`));\r\n    },\r\n\r\n    getAllReportsByInspectorId: (token, inspector_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createReport: (token, inspector_id, place_id, sign_id, date, value) => {\r\n        const data = {inspector_id, place_id, sign_id, date, value};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/reports';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateReportById: (token, id, value) => {\r\n        const data = {value};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllDataByMeterId: (token, meter_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/data?meter_id=${meter_id || \"\"}&offset=${offset}&limit=${limit}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountDatas: (token, meter_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/data/count?meter_id=${meter_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createData: (token, meter_id, date, value) => {\r\n        const data = {date, value, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/data';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createSign: (token, data) => {\r\n        const formData = new FormData();\r\n        formData.append('sign', data, `sing-${Date.now()}.png`);\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                // 'Content-Type': 'multipart/form-data',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: formData\r\n        };\r\n        const url = '/api/v1/signs';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteSignById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/signs/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    sendReport: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}/sendEmail`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createRegister: (token, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/registers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateRegisterById: (token, id, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    downloadXlsxRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/registers/${id}/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    downloadXlsxAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/registers/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavLink = props => {\r\n  const onClickBack = e => {\r\n    e.preventDefault();\r\n    props.history.goBack();\r\n  };\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <Link className=\"nav-link\" to=\"/back\" onClick={onClickBack}>Назад</Link>\r\n      {\r\n        props.children\r\n      }\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavLink;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nconst UserChangePassword = props => {\r\n  let password, confirmPassword;\r\n  const user = props.user\r\n  const onClickSave = e => {\r\n    e.preventDefault();\r\n    if (password.value === confirmPassword.value) {\r\n      api.changeUserPassword(user.token, user.id, password.value)\r\n        .then(done => {\r\n          if (done) {\r\n            props.showSuccessAlert('Пароль изменен');\r\n            props.history.goBack();\r\n          }\r\n          else {\r\n            props.showWarningAlert('Неудалось изменить пароль');\r\n          }\r\n        })\r\n        .catch(({error}) => {\r\n          props.showWarningAlert(error.message);\r\n        });\r\n    }\r\n    else {\r\n      props.showWarningAlert('Пароли не совпадают');\r\n    }\r\n  };\r\n  if (user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Смена пароля</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Новый пароль\" required ref={r => password = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default UserChangePassword;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/owner/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-tie\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/inspectors\">Инспекторы</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/consumers\">Потребители</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/meters\">Счетчики</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/registers\">Реестры</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-4 col-offset-4 text-center\">\r\n                        <span className=\"text-muted\">© 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nclass Owner extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            alert: null\r\n        }\r\n    }\r\n\r\n    // componentWillMount() {\r\n    //     if (!this.state.user) {\r\n    //         this.props.history.push('/login');\r\n    //     }\r\n    // }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        console.log('OWNER', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Owner);\r\n","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst OwnerInfo = props => {\r\n  if (props.user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}>\r\n          <Link className=\"nav-link\" to={`/owner/user/changePassword`}>Поменять пароль</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Роль</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.role}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default OwnerInfo;","import React from 'react';\r\n\r\nconst ProgressBar = props => {\r\n  const {message, large} = props;\r\n  return (\r\n    <div className=\"progress\" style={ large ? {height: '2.5rem'} : {height: '3px'}}>\r\n      <div className=\"progress-bar progress-bar-striped progress-bar-animated text-center\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{width: \"100%\"}}>\r\n        {\r\n          message\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspectors: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountInspectors(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const inspectors = await api.getAllInspectors(token, limit, offset);\r\n        this.setState({ ...this.state, inspectors, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/inspectors/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table inspectors={this.state.inspectors}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {inspectors} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Login</th>\r\n            <th scope=\"col\" className=\"text-center\">Name</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n            inspectors && inspectors.map(inspector => <TableRow key={`${inspector.id}-${inspector.name}`} inspector={inspector}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {inspector} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n      <Link to={`/owner/inspectors/${inspector.id}`}>{inspector.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{inspector.login}</td>\r\n      <td className=\"text-center\">{inspector.name}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InspectorList;","import React, {Component} from 'react';\r\n\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorCreate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleInspectorCreate = (login, password, name) => {\r\n    const token = this.state.user.token;\r\n    this.setState({...this.state, isProcessing: true});\r\n    api.createInspector(token, login, password, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.setAlert('warning', error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    let login, password, confirmPassword, name;\r\n\r\n    const onClickCreateInspector = e => {\r\n      e.preventDefault();\r\n      if (password.value !== confirmPassword.value) {\r\n        this.props.setAlert('warning', 'Не верный пароль');\r\n      }\r\n      else {\r\n        this.handleInspectorCreate(login.value, password.value, name.value);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <NavBar {...this.props}/>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n              <div className=\"text-center font-weight-bold mb-5\">\r\n                  <h3>Добавить инспектора</h3>\r\n              </div>\r\n              <form>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r}/>\r\n                </div>\r\n                {\r\n                  this.state.isProcessing ?\r\n                    <ProgressBar message={'Обработка...'} large={true}/> :\r\n                    <div className=\"form-group\">\r\n                      <button className=\"btn btn-primary btn-block\" onClick={onClickCreateInspector}>Создать</button>\r\n                    </div>\r\n                }\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    api.getInspectorById(this.state.user.token, this.state.inspector.id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert(error.message);\r\n          });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { inspector } = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/delete`}>Удалить</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Инспектор</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Имя</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.name}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoding: false,\r\n      isLoaded: false,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.setState({...this.state, isLoding: true});\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({ ...this.state, isLoaded: true }, () => {\r\n            //this.props.setAlert('warning', 'Inspector not found');\r\n            this.props.showWarningAlert('Inspector not found');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({ ...this.state, isLoaded: true }, () => {\r\n          //this.props.setAlert('warning', error.message);\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateInspector = name => {\r\n    if (!name) {\r\n      return this.props.showWarningAlert('Неправильное имя инспектора');\r\n    }\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.updateInspectorById(token, inspector_id, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Имя инспектора успешно изменено');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    const { inspector } = this.state;\r\n    let name;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateInspector(name.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить имя инспектора</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r} defaultValue={inspector.name} />\r\n              </div>\r\n              {\r\n                this.state.isProcessing ?\r\n                  <ProgressBar message={'Обработка...'} large={true} /> :\r\n                  <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                  </div>\r\n              }\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (!inspector) throw new Error({error: {message: 'Inspector not found'}});\r\n        this.setState({...this.state, inspector, isLoaded: true});\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n          this.props.history.goBack();\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.deleteInspectorById(token, inspector_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.setAlert('success', 'Инспектор удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message)\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const {inspector} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить инспектора ${inspector.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorDelete;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass ConsumerList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumers: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountConsumers(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const consumers = await api.getAllConsumers(token, limit, offset);\r\n        this.setState({ ...this.state, consumers, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/consumers/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table consumers={this.state.consumers}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {consumers} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Логин</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Email</th>\r\n            <th scope=\"col\" className=\"text-center\">Телефон</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n              consumers && consumers.map(consumer => <TableRow key={`${consumer.id}-${consumer.login}-${consumer.name}-${consumer.email}`} consumer={consumer}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {consumer} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\"><Link to={`/owner/consumers/${consumer.id}`}>{consumer.id}</Link></td>\r\n      <td className=\"text-center\">{consumer.login}</td>\r\n      <td className=\"text-center\">{consumer.name}</td>\r\n      <td className=\"text-center\">{consumer.email}</td>\r\n      <td className=\"text-center\"><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ConsumerList;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst GoBackLink = props => <Link className=\"nav-link\" to='/back' onClick={e => {e.preventDefault(); props.history.goBack();}}>Назад</Link>;\r\n\r\nexport default GoBackLink;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    handleCreateConsumer = (login, password, name, email, phone) => {\r\n        const token = this.state.user.token;\r\n        this.setState({ ...this.state, isLoaded: false });\r\n        api.createConsumer(token, login, password, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showSuccessAlert('Потребитель добавлен');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не добавлен');\r\n                    this.setState({ ...this.state, isLoaded: true });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.setState({ ...this.state, isLoaded: true });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n    }\r\n\r\n    render() {\r\n        let login, password, confirmPassword, name, email, phone;\r\n\r\n        const onClickCreateConsumer = e => {\r\n            e.preventDefault();\r\n            if (!login || !password || !confirmPassword || !name || !email) {\r\n                return this.showWarningAlert('Некорректрые данные в форме');\r\n            }\r\n            if (password.value === confirmPassword.value) {\r\n                this.handleCreateConsumer(login.value, password.value, name.value, email.value, phone.value);\r\n            }\r\n            else {\r\n                this.props.showWarningAlert('Пароли не совпадают');\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    !this.state.isLoaded && <ProgressBar />\r\n                }\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить потребителя</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required ref={r => email = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Номер телефона\" required ref={r => phone = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreateConsumer}>Создать</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Потребитель не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        const { consumer } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Потребитель</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.login}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Email</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.email}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ConsumerInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass ConsumerUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleUpdateConsumer = (name, email, phone) => {\r\n        if (!name || !email) {\r\n            return this.props.showWarningAlert('Некорректные данные в форме');\r\n        }\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.updateConsumerById(token, consumer_id, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.props.showSuccessAlert('Потребитель успешно изменен');\r\n                    this.props.history.goBack();\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Неудалось изменить потребителя')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { consumer } = this.state;\r\n        let name, email, phone;\r\n        const onClickUpdateConsumer = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateConsumer(name.value, email.value, phone.value);\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}/>\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-5\">\r\n                            <h3>Редактировать потребителя</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required autoFocus defaultValue={consumer.name} ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required defaultValue={consumer.email} ref={r => email = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Email\" required defaultValue={consumer.phone} ref={r => phone = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateConsumer}>Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ConsumerDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumer: {\r\n        id: props.match.params.consumer_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.getConsumerById(token, consumer_id)\r\n      .then(consumer => {\r\n        if (consumer) {\r\n          this.setState({...this.state, consumer});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Потребитель не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.deleteConsumerById(token, consumer_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Потребитель удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {consumer} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить потребителя ${consumer.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ConsumerDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass MeterList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meters: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountMeters(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const meters = await api.getAllMeters(token, limit, offset);\r\n        this.setState({ ...this.state, meters, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to=\"/owner/meters/create\">Добавить</Link>\r\n        </NavBar>\r\n        <Table meters={this.state.meters} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { meters } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Number</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            meters && meters.map(meter => <TableRow key={`${meter.id}-${meter.number}`} meter={meter} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { meter } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/meters/${meter.id}`}>{meter.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{meter.number}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default MeterList;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterLink extends Component {\r\n\r\n  handleCreateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.props.user.token;\r\n    api.createMeter(token, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик добавлен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Неудалось добавить счетчик');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const onClickCreate = e => {\r\n      e.preventDefault();\r\n      this.handleCreateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterLink;","import dateformat from 'dateformat';\r\n\r\nexport const parseDate = date => {\r\n    if (!date) return null;\r\n    const tmp = date.split('T');\r\n    const tmpDate = tmp[0].split('-');\r\n    const tmpTime = tmp[1].split(':');\r\n    return `${tmpDate.join('-')} ${tmpTime[0]}:${tmpTime[1]}:${tmpTime[2].split('.')[0]}`;\r\n};\r\n\r\nexport const toDate = date => {\r\n    return new Date(date);\r\n}\r\n\r\nexport const formatDate = date => {\r\n    const tmp = new Date(date);\r\n    const year = tmp.getFullYear();\r\n    const month = tmp.getMonth() + 1;\r\n    const day = tmp.getDate();\r\n    const hour = tmp.getHours();\r\n    const minutes = tmp.getMinutes();\r\n    const seconds = tmp.getSeconds();\r\n    return `${year}-${month < 9 ? `0${month}` : month}-${day} ${hour}:${minutes}:${seconds}`;\r\n};\r\n\r\nexport const prettyDate = date => {\r\n    const datePattern = 'dd.mm.yyyy HH:MM:ss';\r\n    return dateformat(new Date(date), datePattern);\r\n}\r\n\r\nexport const strBase64ToBin = strBase64 => {\r\n    const blobBin = atob(strBase64.split(',')[1]);\r\n    let array = [];\r\n    for (let i = 0; i < blobBin.length; i++) {\r\n        array.push(blobBin.charCodeAt(i));\r\n    }\r\n    const file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n    return file;\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      },\r\n      datas: [],\r\n      limit: 15,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  loadItems = (meter, pageNumber) => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountDatas(token, meter.id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const datas = await api.getAllDataByMeterId(token, meter.id, limit, offset);\r\n        this.setState({ ...this.state, meter, datas, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, meter, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          // api.getAllDataByMeterId(token, meter_id)\r\n          //   .then(datas => {\r\n          //     if (datas) {\r\n          //       this.setState({ ...this.state, meter, datas, isLoaded: true});\r\n          //     }\r\n          //     else {\r\n          //       this.setState({ ...this.state, meter, isLoaded: true});\r\n          //     }\r\n          //   })\r\n          //   .catch(({ error }) => {\r\n          //       this.props.showWarningAlert(error.message);\r\n          //       this.props.history.goBack();\r\n          //   });\r\n          return Promise.resolve()\r\n            .then(this.loadItems(meter, this.state.activePage))\r\n            .catch(({ error }) => {\r\n              this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.meter, pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { meter } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/delete`}>Удалить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/addData`}>Добавить показания</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Счетчик</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Номер</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.number}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <h3 className=\"text-center mb-2\">Показания</h3>\r\n        <Table datas={this.state.datas} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { datas } = props;\r\n  return (\r\n    <table className=\"table table-bordered table-hover table-sm\">\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\" className=\"text-center\">Дата</th>\r\n          <th scope=\"col\" className=\"text-center\">Показание</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody style={{ fontSize: '0.85rem' }}>\r\n        {\r\n          datas && datas.map(data => <TableRow key={`${data.id}-${data.date}`} data={data} />)\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { data } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">{prettyDate(data.date)}</td>\r\n      <td className=\"text-center\">{data.value}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default MeterInfo;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterUpdate extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.updateMeterById(token, meter_id, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик успешно изменен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert(\"Неудалось изменить счетчик\");\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const {meter} = this.state;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Редактировать счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r} defaultValue={meter.number}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass MeterDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.deleteMeterById(token, meter_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Счетчик удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {meter} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить счетчик ${meter.number}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MeterDelete;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport {formatDate} from '../../lib/helpers';\r\n\r\nconst MeterAddData = props => {\r\n  const token = props.user.token;\r\n  const meter_id = props.match.params.meter_id;\r\n  let val;\r\n  const onClickAdd = e => {\r\n    e.preventDefault();\r\n    if (!val.value) {\r\n      props.showWarningAlert(\"Не корректные показания счетчика\");\r\n      return;\r\n    }\r\n    const date = formatDate(Date.now());\r\n    console.log(meter_id, date, val.value);\r\n    api.createData(token, meter_id, date, val.value)\r\n      .then(data => {\r\n        if (data) {\r\n          props.showSuccessAlert('Показания добавлены');\r\n          props.history.goBack();\r\n        }\r\n        else {\r\n          props.showWarningAlert('Неудалось добавить показания счетчика');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"container justify-content-center\">\r\n      <NavBar {...props}/>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n          <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить показание счетчика</h3>\r\n          </div>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input className=\"form-control\" type=\"text\" placeholder=\"Показание, кВт\" required autoFocus ref={r => val = r}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button className=\"btn btn-primary btn-block\" onClick={onClickAdd}>Добавить</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeterAddData;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass PlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const places = await api.getAllPlaces(token, limit, offset);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/places/create`}>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Подпись</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/places/${place.id}`}>{place.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{place.name}</td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.consumer ? <Link to={`/owner/consumers/${place.consumer.id}`}>{place.consumer.name}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.meter ? <Link to={`/owner/meters/${place.meter.id}`}>{place.meter.number}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">{place.isSignNeed ? 'Да' : 'Нет'}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default PlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: meters || [],\r\n                        consumers: consumers || []\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleCreatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n        const token = this.state.user.token;\r\n        api.createPlace(token, name, isSignNeed, consumer_id, meter_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        //this.props.showSuccessAlert('Место добавлено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Не удалось добавить новое место');\r\n                    }\r\n                },\r\n                ({error}) => {\r\n                    this.props.showWarningAlert(error.message)\r\n                }\r\n            )\r\n            .catch(({error}) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const onClickCreate = e => {\r\n            e.preventDefault();\r\n            this.handleCreatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceCreate;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport {Link} from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport {prettyDate} from '../../lib/helpers';\r\n\r\nclass PlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({...this.state, place, isLoaded: true});\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({error}) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        const {place} = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nclass PlaceUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const place_id = this.state.place.id;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    const place = await api.getPlaceById(token, place_id);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: place.meter ? [...meters, place.meter] : meters,\r\n                        consumers: consumers || [],\r\n                        place\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleUpdatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.updatePlaceById(token, place_id, name, isSignNeed, consumer_id, meter_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.props.showSuccessAlert('Место сохранено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не сохранено');\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                }\r\n            )\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const { place } = this.state;\r\n        const onClickUpdate = e => {\r\n            e.preventDefault();\r\n            this.handleUpdatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus defaultValue={place.name} ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r} defaultValue={place.meter ? place.meter.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r} defaultValue={place.consumer ? place.consumer.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} defaultChecked={place.isSignNeed} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickUpdate}>Сохранить</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass PlaceDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({ ...this.state, place, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Место не найдено');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.deletePlaceById(token, place_id)\r\n            .then(done => {\r\n                if (done) {\r\n                    this.props.showSuccessAlert('Место удалено');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { place } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить место ${place.name}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      reports: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountReports(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const reports = await api.getAllReports(token, limit, offset);\r\n        this.setState({ ...this.state, reports, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = report_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.getReportByIdPdf(token, report_id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table reports={this.state.reports} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { reports } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            reports && reports.map(report => <TableRow key={`${report.id}`} report={report} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { report } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\"><Link to={`/owner/reports/${report.id}`}>{report.id}</Link></td>\r\n      <td className=\"text-center\">{prettyDate(report.date)}</td>\r\n      <td className=\"text-center\">{report.inspector.name}</td>\r\n      <td className=\"text-center\">{report.place.name}</td>\r\n      <td className=\"text-center\">{report.consumer.name}</td>\r\n      <td className=\"text-center\">{report.meter.number}</td>\r\n      <td className=\"text-center\">{report.current_data.value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(report.id)} href={`api/v1/reports/${report.id}/pdf`} download={`report-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ReportList;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport {prettyDate} from '../../lib/helpers';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass OwnerReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            report: {\r\n                id: props.match.params.report_id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const report_id = this.state.report.id;\r\n        api.getReportById(token, report_id)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({...this.state, report, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.props.showWarningAlert('Отчет не найден');\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadPdf = report_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.getReportByIdPdf(token, report_id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const {user, report} = this.state;\r\n        return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} user={user}>\r\n                        <Link className=\"nav-link\" to={`/owner/reports/${report.id}/update`}>Изменить</Link>\r\n                        <Link className=\"nav-link\" to={`/owner/reports/${report.id}/delete`}>Удалить</Link>\r\n                        <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(report.id)}>Скачать</Link>\r\n                    </NavBar>\r\n                    <h3 className=\"text-center mb-2\">{`Отчет № ${report.id}`}</h3>\r\n                    <div className=\"table-responsive\">\r\n                        <table className=\"table table-hover table-sm border-bottom\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.id}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{prettyDate(report.date)}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.inspector.name}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.consumer.name}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.place.name}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.meter.number}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.sign ? 'Да' : 'Нет'}</span></td>\r\n                                </tr>\r\n                                <tr className=\"table-success\">\r\n                                    <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.last_data ? prettyDate(report.last_data.date) : '---'}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.last_data ? report.last_data.value : '---'}</span></td>\r\n                                </tr>\r\n                                <tr className=\"table-danger\">\r\n                                    <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.current_data ? prettyDate(report.current_data.date) : '---'}</span></td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                    <td><span className=\"font-weight-bold\">{report.current_data ? report.current_data.value : '---'}</span></td>\r\n                                </tr>\r\n                                <tr className=\"table-info\">\r\n                                    <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                    <td>\r\n                                        <span className=\"font-weight-bold\">\r\n                                            {\r\n                                                report.current_data && report.last_data ? report.current_data.value - report.last_data.value : (\r\n                                                    report.current_data ? report.current_data.value : null\r\n                                                )\r\n                                            }\r\n                                        </span>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default OwnerReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nclass ReportUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            report: {\r\n                id: props.match.params.report_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const report_id = this.state.report.id;\r\n        api.getReportById(token, report_id)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({ ...this.state, report, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleUpdateReport = value => {\r\n        const {report} = this.state;\r\n        if (Number.isNaN(value) || value < 0) {\r\n          return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n        }\r\n        if (report.last_data && (value < Number(report.last_data.value))) {\r\n          return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n        }\r\n        const token = this.state.user.token;\r\n        const report_id = this.state.report.id;\r\n        api.updateReportById(token, report_id, value)\r\n            .then(result => {\r\n\r\n                if (!result || !result.done) {\r\n                    this.props.showWarningAlert('Неудалось изменить отчет');\r\n                  }\r\n                  else {\r\n                    api.sendReport(token, report_id)\r\n                      .then(done => {\r\n                        this.props.showSuccessAlert('Отчет изменен и отправлен.');\r\n                        this.props.history.goBack();\r\n                      })\r\n                      .catch(({ error }) => {\r\n                        this.props.showWarningAlert(\"Отчет изменен, но не отправлен. \\n\" + error.message);\r\n                        this.props.history.goBack();\r\n                      });\r\n                  }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert('Показания не изменены');\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { report } = this.state;\r\n        let val;\r\n        const onClickSave = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateReport(val.value);\r\n        };\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-5\">\r\n                            <h3>Изменить показания</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"number\" placeholder=\"Показания счетчика\" required ref={r => val = r} defaultValue={report.current_data.value} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ReportUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ReportDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            report: {\r\n                id: props.match.params.report_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const report_id = this.state.report.id;\r\n        api.getReportById(token, report_id)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({ ...this.state, report, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const report_id = this.state.report.id;\r\n        api.deleteReportById(token, report_id)\r\n            .then(done => {\r\n                if (done) {\r\n                    this.props.showSuccessAlert('Отчет удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { report : {id} } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить отчет № ${id}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default ReportDelete;","import React, { Component } from 'react';\r\n//import api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nclass RegisterList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            registers: [],\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllRegisters(token)\r\n            .then(registers => {\r\n                if (registers) {\r\n                    this.setState({...this.state, registers, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Реестры не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                })\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    downloadXlsxAllRegisters = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxAllRegisters(token)\r\n            .catch(({error}) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to='/owner/registers/create'>Добавить</Link>\r\n                </NavBar>\r\n                <Table registers={this.state.registers} downloadXlsx={this.downloadXlsx} downloadXlsxAllRegisters={this.downloadXlsxAllRegisters}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { registers } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center\">Название</th>\r\n                        <th scope=\"col\" className=\"text-center\">Групповой абонент</th>\r\n                        <th className=\"text-center\"><a className=\"text-light\" onClick={props.downloadXlsxAllRegisters} href={`api/v1/registers/xlsx`} download={`register-all-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        registers && registers.map(register => <TableRow key={`${register.id}`} register={register} downloadXlsx={props.downloadXlsx}/>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { register } = props;\r\n    return (\r\n        <tr>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.id}</Link></td>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.name}</Link></td>\r\n            <td className=\"text-center\">\r\n                {\r\n                    register.group_abonent && <Link to={`/owner/places/${register.group_abonent.id}`}>{register.group_abonent.name}</Link>\r\n                }\r\n            </td>\r\n            <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadXlsx(register.id)} href={`api/v1/registers/${register.id}/xlsx`} download={`register-${register.id}-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default RegisterList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonentes: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllPlaces(token)\r\n            .then(places => {\r\n                if (places) {\r\n                    this.setState({ ...this.state, places, isLoaded: true })\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Места не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: true }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    handleCreateRegister = (name, group_abonent_id, sub_abonentes) => {\r\n        const token = this.state.user.token;\r\n        this.setState({...this.state, processing: true});\r\n        api.createRegister(token, name, group_abonent_id, sub_abonentes)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showSuccessAlert('Регистор создан');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showWarningAlert('Регистор не создан');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, processing: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        let name, group_abonent_id, sub_abonentes_select, sub_abonentes_list;\r\n\r\n        const onClickRegisterCreate = e => {\r\n            e.preventDefault();\r\n            //console.log(name.value, group_abonent_id.value);\r\n            this.handleCreateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonentes);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            //console.log(e);\r\n            console.log(typeof group_abonent_id.value, group_abonent_id.value);\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({...this.state, group_abonent_id: id});\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonentes_select.value);\r\n\r\n            this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, sub_abonentes_select.value]});\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            //console.log(sub_abonentes_select.list);\r\n            let sub = [];\r\n            const options = sub_abonentes_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, ...sub]});\r\n            }\r\n            //console.log(sub);\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonentes_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonentes = this.state.sub_abonentes\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({...this.state, sub_abonentes: [...sub_abonentes]});\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Создать регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonentes_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple  className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonentes_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing && <ProgressBar/>\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickRegisterCreate}>Создать</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass RegisterInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            consumptionGroup: 0,\r\n            consumptionSubs: 0,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    console.log(register);\r\n                    const consumptionGroup = calculateConsumptionGroup(register.group_abonent);\r\n                    const consumptionSubs = calculateConsumptionSub(register.sub_abonents);\r\n                    this.setState({ ...this.state, consumptionGroup, consumptionSubs, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Реестр не найден');\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error && err.error.message ? err.error.message : err);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to={`/api/v1/registers/${register.id}/xlsx`} onClick={this.downloadXlsx(register.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Реестр</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Групповой</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Субабоненты</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потери</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup - this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <h3 className=\"text-center\">Групповой абонент</h3>\r\n                <Table items={this.state.register.group_abonent ? [this.state.register.group_abonent] : []} />\r\n                <h3 className=\"text-center\">Субабоненты</h3>\r\n                <Table items={this.state.register.sub_abonents || []} />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { items } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Место</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребитель</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Счетчик</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Предыдущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Текущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребление</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        items && items.map(item => <TableRow key={item.id} item={item} />)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { item } = props;\r\n    if (!item) return null;\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">{item.id}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\"><Link to={`/owner/places/${item.id}`}>{item.name}</Link></td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.consumer && <Link to={`/owner/consumers/${item.consumer.id}`}>{item.consumer.name}</Link>\r\n                    }\r\n                </td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.meter && <Link to={`/owner/meters/${item.meter.id}`}>{item.meter.number}</Link>\r\n                    }\r\n                </td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? prettyDate(item.meter.data[1].date) : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? prettyDate(item.meter.data[0].date) : null}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        (() => {\r\n                            const last = item.meter && item.meter.data[1] ? item.meter.data[1].value : null;\r\n                            const curr = item.meter && item.meter.data[0] ? item.meter.data[0].value : null;\r\n                            return calculateConsumption(last, curr);\r\n                        })()\r\n                    }\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? item.meter.data[1].value : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? item.meter.data[0].value : null}</td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nconst calculateConsumption = (last, curr) => {\r\n    if (last && curr && !isNaN(last) && !isNaN(curr)) {\r\n        return curr - last;\r\n    }\r\n    else if (curr && !isNaN(curr)) {\r\n        return curr;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst calculateConsumptionGroup = (group_abonent) => {\r\n    if (!group_abonent) return null;\r\n    const { meter } = group_abonent;\r\n    const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n    const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n    return calculateConsumption(last, curr);\r\n};\r\n\r\nconst calculateConsumptionSub = (sub_abonents) => {\r\n    if (!sub_abonents) return null;\r\n    let consumption = 0;\r\n    sub_abonents.forEach(p => {\r\n        const { meter } = p;\r\n        const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n        const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n        const result = calculateConsumption(last, curr);\r\n        if (result !== null) consumption += result;\r\n    });\r\n    return consumption;\r\n};\r\n\r\nexport default RegisterInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonents: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        try {\r\n            const token = this.state.user.token;\r\n            const register_id = this.state.register.id;\r\n\r\n            const register = await api.getRegisterById(token, register_id);\r\n            const places = await api.getAllPlaces(token);\r\n\r\n            if (register && places) {\r\n                const group_abonent_id = register.group_abonent ? `${register.group_abonent.id}` : null;\r\n                const sub_abonents = register.sub_abonents ? register.sub_abonents.map(p => `${p.id}`) : [];\r\n                this.setState({ ...this.state, register, places, group_abonent_id: group_abonent_id, sub_abonents: sub_abonents, isLoaded: true });\r\n            } else {\r\n                throw new Error({ error: { error: { message: 'Не найден реестр или места' } } })\r\n            }\r\n        } catch ({ error }) {\r\n            this.setState({ ...this.state, isLoaded: true }, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleUpdateRegister = (name, group_abonent_id, sub_abonents) => {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        this.setState({ ...this.state, processing: true }, () => {\r\n            api.updateRegisterById(token, register_id, name, group_abonent_id, sub_abonents)\r\n                .then(result => {\r\n                    if (result && result.done) {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showSuccessAlert('Регистор именен');\r\n                            this.props.history.goBack();\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showWarningAlert('Регистор не изменен');\r\n                        });\r\n                    }\r\n                })\r\n                .catch(({ error }) => {\r\n                    this.setState({ ...this.state, processing: false }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        console.log(this.state);\r\n\r\n        let name, group_abonent_id, sub_abonents_select, sub_abonents_list;\r\n\r\n        const onClickUpdateRegister = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonents);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({ ...this.state, group_abonent_id: id });\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonents_select.value);\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, sub_abonents_select.value] });\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, ...sub] });\r\n            }\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonents = this.state.sub_abonents\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...sub_abonents] });\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Изменить регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} defaultValue={this.state.register.name} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent} defaultValue={this.state.register.group_abonent ? this.state.register.group_abonent.id : null}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonents_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonents_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing ? <ProgressBar message={'Обработка...'} large={true} /> :\r\n                                    <div className=\"form-group\">\r\n                                        <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateRegister}>Создать</button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass RegisterDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    this.setState({ ...this.state, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Реестр не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.deleteRegisterById(token, register_id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Реестр удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container pt-2\">\r\n                <div className=\"border p-5\">\r\n                    <div className=\"mb-5\">\r\n                        <p className=\"h3 text-center\">{`Удалить реестр ${register.name}?`}</p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"ml-5\">\r\n                            <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                        </div>\r\n                        <div className=\"mr-5\">\r\n                            <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RegisterDelete;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/inspector/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-secret\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-4 col-offset-4 text-center\">\r\n                        <span className=\"text-muted\">© 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass InspectorAppLayout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: {},\r\n            alert: null,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const user_id = this.state.user.id;\r\n        api.getInspectorByUserId(token, user_id)\r\n            .then(inspector => {\r\n                if (inspector) {\r\n                    this.setState({...this.state, inspector, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.props.handlerLogout();\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.props.handlerLogout();\r\n            });\r\n    }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user } = this.state;\r\n        console.log('INSPECTOR', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert, inspector: this.state.inspector})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorAppLayout;","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst InspectorUserInfo = props => {\r\n    const {user, inspector} = props;\r\n    return (\r\n        <div className=\"container justify-content-center\">\r\n            <NavBar {...props}>\r\n                <Link className=\"nav-link\" to={`/inspector/user/changePassword`}>Изменить пароль</Link>\r\n            </NavBar>\r\n            <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n            <div className=\"border-top border-bottom\">\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Логин</span> : <span>{user.login}</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Имя</span> : <span>{inspector.name}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InspectorUserInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: props.inspector,\r\n      reports: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const inspector_id = this.state.inspector.id;\r\n      const result = await api.getCountReports(token, inspector_id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const reports = await api.getAllReportsByInspectorId(token, inspector_id, limit, offset);\r\n        this.setState({ ...this.state, reports, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = report_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.getReportByIdPdf(token, report_id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table reports={this.state.reports} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { reports } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            reports && reports.map(report => <TableRow key={`${report.id}`} report={report} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { report } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/inspector/reports/${report.id}`}>{report.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{prettyDate(report.date)}</td>\r\n      <td className=\"text-center\">{report.inspector.name}</td>\r\n      <td className=\"text-center\">{report.place.name}</td>\r\n      <td className=\"text-center\">{report.consumer.name}</td>\r\n      <td className=\"text-center\">{report.meter.number}</td>\r\n      <td className=\"text-center\">{report.current_data.value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(report.id)} href={`api/v1/reports/${report.id}/pdf`} download={`report-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default InspectorReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass InspectorReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            report: {\r\n                id: props.match.params.report_id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const report_id = this.state.report.id;\r\n        api.getReportById(token, report_id)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({ ...this.state, report, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert('Отчет не найден');\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadPdf = report_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.getReportByIdPdf(token, report_id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, report } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/inspector/reports/${report.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(report.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${report.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(report.date)}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.inspector.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.consumer.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.meter.number}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.last_data ? prettyDate(report.last_data.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.last_data ? report.last_data.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.current_data ? prettyDate(report.current_data.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{report.current_data ? report.current_data.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            report.current_data && report.last_data ? report.current_data.value - report.last_data.value : (\r\n                                                report.current_data ? report.current_data.value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorPlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      pageLimit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, pageLimit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const places = await api.getAllPlaces(token, pageLimit, (pageNumber - 1) * pageLimit);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/inspector/places/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.pageLimit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.pageLimit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-plus\"></i></th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '1rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr style={style(place)}>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}/addData`}><i className=\"text-secondary fas fa-plus\"></i></Link></td>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}`}>{place.name}</Link></td>\r\n      <td className=\"text-center\">{place.consumer ? place.consumer.name : null}</td>\r\n      <td className=\"text-center\">{place.meter ? place.meter.number : null}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst style = place => {\r\n  if (!place.meter) return { backgroundColor: '#b0bec5' };\r\n  if (place.meter) {\r\n    const { lastData } = place.meter;\r\n    if (lastData && (new Date(lastData.date)).getMonth() === (new Date(Date.now())).getMonth()) {\r\n      return { backgroundColor: '#ffab91' };\r\n    }\r\n    else {\r\n      return { backgroundColor: '#c5e1a5' }\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default InspectorPlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass InspectorPlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/addData`}>Добавить показания</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceInfo;","import React, { Component } from 'react';\r\n\r\nclass CanvasSign extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.touches = { x: [], y: [] };\r\n        this.brush = { color: 'black', size: 3 };\r\n        this.snapshot = null;\r\n        this.canvas = {\r\n            width: 300,\r\n            height: 300,\r\n            ref: React.createRef(),\r\n            refHidden: React.createRef()\r\n        };\r\n\r\n        this.ongoingTouches = [];\r\n    }\r\n\r\n    dX = () => this.canvas.ref.current.getBoundingClientRect().left + window.scrollX;\r\n\r\n    dY = () => this.canvas.ref.current.getBoundingClientRect().top + window.scrollY;\r\n\r\n    handlerTouchStart = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            this.ongoingTouches.push(this.copyTouch(touches[i]));\r\n            ctx.beginPath();\r\n            ctx.arc(touches[i].pageX - this.dX(), touches[i].pageY - this.dY(), this.brush.size / 2, 0, 2 * Math.PI, false);  // a circle at the start\r\n            ctx.fillStyle = this.brush.color;\r\n            ctx.fill();\r\n        }\r\n    };\r\n\r\n    handlerTouchMove = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.strokeStyle = this.brush.color;\r\n                ctx.stroke();\r\n                this.ongoingTouches.splice(idx, 1, this.copyTouch(touches[i]));  // swap in the new touch record\r\n            } else {\r\n                console.log(\"can't figure out which touch to continue\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handlerTouchEnd = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.fillStyle = this.brush.color;\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                //ctx.fillRect(touches[i].pageX - this.dX() - 4, touches[i].pageY - this.dY() - 4, 8, 8);  // and a square at the end\r\n                this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n            } else {\r\n                console.log(\"can't figure out which touch to end\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handleCancel = e => {\r\n        e.preventDefault();\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            const idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n        }\r\n    }\r\n\r\n    // colorForTouch = touch => {\r\n    //     let r = touch.identifier % 16;\r\n    //     let g = Math.floor(touch.identifier / 3) % 16;\r\n    //     let b = Math.floor(touch.identifier / 7) % 16;\r\n    //     r = r.toString(16); // make it a hex digit\r\n    //     g = g.toString(16); // make it a hex digit\r\n    //     b = b.toString(16); // make it a hex digit\r\n    //     const color = \"#\" + r + g + b;\r\n    //     console.log(\"color for touch with identifier \" + touch.identifier + \" = \" + color);\r\n    //     return color;\r\n    // }\r\n\r\n    copyTouch = touch => {\r\n        return { identifier: touch.identifier, pageX: touch.pageX, pageY: touch.pageY };\r\n    }\r\n\r\n    ongoingTouchIndexById = idToFind => {\r\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\r\n            const id = this.ongoingTouches[i].identifier;\r\n\r\n            if (id === idToFind) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;    // not found\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.addEventListener('touchstart', this.handlerTouchStart, false);\r\n        canvas.addEventListener('touchmove', this.handlerTouchMove, false);\r\n        canvas.addEventListener('touchcancel', this.handleCancel, false);\r\n        canvas.addEventListener('touchend', this.handlerTouchEnd, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.removeEventListener('touchstart', this.handlerTouchStart);\r\n        canvas.removeEventListener('touchmove', this.handlerTouchMove);\r\n        canvas.removeEventListener('touchcancel', this.handleCancel);\r\n        canvas.removeEventListener('touchend', this.handlerTouchEnd);\r\n    }\r\n\r\n    handleClear = e => {\r\n        e.preventDefault();\r\n        const ctx = this.canvas.ref.current.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <div className=\"border text-center mx-auto\">\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.ref} />\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.refHidden} style={{display: 'none'}} />\r\n                </div>\r\n                <button className=\"btn btn-warning btn-block\" onClick={this.handleClear}>Очистить</button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CanvasSign;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate, strBase64ToBin } from '../../lib/helpers';\r\nimport CanvasSign from '../CanvasSign';\r\n\r\nclass InspectorPlaceAddData extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: props.inspector,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            consumption: null,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    handleCreateReport = async (value, signData) => {\r\n        console.log(value);\r\n        const { place } = this.state;\r\n        if (!place.meter) {\r\n            return this.props.showWarningAlert(\"Отсутствует счетчик\");\r\n        }\r\n        if (Number.isNaN(value)) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (place.meter && place.meter.lastData && (value < Number(place.meter.lastData.value))) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (this.state.place.isSignNeed && !signData) {\r\n            return this.props.showWarningAlert('Отсутствует подпись');\r\n        }\r\n\r\n        const token = this.state.user.token;\r\n        const inspector_id = this.state.inspector.id;\r\n        const place_id = this.state.place.id;\r\n        const date = formatDate(Date.now());\r\n        let sign_id = null;\r\n\r\n        let sign = null;\r\n        let report = null;\r\n        try {\r\n            if (this.state.place.isSignNeed) {\r\n                sign = await api.createSign(token, signData);\r\n                sign_id = sign.id;\r\n            }\r\n            report = await api.createReport(token, inspector_id, place_id, sign_id, date, value);\r\n        } catch ({error}) {\r\n            if (sign) api.deleteSignById(token, sign.id).then(() => {});\r\n            return this.props.showWarningAlert(error.message);\r\n        }\r\n\r\n        if (!report) {\r\n            this.props.showWarningAlert('Неудалось создать отчет');\r\n        }\r\n        else {\r\n            api.sendReport(token, report.id)\r\n                .then(done => {\r\n                    this.props.showSuccessAlert('Отчет создан и отправлен.');\r\n                    this.props.history.goBack();\r\n                })\r\n                .catch(({error}) => {\r\n                    this.props.showWarningAlert(\"Отчет создан, но не отправлен. \\n\" + error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            // this.props.showSuccessAlert('Отчет создан');\r\n            // this.props.history.goBack();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let val, canvas;\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n\r\n        const onClickCreateReport = e => {\r\n            e.preventDefault();\r\n\r\n            if (!this.state.place.isSignNeed) {\r\n                return this.handleCreateReport(val.value, null);\r\n            }\r\n\r\n            const signData = canvas.canvas.ref.current.toDataURL();\r\n            const emptyDataSize = canvas.canvas.refHidden.current.toDataURL().length;\r\n            if (signData.length <= emptyDataSize) {\r\n                return this.props.showWarningAlert('Необходима подпись');\r\n            }\r\n            \r\n            const file = strBase64ToBin(signData);\r\n            this.handleCreateReport(val.value, file);\r\n        };\r\n\r\n        const onChangeValue = e => {\r\n            let consumption = null; \r\n            if (val.value <= 0) {\r\n                consumption = null;\r\n            }\r\n            else if (!this.state.place.meter) {\r\n                consumption = null;\r\n            }\r\n            else if (this.state.place.meter && !this.state.place.meter.lastData) {\r\n                consumption = val.value;\r\n            }\r\n            else {\r\n                consumption = val.value - Number(this.state.place.meter.lastData.value);    \r\n            }\r\n            this.setState({...this.state, consumption: consumption});\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\">\r\n                                    <div className=\"form-group my-0 p-0\">\r\n                                        <input className=\"form-control\" type=\"number\" placeholder=\"Текущие показания\" required ref={r => val = r} onChange={onChangeValue} />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={this.state.consumption === 0 ? 'table-warning' : (this.state.consumption > 0 ? 'table-success' : 'table-danger') }>\r\n                                <td><span className=\"font-weight-bold\">Потребление: </span></td>\r\n                                <td><span className=\"font-weight-bold text-right\">{this.state.consumption}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {/* <div className=\"input-group mb-3\">\r\n                    <div className=\"custom-file\">\r\n                        <input type=\"file\" className=\"custom-file-input\" />\r\n                        <label className=\"custom-file-label\">Фотография показаний</label>\r\n                    </div>\r\n                </div> */}\r\n                <h5 className=\"text-center mb-2\">Подпись потребителя</h5>\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        {\r\n                            place.isSignNeed &&\r\n                            <div className=\"my-2\">\r\n                                <CanvasSign ref={r => canvas = r} />\r\n                            </div>\r\n                        }\r\n                        <div className=\"form-group\">\r\n                            <button className=\"btn btn-primary btn-block\" onClick={onClickCreateReport}>Создать</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceAddData;","import React, { Component } from 'react';\r\nimport { withRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Login from '../Login';\r\n\r\nimport UserChangePassword from '../UserChangePassword';\r\n\r\nimport Owner from '../Owner';\r\nimport OwnerInfo from '../OwnerInfo';\r\n\r\n//import UserList from '../UserList';\r\n\r\nimport InspectorList from '../InspectorList';\r\nimport InspectorCreate from '../InspectorCreate';\r\nimport InspectorInfo from '../InspectorInfo';\r\nimport InspectorUpdate from '../InspectorUpdate';\r\nimport InspectorDelete from '../InspectorDelete';\r\n\r\nimport ConsumerList from '../ConsumerList';\r\nimport ConsumerCreate from '../ConsumerCreate';\r\nimport ConsumerInfo from '../ConsumerInfo';\r\nimport ConsumerUpdate from '../ConsumerUpdate';\r\nimport ConsumerDelete from '../ConsumerDelete';\r\n\r\nimport MeterList from '../MeterList';\r\nimport MeterCreate from '../MeterCreate';\r\nimport MeterInfo from '../MeterInfo';\r\nimport MeterUpdate from '../MeterUpdate';\r\nimport MeterDelete from '../MeterDelete';\r\nimport MeterAddData from '../MeterAddData';\r\n\r\nimport PlaceList from '../PlaceList';\r\nimport PlaceCreate from '../PlaceCreate';\r\nimport PlaceInfo from '../PlaceInfo';\r\nimport PlaceUpdate from '../PlaceUpdate';\r\nimport PlaceDelete from '../PlaceDelete';\r\n\r\nimport ReportList from '../ReportList';\r\nimport OwnerReportInfo from '../OwnerReportInfo';\r\nimport ReportUpdate from '../ReportUpdate';\r\nimport ReportDelete from '../ReportDelete';\r\n\r\nimport RegisterList from '../RegisterList';\r\nimport RegisterCreate from '../RegisterCreate';\r\nimport RegisterInfo from '../RegisterInfo';\r\nimport RegisterUpdate from '../RegisterUpdate';\r\nimport RegisterDelete from '../RegisterDelete';\r\n\r\nimport InspectorAppLayout from '../InspectorAppLayout';\r\nimport InspectorUserInfo from '../InspectorUserInfo';\r\nimport InspectorReportList from '../InspectorReportList';\r\nimport InspectorReportInfo from '../InspectorReportInfo';\r\nimport InspectorPlaceList from '../InspectorPlaceList';\r\nimport InspectorPlaceInfo from '../InspectorPlaceInfo';\r\nimport InspectorPlaceAddData from '../InspectorPlaceAddData';\r\n\r\n//import Consumer from '../Consumer';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: null,\r\n      alert: null\r\n    }\r\n\r\n  }\r\n\r\n  handlerLogout = () => {\r\n    this.props.history.index = -1;\r\n    this.props.history.push('/login');\r\n    let state = {};\r\n    Object.keys(this.state).forEach(key => {\r\n      state[key] = null;\r\n    });\r\n    this.setState({...state});\r\n  }\r\n\r\n  handlerlogin = (login, password) => {\r\n    if (!login || !password) {\r\n      this.setState({ ...this.state, alert: { type: 'warning', message: 'Incorrect login or password' } });\r\n      return;\r\n    }\r\n    api.login(login, password)\r\n      .then(user => {\r\n        this.setState({ ...this.state, user }, () => {\r\n          switch (user.role) {\r\n            case 'ADMIN': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'OWNER': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'INSPECTOR': {\r\n              this.props.history.push('/inspector');\r\n              break;\r\n            }\r\n            // case 'CONSUMER': {\r\n            //   this.props.history.push('/consumer');\r\n            //   break;\r\n            // }\r\n            default: {\r\n              this.props.history.push('/login');\r\n            }\r\n          }\r\n        });\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({ ...this.state, alert: { type: 'warning', message: error.message } })\r\n      });\r\n  }\r\n\r\n  handlerCloseAlert = () => {\r\n    this.setState({ ...this.state, alert: null });\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.history.push('/login');\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    console.log(\"APP\", user);\r\n    return (\r\n      <div>\r\n        <Switch>\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/login' render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n          <Route exact path='/owner' render={props => <Owner {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          <Route exact path='/inspector' render={props => <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          {/*<Route exact path='/consumer' render={props => <Consumer {...props} user={user} handlerLogout={this.handlerLogout} />} />*/}\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/inspector/user'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUserInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/user/changePassword'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/create'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/addData'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceAddData {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:report_id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:report_id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/user'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/user/changePassword'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/inspectors'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/consumers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/meters'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/addData'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterAddData {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/reports'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:report_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerReportInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:report_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:report_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/places'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/registers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n\r\n        </Switch>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {MemoryRouter} from 'react-router-dom';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap';\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\n\nimport App from './components/App';\n\nReactDOM.render(<MemoryRouter><App /></MemoryRouter>, document.getElementById('root'));"],"sourceRoot":""}