{"version":3,"sources":["components/Alert/index.js","components/Login/index.js","lib/api.js","components/NavBar/index.js","components/UserChangePassword/index.js","components/Owner/components/Header/index.js","components/Owner/components/Footer/index.js","components/Owner/index.js","components/OwnerInfo/index.js","components/ProgressBar/index.js","components/InspectorList/index.js","components/InspectorCreate/index.js","components/InspectorInfo/index.js","components/InspectorUpdate/index.js","components/InspectorDelete/index.js","components/ConsumerList/index.js","components/GoBackLink/index.js","components/ConsumerCreate/index.js","components/ConsumerInfo/index.js","components/ConsumerUpdate/index.js","components/ConsumerDelete/index.js","components/MeterList/index.js","components/MeterCreate/index.js","lib/helpers.js","components/MeterInfo/index.js","components/MeterUpdate/index.js","components/MeterDelete/index.js","components/MeterAddData/index.js","components/PlaceList/index.js","components/PlaceCreate/index.js","components/PlaceInfo/index.js","components/PlaceUpdate/index.js","components/PlaceDelete/index.js","components/ReportList/index.js","components/OwnerReportInfo/index.js","components/ReportUpdate/index.js","components/ReportDelete/index.js","components/RegisterList/index.js","components/RegisterCreate/index.js","components/RegisterInfo/index.js","components/RegisterUpdate/index.js","components/RegisterDelete/index.js","components/InspectorAppLayout/components/Header/index.js","components/InspectorAppLayout/components/Footer/index.js","components/InspectorAppLayout/index.js","components/InspectorUserInfo/index.js","components/InspectorReportList/index.js","components/InspectorReportInfo/index.js","components/InspectorPlaceList/index.js","components/InspectorPlaceInfo/index.js","components/CanvasSign/index.js","components/InspectorPlaceAddData/index.js","components/App/index.js","index.js"],"names":["Alert","props","type","message","handlerCloseAlert","onClickCloseAlert","e","preventDefault","console","log","react_default","a","createElement","className","role","style","zIndex","data-dismiss","aria-label","onClick","aria-hidden","Login","login","password","handlerLogin","alert","components_Alert","position","top","left","right","bottom","placeholder","required","autoFocus","ref","r","value","api","data","opt","method","headers","Content-Type","body","JSON","stringify","fetch","then","res","promise","json","ok","err","getAllUsers","token","Authorization","concat","changeUserPassword","id","url","getAllInspectors","limit","offset","getCountInspectors","createInspector","name","getInspectorById","inspector_id","cache","getInspectorByUserId","user_id","updateInspectorById","deleteInspectorById","getAllConsumers","params","push","isNaN","join","getCountConsumers","createConsumer","email","phone","getConsumerById","updateConsumerById","deleteConsumerById","getAllMeters","getCountMeters","getAllMetersNotInPlace","createMeter","number","getMeterById","updateMeterById","deleteMeterById","getCountPlaces","getAllPlaces","getAllPlacesForAudit","createPlace","isSignNeed","consumer_id","meter_id","getPlaceById","updatePlaceById","deletePlaceById","getAllReports","getCountReports","getReportById","getReportByIdPdf","responseType","response","blob","saveAs","Date","now","getAllReportsByInspectorId","createReport","place_id","sign_id","date","updateReportById","deleteReportById","getAllDataByMeterId","getCountDatas","createData","createSign","formData","FormData","append","deleteSignById","sendReport","getAllRegisters","createRegister","group_abonent_id","sub_abonentes","getRegisterById","updateRegisterById","deleteRegisterById","downloadXlsxRegisterById","downloadXlsxAllRegisters","act_01","getAll","count","getById","getPdfById","getAllByInspectorId","create","inspector","consumer","place","meter","updateById","deletetById","sendEmailById","NavLink","Link","to","history","goBack","children","UserChangePassword","confirmPassword","user","components_NavBar","done","showSuccessAlert","showWarningAlert","catch","_ref","error","Header","handlerLogout","data-toggle","data-target","aria-controls","aria-expanded","Footer","Owner","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","setState","objectSpread","state","setAlert","_this2","components_Header","React","Children","map","child","cloneElement","Owner_components_Footer","Component","withRouter","OwnerInfo","ProgressBar","large","height","aria-valuenow","aria-valuemin","aria-valuemax","width","InspectorList","loadItems","pageNumber","asyncToGenerator","regenerator_default","mark","_callee","_this$state","result","inspectors","wrap","_context","prev","next","sent","totalItemsCount","activePage","isLoaded","t0","stop","handlerChangePage","Promise","resolve","_ref3","_ref4","InspectorList_Table","Pagination_default","hideDisabled","itemsCountPerPage","innerClass","itemClass","linkClass","onChange","components_ProgressBar","Table","scope","fontSize","InspectorList_TableRow","key","TableRow","InspectorCreate","handleInspectorCreate","isProcessing","InspectorInfo","match","InspectorUpdate","handleUpdateInspector","isLoding","_ref2","_this3","defaultValue","InspectorDelete","handleClickYes","go","handleClickNo","Error","ConsumerList","consumers","ConsumerList_Table","ConsumerList_TableRow","href","GoBackLink","ConsumerCreate","handleCreateConsumer","ConsumerCreate_NavBar","NavBar","components_GoBackLink","ConsumerInfo","ConsumerUpdate","handleUpdateConsumer","ConsumerUpdate_NavBar","ConsumerDelete","MeterList","meters","MeterList_Table","MeterList_TableRow","MeterLink","handleCreateMeter","MeterCreate_NavBar","formatDate","tmp","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","seconds","getSeconds","prettyDate","dateformat","MeterInfo","datas","_ref5","MeterInfo_Table","MeterInfo_TableRow","MeterUpdate","handleUpdateMeter","MeterUpdate_NavBar","MeterDelete","MeterAddData","val","PlaceList","places","PlaceList_Table","PlaceList_TableRow","PlaceCreate","handleCreatePlace","isProcess","htmlFor","checked","PlaceInfo","colSpan","lastData","PlaceUpdate","handleUpdatePlace","toConsumableArray","defaultChecked","PlaceDelete","ReportList","acts","downloadPdf","ReportList_Table","items","item","ReportList_TableRow","current_value","download","OwnerReportInfo","act","assign","ConsumerSignId","last_date","last_value","current_date","ReportUpdate","handleUpdateReport","Number","undefined","ReportDelete","RegisterList","downloadXlsx","register_id","registers","RegisterList_Table","register","RegisterList_TableRow","group_abonent","RegisterCreate","handleCreateRegister","processing","report","sub_abonentes_select","sub_abonentes_list","filter","p","includes","toString","multiple","onDoubleClick","sub","options","i","length","selected","RegisterInfo","consumptionGroup","consumptionSubs","calculateConsumptionGroup","calculateConsumptionSub","sub_abonents","RegisterInfo_Table","RegisterInfo_TableRow","Fragment","rowSpan","last","curr","calculateConsumption","consumption","forEach","RegisterUpdate","componentDidMount","handleUpdateRegister","sub_abonents_select","sub_abonents_list","RegisterDelete","InspectorAppLayout","InspectorAppLayout_components_Header","components_InspectorAppLayout_components_Footer","InspectorUserInfo","InspectorReportList","act_id","InspectorReportList_Table","InspectorReportList_TableRow","InspectorReportInfo","ConsumerSingId","InspectorPlaceList","pageLimit","InspectorPlaceList_Table","InspectorPlaceList_TableRow","backgroundColor","InspectorPlaceInfo","CanvasSign","dX","canvas","current","getBoundingClientRect","window","scrollX","dY","scrollY","handlerTouchStart","ctx","document","getElementById","getContext","touches","changedTouches","ongoingTouches","copyTouch","beginPath","arc","pageX","pageY","brush","size","Math","PI","fillStyle","color","fill","handlerTouchMove","idx","ongoingTouchIndexById","identifier","moveTo","lineTo","lineWidth","strokeStyle","stroke","splice","handlerTouchEnd","handleCancel","touch","idToFind","handleClear","clearRect","x","y","snapshot","createRef","refHidden","addEventListener","removeEventListener","display","InspectorPlaceAddData","handleCreateReport","signData","placeName","sign","abrupt","_x","_x2","apply","arguments","components_CanvasSign","toDataURL","emptyDataSize","file","strBase64","blobBin","atob","split","array","charCodeAt","Blob","Uint8Array","strBase64ToBin","App","index","keys","handlerlogin","Switch","Route","exact","path","render","components_Login","components_Owner","components_InspectorAppLayout","components_InspectorUserInfo","components_UserChangePassword","components_InspectorPlaceList","components_PlaceCreate","components_InspectorPlaceInfo","components_PlaceUpdate","components_InspectorPlaceAddData","components_InspectorReportList","components_InspectorReportInfo","components_ReportUpdate","components_OwnerInfo","components_InspectorList","components_InspectorCreate","components_InspectorInfo","components_InspectorUpdate","components_InspectorDelete","components_ConsumerList","components_ConsumerCreate","components_ConsumerInfo","components_ConsumerUpdate","components_ConsumerDelete","components_MeterList","MeterCreate","components_MeterInfo","components_MeterUpdate","components_MeterDelete","components_MeterAddData","components_ReportList","components_OwnerReportInfo","components_ReportDelete","components_PlaceList","components_PlaceInfo","components_PlaceDelete","components_RegisterList","components_RegisterCreate","components_RegisterInfo","components_RegisterUpdate","components_RegisterDelete","ReactDOM","MemoryRouter","components_App"],"mappings":"iTA+CeA,EA7CD,SAAAC,GAAS,IACXC,EAAkBD,EAAlBC,KAAMC,EAAYF,EAAZE,QACNC,EAAsBH,EAAtBG,kBACFC,EAAoB,SAAAC,GACtBA,EAAEC,iBACFH,KAGJ,OADAI,QAAQC,IAAIP,EAAMC,GACVD,GAEJ,IAAK,SAAW,OACZQ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCAAqCC,KAAK,QAAQC,MAAO,CAACC,OAAQ,SAC7EN,EAAAC,EAAAC,cAAA,YAAOT,GACPO,EAAAC,EAAAC,cAAA,UAAQV,KAAK,SAASW,UAAU,QAAQI,eAAa,QAAQC,aAAW,QAAQC,QAASd,GACrFK,EAAAC,EAAAC,cAAA,QAAMQ,cAAY,QAAlB,WAMhB,IAAK,UAAY,OACbV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCAAqCC,KAAK,QAAQC,MAAO,CAACC,OAAQ,SAC7EN,EAAAC,EAAAC,cAAA,YAAOT,GACPO,EAAAC,EAAAC,cAAA,UAAQV,KAAK,SAASW,UAAU,QAAQI,eAAa,QAAQC,aAAW,QAAQC,QAASd,GACrFK,EAAAC,EAAAC,cAAA,QAAMQ,cAAY,QAAlB,WAMhB,QAAS,OACLV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCAAqCC,KAAK,QAAQC,MAAO,CAACC,OAAQ,SAC7EN,EAAAC,EAAAC,cAAA,YAAOT,GACPO,EAAAC,EAAAC,cAAA,UAAQV,KAAK,SAASW,UAAU,QAAQI,eAAa,QAAQC,aAAW,QAAQC,QAASd,GACrFK,EAAAC,EAAAC,cAAA,QAAMQ,cAAY,QAAlB,aCSTC,EA7CD,SAAApB,GAAS,IAEfqB,EAAOC,EADJC,EAAmCvB,EAAnCuB,aAAcpB,EAAqBH,EAArBG,kBAMrB,OACIM,EAAAC,EAAAC,cAAA,WACKX,EAAMwB,OAASf,EAAAC,EAAAC,cAACc,EAAD,CAAOxB,KAAMD,EAAMwB,MAAMvB,KAAMC,QAASF,EAAMwB,MAAMtB,QAASC,kBAAmBA,IAChGM,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCAAqCE,MAAO,CAACY,SAAU,WAAYC,IAAK,IAAKC,KAAM,IAAKC,MAAO,IAAKC,OAAQ,MACvHrB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,4HAEJF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,IACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOV,KAAK,OAAOW,UAAU,eAAemB,YAAY,8FAAmBC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAId,EAAQc,MAEpH1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOV,KAAK,WAAWW,UAAU,eAAemB,YAAY,uCAASC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAIb,EAAWa,MAEvG1B,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAtBzD,SAAAb,GACjBA,EAAEC,iBACFiB,EAAaF,EAAMe,MAAOd,EAASc,SAoBP,kCAOxB3B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,2CCy8BbyB,EA7+BH,CACRhB,MAAO,SAACA,EAAOC,GACX,IAAMgB,EAAO,CAACjB,QAAOC,YACfiB,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,qBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEC,YAAa,SAACC,GACV,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,gBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEK,mBAAoB,SAACH,EAAOI,EAAIpC,GAC5B,IAAMgB,EAAO,CAAChB,YACRiB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,iBAAAH,OAAoBE,EAApB,mBACT,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEQ,iBAAkB,SAACN,EAAOO,EAAOC,GAC7B,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,4BAAAH,OAA+BK,EAA/B,YAAAL,OAA+CM,GACxD,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEW,mBAAoB,SAACT,GACjB,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,2BACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEY,gBAAiB,SAACV,EAAOjC,EAAOC,EAAU2C,GACtC,IAAM3B,EAAO,CAACjB,QAAOC,WAAU2C,QACzB1B,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,qBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEc,iBAAkB,SAACZ,EAAOa,GACtB,IAAM5B,EAAM,CACRC,OAAQ,MACR4B,MAAO,WACP3B,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,sBAAAH,OAAyBW,GAClC,OAAOrB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OAEpB,OADA3C,QAAQC,IAAIyC,GACLD,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEiB,qBAAsB,SAACf,EAAOgB,GAC1B,IAAM/B,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,2BAAAH,OAA8Bc,GACvC,OAAOxB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OAEpB,OADA3C,QAAQC,IAAIyC,GACLD,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEmB,oBAAqB,SAACjB,EAAOI,EAAIO,GAC7B,IAAM3B,EAAO,CAAC2B,QACR1B,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,sBAAAH,OAAyBE,GAClC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEoB,oBAAqB,SAAClB,EAAOI,GACzB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,sBAAAH,OAAyBE,GAClC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEqB,gBAAiB,SAACnB,EAAOO,EAAOC,GAC5B,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BoB,EAAS,GACXb,GAAOa,EAAOC,KAAP,SAAAnB,OAAqBK,IAC3Be,MAAMd,IAASY,EAAOC,KAAP,UAAAnB,OAAsBM,IAC1C,IAAMH,EAAG,qBAAAH,OAAwBkB,EAAOG,KAAK,MAC7C,OAAO/B,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE0B,kBAAmB,SAACxB,GAChB,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,0BACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE2B,eAAgB,SAACzB,EAAOjC,EAAOC,EAAU2C,EAAMe,EAAOC,GAClD,IAAM3C,EAAO,CAACjB,QAAOC,WAAU2C,OAAMe,QAAOC,SACtC1C,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,oBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE8B,gBAAiB,SAAC5B,EAAOI,GACrB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,qBAAAH,OAAwBE,GACjC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE+B,mBAAoB,SAAC7B,EAAOI,EAAIO,EAAMe,EAAOC,GACzC,IAAM3C,EAAO,CAAC2B,OAAMe,QAAOC,SACrB1C,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,qBAAAH,OAAwBE,GACjC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEgC,mBAAoB,SAAC9B,EAAOI,GACxB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,qBAAAH,OAAwBE,GACjC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEiC,aAAc,SAAC/B,EAAOO,EAAOC,GACzB,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,wBAAAH,OAA2BK,EAA3B,YAAAL,OAA2CM,GACpD,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEkC,eAAgB,SAAChC,GACb,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,uBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEmC,uBAAwB,SAACjC,GACrB,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,4BACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEoC,YAAa,SAAClC,EAAOmC,GACjB,IAAMnD,EAAO,CAACmD,OAAQA,GAChBlD,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,iBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEsC,aAAc,SAACpC,EAAOI,GAClB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,kBAAAH,OAAqBE,GAC9B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEuC,gBAAiB,SAACrC,EAAOI,EAAI+B,GACzB,IAAMnD,EAAO,CAACmD,UACRlD,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,kBAAAH,OAAqBE,GAC9B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEwC,gBAAiB,SAACtC,EAAOI,GACrB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,kBAAAH,OAAqBE,GAC9B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEyC,eAAgB,SAACvC,GACb,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,uBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE0C,aAAc,SAACxC,EAAOO,EAAOC,GACzB,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,wBAAAH,OAA2BK,EAA3B,YAAAL,OAA2CM,GACpD,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE2C,qBAAsB,SAACzC,GACnB,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADK,uBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE4C,YAAa,SAAC1C,EAAOW,EAAMgC,EAAYC,EAAaC,GAChD,IAAM7D,EAAO,CAAC2B,OAAMgC,aAAYC,cAAaC,YACvC5D,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,iBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEgD,aAAc,SAAC9C,EAAOI,GAClB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,kBAAAH,OAAqBE,GAC9B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEiD,gBAAiB,SAAC/C,EAAOI,EAAIO,EAAMgC,EAAYC,EAAaC,GACxD,IAAM7D,EAAO,CAAC2B,OAAMgC,aAAYC,cAAaC,YACvC5D,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,kBAAAH,OAAqBE,GAC9B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEkD,gBAAiB,SAAChD,EAAOI,GACrB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,kBAAAH,OAAqBE,GAC9B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEmD,cAAe,SAACjD,EAAOO,EAAOC,GAC1B,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,yBAAAH,OAA4BK,EAA5B,YAAAL,OAA4CM,GACrD,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEoD,gBAAiB,SAAClD,EAAOa,GACrB,IAAM5B,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,sCAAAH,OAAyCW,GAAgB,IAClE,OAAOrB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEqD,cAAe,SAACnD,EAAOI,GACnB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,mBAAAH,OAAsBE,GAC/B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEsD,iBAAkB,SAACpD,EAAOI,GACtB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,kBAChBa,cAAA,UAAAC,OAA2BF,IAE/BqD,aAAc,QAEZhD,EAAG,mBAAAH,OAAsBE,EAAtB,QACT,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAA6D,GAAQ,OAAIA,EAASC,SAC1B9D,KAAK,SAAA8D,GAAI,OAAIC,iBAAOD,EAAD,UAAArD,OAAiBuD,KAAKC,MAAtB,YAG5BC,2BAA4B,SAAC3D,EAAOa,EAAcN,EAAOC,GACrD,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,gCAAAH,OAAmCW,EAAnC,WAAAX,OAAyDK,EAAzD,YAAAL,OAAyEM,GAClF,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE8D,aAAc,SAAC5D,EAAOa,EAAcgD,EAAUC,EAASC,EAAMjF,GACzD,IAAME,EAAO,CAAC6B,eAAcgD,WAAUC,UAASC,OAAMjF,SAC/CG,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,kBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEkE,iBAAkB,SAAChE,EAAOI,EAAItB,GAC1B,IAAME,EAAO,CAACF,SACRG,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,mBAAAH,OAAsBE,GAC/B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEmE,iBAAkB,SAACjE,EAAOI,GACtB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,mBAAAH,OAAsBE,GAC/B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEoE,oBAAqB,SAAClE,EAAO6C,EAAUtC,EAAOC,GAC1C,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,yBAAAH,OAA4B2C,GAAY,GAAxC,YAAA3C,OAAqDM,EAArD,WAAAN,OAAqEK,GAC9E,OAAOf,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEqE,cAAe,SAACnE,EAAO6C,GACnB,IAAM5D,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,+BAAAH,OAAkC2C,GAAY,IACvD,OAAOrD,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEsE,WAAY,SAACpE,EAAO6C,EAAUkB,EAAMjF,GAChC,IAAME,EAAO,CAAC+E,OAAMjF,QAAO+D,YACrB5D,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,eACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEuE,WAAY,SAACrE,EAAOhB,GAChB,IAAMsF,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQxF,EAAxB,QAAAkB,OAAsCuD,KAAKC,MAA3C,SACA,IAAMzE,EAAM,CACRC,OAAQ,OACRC,QAAS,CAELc,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMiF,GAGV,OAAO9E,IADK,gBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE2E,eAAgB,SAACzE,EAAOI,GACpB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,iBAAAH,OAAoBE,GAC7B,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE4E,WAAY,SAAC1E,EAAOI,GAChB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,mBAAAH,OAAsBE,EAAtB,cACT,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE6E,gBAAiB,SAAC3E,GACd,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAInC,OAAOR,IADE,oBACSP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE8E,eAAgB,SAAC5E,EAAOW,EAAMkE,EAAkBC,GAC5C7H,QAAQC,IAAIyD,EAAMkE,EAAkBC,GACpC,IAAM9F,EAAO,CAAC2B,OAAMkE,mBAAkBC,cAAeA,GAC/C7F,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,oBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEiF,gBAAiB,SAAC/E,EAAOI,GACrB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,qBAAAH,OAAwBE,GACjC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEkF,mBAAoB,SAAChF,EAAOI,EAAIO,EAAMkE,EAAkBC,GACpD7H,QAAQC,IAAIyD,EAAMkE,EAAkBC,GACpC,IAAM9F,EAAO,CAAC2B,OAAMkE,mBAAkBC,cAAeA,GAC/C7F,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,qBAAAH,OAAwBE,GACjC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEmF,mBAAoB,SAACjF,EAAOI,GACxB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,qBAAAH,OAAwBE,GACjC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEoF,yBAA0B,SAAClF,EAAOI,GAC9B,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BqD,aAAc,QAEZhD,EAAG,qBAAAH,OAAwBE,EAAxB,SACT,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAA6D,GAAQ,OAAIA,EAASC,SAC1B9D,KAAK,SAAA8D,GAAI,OAAIC,iBAAOD,EAAD,YAAArD,OAAmBuD,KAAKC,MAAxB,aAG5ByB,yBAA0B,SAACnF,GACvB,IAAMf,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BqD,aAAc,QAGlB,OAAO7D,IADE,yBACSP,GACbQ,KAAK,SAAA6D,GAAQ,OAAIA,EAASC,SAC1B9D,KAAK,SAAA8D,GAAI,OAAIC,iBAAOD,EAAD,YAAArD,OAAmBuD,KAAKC,MAAxB,aAG5B0B,OAAQ,CACJC,OAAQ,SAACrF,EAAOO,EAAOC,GACnB,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,4BAAAH,OAA+BK,EAA/B,YAAAL,OAA+CM,GACxD,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEwF,MAAO,SAACtF,EAAOa,GACX,IAAM5B,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,yCAAAH,OAA4CW,GAAgB,IACrE,OAAOrB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEyF,QAAS,SAACvF,EAAOI,GACb,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,sBAAAH,OAAyBE,GAClC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE0F,WAAY,SAACxF,EAAOI,GAChB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,kBAChBa,cAAA,UAAAC,OAA2BF,IAE/BqD,aAAc,QAEZhD,EAAG,sBAAAH,OAAyBE,EAAzB,QACT,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAA6D,GAAQ,OAAIA,EAASC,SAC1B9D,KAAK,SAAA8D,GAAI,OAAIC,iBAAOD,EAAD,OAAArD,OAAcuD,KAAKC,MAAnB,YAG5B+B,oBAAqB,SAACzF,EAAOa,EAAcN,EAAOC,GAC9C,IAAMvB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,mCAAAH,OAAsCW,EAAtC,WAAAX,OAA4DK,EAA5D,YAAAL,OAA4EM,GACrF,OAAOhB,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjE4F,OAAQ,SAAC1F,EAAO2F,EAAWC,EAAUC,EAAOC,EAAOhC,EAASC,EAAMjF,GAC9D,IAAME,EAAO,CAAC2G,YAAWC,WAAUC,QAAOC,QAAOhC,UAASC,OAAMjF,SAC1DG,EAAM,CACRC,OAAQ,OACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAGzB,OAAOQ,IADK,qBACMP,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEiG,WAAY,SAAC/F,EAAOI,EAAItB,GACpB,IAAME,EAAO,CAACF,SACRG,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,IAE/BX,KAAMC,KAAKC,UAAUP,IAEnBqB,EAAG,sBAAAH,OAAyBE,GAClC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEkG,YAAa,SAAChG,EAAOI,GACjB,IAAMnB,EAAM,CACRC,OAAQ,SACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,sBAAAH,OAAyBE,GAClC,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,OAIjEmG,cAAe,SAACjG,EAAOI,GACnB,IAAMnB,EAAM,CACRC,OAAQ,MACRC,QAAS,CACLC,eAAgB,mBAChBa,cAAA,UAAAC,OAA2BF,KAG7BK,EAAG,sBAAAH,OAAyBE,EAAzB,cACT,OAAOZ,IAAMa,EAAKpB,GACbQ,KAAK,SAAAC,GACF,IAAMC,EAAUD,EAAIE,OACpB,OAAOF,EAAIG,GAAKF,EAAUA,EAAQF,KAAK,SAAAK,GAAQ,MAAMA,iBCv9B1DoG,EAfC,SAAAxJ,GAKd,OACES,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,QAAQxI,QANtB,SAAAb,GAClBA,EAAEC,iBACFN,EAAM2J,QAAQC,WAIZ,kCAEE5J,EAAM6J,WC4CCC,EApDY,SAAA9J,GACzB,IAAIsB,EAAUyI,EACRC,EAAOhK,EAAMgK,KAsBnB,OAAIA,EAEAvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACsJ,EAAWjK,GACZS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,kFAEFF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,WAAW8B,YAAY,sEAAeC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAIb,EAAWa,MAE3G1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,WAAW8B,YAAY,0GAAqBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI4H,EAAkB5H,MAExH1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAtCxC,SAAAb,GAClBA,EAAEC,iBACEgB,EAASc,QAAU2H,EAAgB3H,MACrCC,EAAIoB,mBAAmBuG,EAAK1G,MAAO0G,EAAKtG,GAAIpC,EAASc,OAClDW,KAAK,SAAAmH,GACAA,GACFlK,EAAMmK,iBAAiB,mFACvBnK,EAAM2J,QAAQC,UAGd5J,EAAMoK,iBAAiB,kJAG1BC,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPvK,EAAMoK,iBAAiBG,EAAMrK,WAIjCF,EAAMoK,iBAAiB,8GAoBb,+DAQP,MCFMI,EAhDA,SAAAxK,GAAS,IACbgK,EAAQhK,EAARgK,KACAS,EAAiBzK,EAAjByK,cAKP,OACIhK,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+CACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,eAAe8I,GAAG,eAC9BjJ,EAAAC,EAAAC,cAAA,YAAOqJ,EAAK3I,OADhB,IAC8BZ,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAE3CH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBX,KAAK,SAASyK,cAAY,WAAWC,cAAY,aAAaC,gBAAc,YAAYC,gBAAc,QAAQ5J,aAAW,qBACxJR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yBAEpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAA2B8C,GAAG,aACzCjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,qBAA9B,iEAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,oBAA9B,uEAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,iBAA9B,qDAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,iBAA9B,mCAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,kBAA9B,yCAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,oBAA9B,+CAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,wBAAwB8I,GAAG,UAAUxI,QAnC3D,SAAAb,GAClBA,EAAEC,iBACFmK,MAiCwB,yCCxBjBK,SAdA,SAAA9K,GACX,OACIS,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kCACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,mBCFlBmK,cACF,SAAAA,EAAY/K,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACfC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,KAAMnL,KAaVG,kBAAoB,WAChB6K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,SAftBwJ,EAkBnBU,SAAW,SAACzL,EAAMC,GACd8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,CAACvB,OAAMC,eAnB7B8K,EAsBnBZ,iBAAmB,SAAAlK,GACf8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,CAACvB,KAAM,UAAWC,eAvBxC8K,EA0BnBb,iBAAmB,SAAAjK,GACf8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,CAACvB,KAAM,UAAWC,eAzBvD8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZxI,MAAO,MAJIwJ,wEA8BV,IAAAW,EAAAR,KACGnB,EAASmB,KAAKM,MAAdzB,KAER,OADAzJ,QAAQC,IAAI,QAASwJ,GAEjBvJ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiL,EAAD,CAAQ5B,KAAMA,EAAMS,cAAeU,KAAKnL,MAAMyK,gBAC7CU,KAAKM,MAAMjK,OAASf,EAAAC,EAAAC,cAACc,EAAD,CAAOxB,KAAMkL,KAAKM,MAAMjK,MAAMvB,KAAMC,QAASiL,KAAKM,MAAMjK,MAAMtB,QAASC,kBAAmBgL,KAAKhL,oBAEhHgL,KAAKnL,MAAM6J,UAAYgC,IAAMC,SAASC,IAAIZ,KAAKnL,MAAM6J,SAAU,SAAAmC,GAAK,OAChEH,IAAMI,aAAaD,EAAO,CAACN,SAAUC,EAAKD,SAAUtB,iBAAkBuB,EAAKvB,iBAAkBD,iBAAkBwB,EAAKxB,qBAG5H1J,EAAAC,EAAAC,cAACuL,EAAD,cA3CIC,aAiDLC,cAAWrB,GCpBXsB,EAhCG,SAAArM,GAChB,OAAIA,EAAMgK,KAENvJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACsJ,EAAWjK,EACVS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,8BAA7B,0FAEFjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,4EACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACfH,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBZ,EAAMgK,KAAKtG,MAErDjD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBZ,EAAMgK,KAAK3I,SAErDZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBZ,EAAMgK,KAAKnJ,YAQ1D,8BClBMyL,EAbK,SAAAtM,GAAS,IACpBE,EAAkBF,EAAlBE,QAASqM,EAASvM,EAATuM,MAChB,OACE9L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWE,MAAQyL,EAAQ,CAACC,OAAQ,UAAY,CAACA,OAAQ,QACtE/L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEAAsEC,KAAK,cAAc4L,gBAAc,MAAMC,gBAAc,IAAIC,gBAAc,MAAM7L,MAAO,CAAC8L,MAAO,SAE7K1M,sBCDJ2M,cACJ,SAAAA,EAAY7M,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0B,IACjB7B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4B,GAAAvB,KAAAH,KAAMnL,KAYR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAwJ,EAAAvJ,EAAAwJ,EAAA/C,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEapC,EAAKS,MAAxBnI,EAFM8J,EAEdpD,KAAQ1G,MAASO,EAFHuJ,EAEGvJ,MAFH2J,EAAAE,KAAA,EAGDrL,EAAI0B,mBAAmBT,GAHtB,aAGhB+J,EAHgBG,EAAAG,OAIRN,EAAOzE,MAAQ,GAJP,CAAA4E,EAAAE,KAAA,gBAKd5J,GAAUiJ,EAAa,GAAKlJ,EALd2J,EAAAE,KAAA,EAMKrL,EAAIuB,iBAAiBN,EAAOO,EAAOC,GANxC,OAMdwJ,EANcE,EAAAG,KAOpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B6B,aAAYM,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAPxFN,EAAAE,KAAA,iBAUpB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAVrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAafjD,EAbeiD,EAAAO,GAafxD,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BqC,UAAU,IAAO,WAC7C9C,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,WAfd,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAbPH,EAyCnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA1CtC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZsD,WAAY,GACZzJ,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GATK9C,mFAiCC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAgE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAatC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,4BAA9B,qDAEFjJ,EAAAC,EAAAC,cAAC2N,EAAD,CAAOhB,WAAYnC,KAAKM,MAAM6B,aAE5BnC,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAlBoBxN,EAAAC,EAAAC,cAACmO,EAAD,aAnDT3C,aA6EtB4C,EAAQ,SAAA/O,GAAS,IACdsN,EAActN,EAAdsN,WACP,OACE7M,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,SACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,UAGJH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAACmO,SAAU,YAErB3B,GAAcA,EAAWvB,IAAI,SAAA9C,GAAS,OAAIxI,EAAAC,EAAAC,cAACuO,EAAD,CAAUC,IAAG,GAAA3L,OAAKyF,EAAUvF,GAAf,KAAAF,OAAqByF,EAAUhF,MAAQgF,UAAWA,UAQ/GmG,EAAW,SAAApP,GAAS,IACjBiJ,EAAajJ,EAAbiJ,UACP,OACExI,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACdH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,qBAAAlG,OAAuByF,EAAUvF,KAAOuF,EAAUvF,KAE1DjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeqI,EAAU5H,OACvCZ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeqI,EAAUhF,QAK9B4I,IChCAwC,cA/Eb,SAAAA,EAAYrP,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkE,IACjBrE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoE,GAAA/D,KAAAH,KAAMnL,KAQRsP,sBAAwB,SAACjO,EAAOC,EAAU2C,GACxC,IAAMX,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9B0H,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,KAC5ClN,EAAI2B,gBAAgBV,EAAOjC,EAAOC,EAAU2C,GACzClB,KAAK,SAAAkG,GACAA,GACF+B,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,IAAQ,WAClDvE,EAAKhL,MAAM2J,QAAQC,aAIxBS,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,IAAQ,WAClDvE,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,cAnB3C8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZuF,cAAc,GALCvE,wEA2BV,IAEH3J,EAAOC,EAAUyI,EAAiB9F,EAF/B0H,EAAAR,KAcP,OACE1K,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,4HAEJF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,iCAAQC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAId,EAAQc,MAEvG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,WAAW8B,YAAY,uCAASC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAIb,EAAWa,MAErG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,WAAW8B,YAAY,0GAAqBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI4H,EAAkB5H,MAExH1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,qFAAoBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,MAGtGgJ,KAAKM,MAAM8D,aACT9O,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAS,4DAAgBqM,OAAO,IAC7C9L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QApCjC,SAAAb,GAC7BA,EAAEC,iBACEgB,EAASc,QAAU2H,EAAgB3H,MACrCuJ,EAAK3L,MAAM0L,SAAS,UAAW,0FAG/BC,EAAK2D,sBAAsBjO,EAAMe,MAAOd,EAASc,MAAO6B,EAAK7B,SA8B/C,2DArEQ+J,aCiEfqD,cAhEb,SAAAA,EAAYxP,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqE,IACjBxE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuE,GAAAlE,KAAAH,KAAMnL,KAEDyL,MAAQ,CACXxC,UAAW,CACTvF,GAAI1D,EAAMyP,MAAM/K,OAAOP,cAEzB6F,KAAMhK,EAAMgK,KACZ8D,UAAU,GARK9C,mFAYC,IAAAW,EAAAR,KAClB9I,EAAI6B,iBAAiBiH,KAAKM,MAAMzB,KAAK1G,MAAO6H,KAAKM,MAAMxC,UAAUvF,IAC9DX,KAAK,SAAAkG,GACAA,EACF0C,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BxC,YAAW6E,UAAU,KAGpDnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC7CnC,EAAK3L,MAAMoK,iBAAiB,gHAIjCC,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC7CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,8CAM1C,IAAKiL,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD1B,IAEC7F,EAAckC,KAAKM,MAAnBxC,UACR,OACExI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,qBAAAlG,OAAuByF,EAAUvF,GAAjC,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,qBAAAlG,OAAuByF,EAAUvF,GAAjC,YAA7B,+CAEFjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,0DACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACfH,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBqI,EAAUvF,MAEpDjD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBqI,EAAU5H,SAEpDZ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uBACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBqI,EAAUhF,mBAvDtCkI,aCuGbuD,cAvGb,SAAAA,EAAY1P,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuE,IACjB1E,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyE,GAAApE,KAAAH,KAAMnL,KAqCR2P,sBAAwB,SAAA1L,GACtB,IAAKA,EACH,OAAO+G,EAAKhL,MAAMoK,iBAAiB,4JAGrCY,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,KAE5C,IAAMjM,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxBa,EAAe6G,EAAKS,MAAMxC,UAAUvF,GAC1CrB,EAAIkC,oBAAoBjB,EAAOa,EAAcF,GAC1ClB,KAAK,SAAAkG,GACAA,EACF+B,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,IAAQ,WAClDvE,EAAKhL,MAAMmK,iBAAiB,+KAC5Ba,EAAKhL,MAAM2J,QAAQC,WAIrBoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,IAAQ,WAClDvE,EAAKhL,MAAMoK,iBAAiB,gHAIjCC,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACRS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8D,cAAc,IAAQ,WAClDvE,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,cA5DxC8K,EAAKS,MAAQ,CACXxC,UAAW,CACTvF,GAAI1D,EAAMyP,MAAM/K,OAAOP,cAEzB6F,KAAMhK,EAAMgK,KACZ4F,UAAU,EACV9B,UAAU,EACVyB,cAAc,GAVCvE,mFAcC,IAAAW,EAAAR,KAEZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxBa,EAAegH,KAAKM,MAAMxC,UAAUvF,GAC1CrB,EAAI6B,iBAAiBZ,EAAOa,GACzBpB,KAAK,SAAAkG,GACAA,EACF0C,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BxC,YAAW6E,UAAU,KAGpDnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAE/CnC,EAAK3L,MAAMoK,iBAAiB,2BAIjCC,MAAM,SAAAwF,GAAe,IAAZtF,EAAYsF,EAAZtF,MACRoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAE/CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,8CAmCjC,IAAA4P,EAAA3E,KACP,IAAKA,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD1B,IAGH7K,EADIgF,EAAckC,KAAKM,MAAnBxC,UAMR,OACExI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,+IAEFF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,qFAAoBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,GAAG4N,aAAc9G,EAAUhF,QAGjIkH,KAAKM,MAAM8D,aACT9O,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAS,4DAAgBqM,OAAO,IAC7C9L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QApB1C,SAAAb,GAClBA,EAAEC,iBACFwP,EAAKH,sBAAsB1L,EAAK7B,SAkBlB,sEA7FU+J,aCwEf6D,cAxEb,SAAAA,EAAYhQ,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6E,IACjBhF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+E,GAAA1E,KAAAH,KAAMnL,KA2BRiQ,eAAiB,SAAA5P,GACfA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxBa,EAAe6G,EAAKS,MAAMxC,UAAUvF,GAC1CrB,EAAImC,oBAAoBlB,EAAOa,GAC5BpB,KAAK,SAAAmH,GACAA,IACFc,EAAKhL,MAAM0L,SAAS,UAAW,+FAC/BV,EAAKhL,MAAM2J,QAAQuG,IAAI,MAG1B7F,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,YAxCxB8K,EA4CnBmF,cAAgB,SAAA9P,GACdA,EAAEC,iBACF0K,EAAKhL,MAAM2J,QAAQC,UA3CnBoB,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZf,UAAW,CACTvF,GAAI1D,EAAMyP,MAAM/K,OAAOP,cAEzB2J,UAAU,GARK9C,mFAYC,IAAAW,EAAAR,KACZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxBa,EAAegH,KAAKM,MAAMxC,UAAUvF,GAC1CrB,EAAI6B,iBAAiBZ,EAAOa,GACzBpB,KAAK,SAAAkG,GACJ,IAAKA,EAAW,MAAM,IAAImH,MAAM,CAAC7F,MAAO,CAACrK,QAAS,yBAClDyL,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BxC,YAAW6E,UAAU,OAEpDzD,MAAM,SAAAwF,GAAa,IAAXtF,EAAWsF,EAAXtF,MACPoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC7CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,8CA2BzB,IAAKuB,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD1B,IAEA7F,EAAakC,KAAKM,MAAlBxC,UACP,OACExI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,2GAAA4C,OAAqDyF,EAAUhF,KAA/D,OAEFxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBM,QAASiK,KAAK8E,gBAAlD,QAEFxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAASiK,KAAKgF,eAAjD,iBAhEgBhE,aCGxBkE,cACJ,SAAAA,EAAYrQ,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkF,IACjBrF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoF,GAAA/E,KAAAH,KAAMnL,KAYR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAwJ,EAAAvJ,EAAAwM,EAAA/F,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEapC,EAAKS,MAAxBnI,EAFM8J,EAEdpD,KAAQ1G,MAASO,EAFHuJ,EAEGvJ,MAFH2J,EAAAE,KAAA,EAGDrL,EAAIyC,kBAAkBxB,GAHrB,aAGhB+J,EAHgBG,EAAAG,OAIRN,EAAOzE,MAAQ,GAJP,CAAA4E,EAAAE,KAAA,gBAKd5J,GAAUiJ,EAAa,GAAKlJ,EALd2J,EAAAE,KAAA,EAMIrL,EAAIoC,gBAAgBnB,EAAOO,EAAOC,GANtC,OAMdwM,EANc9C,EAAAG,KAOpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B6E,YAAW1C,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAPvFN,EAAAE,KAAA,iBAUpB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAVrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAafjD,EAbeiD,EAAAO,GAafxD,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KACzC9C,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAfZ,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAbPH,EAwCnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YAzCtC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZsG,UAAW,GACXzM,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GATK9C,mFAgCC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAgE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAatC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,2BAA9B,qDAEFjJ,EAAAC,EAAAC,cAAC4P,EAAD,CAAOD,UAAWnF,KAAKM,MAAM6E,YAE3BnF,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAlBoBxN,EAAAC,EAAAC,cAACmO,EAAD,aAlDV3C,aA4ErB4C,EAAQ,SAAA/O,GAAS,IACdsQ,EAAatQ,EAAbsQ,UACP,OACE7P,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,kCACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,sEACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,SACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,gDAGJH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAACmO,SAAU,YAEnBqB,GAAaA,EAAUvE,IAAI,SAAA7C,GAAQ,OAAIzI,EAAAC,EAAAC,cAAC6P,EAAD,CAAUrB,IAAG,GAAA3L,OAAK0F,EAASxF,GAAd,KAAAF,OAAoB0F,EAAS7H,MAA7B,KAAAmC,OAAsC0F,EAASjF,KAA/C,KAAAT,OAAuD0F,EAASlE,OAASkE,SAAUA,UAQ/IkG,EAAW,SAAApP,GAAS,IACjBkJ,EAAYlJ,EAAZkJ,SACP,OACEzI,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,oBAAAlG,OAAsB0F,EAASxF,KAAOwF,EAASxF,KACnFjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAesI,EAAS7H,OACtCZ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAesI,EAASjF,MACtCxD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAesI,EAASlE,OACtCvE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAAmB6P,KAAI,OAAAjN,OAAS0F,EAASjE,QAAUiE,EAASjE,UAK5FoL,ICnHAK,EAFI,SAAA1Q,GAAK,OAAIS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,QAAQxI,QAAS,SAAAb,GAAMA,EAAEC,iBAAkBN,EAAM2J,QAAQC,WAAvF,mCCEtB+G,cACF,SAAAA,EAAY3Q,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwF,IACf3F,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0F,GAAArF,KAAAH,KAAMnL,KAQV4Q,qBAAuB,SAACvP,EAAOC,EAAU2C,EAAMe,EAAOC,GAClD,IAAM3B,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9B0H,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KACzCzL,EAAI0C,eAAezB,EAAOjC,EAAOC,EAAU2C,EAAMe,EAAOC,GACnDlC,KAAK,SAAAmG,GACEA,EACA8B,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7C9C,EAAKhL,MAAMmK,iBAAiB,uHAC5Ba,EAAKhL,MAAM2J,QAAQC,YAIvBoB,EAAKhL,MAAMoK,iBAAiB,oIAC5BY,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,QAGhDzD,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAClC8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,QAxBjD9C,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZ8D,UAAU,GALC9C,mFAgCfG,KAAKI,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBE,KAAKM,MAAxB,CAA+BqC,UAAU,sCAGpC,IACDzM,EAAOC,EAAUyI,EAAiB9F,EAAMe,EAAOC,EAD9C0G,EAAAR,KAgBL,OACI1K,EAAAC,EAAAC,cAAA,YAESwK,KAAKM,MAAMqC,UAAYrN,EAAAC,EAAAC,cAACmO,EAAD,MAE5BrO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACkQ,EAAW1F,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,kIAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,iCAAQC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAId,EAAQc,MAEzG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,WAAW8B,YAAY,uCAASC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAIb,EAAWa,MAEvG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,WAAW8B,YAAY,0GAAqBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI4H,EAAkB5H,MAE1H1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,sHAAuBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,MAE7G1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,QAAQ8B,YAAY,QAAQC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI6C,EAAQ7C,MAEhG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,QAAQ8B,YAAY,kFAAiBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI8C,EAAQ9C,MAEzG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QA7C5C,SAAAb,GAE1B,GADAA,EAAEC,kBACGe,IAAUC,IAAayI,IAAoB9F,IAASe,EACrD,OAAO2G,EAAKvB,iBAAiB,uJAE7B9I,EAASc,QAAU2H,EAAgB3H,MACnCuJ,EAAKiF,qBAAqBvP,EAAMe,MAAOd,EAASc,MAAO6B,EAAK7B,MAAO4C,EAAM5C,MAAO6C,EAAM7C,OAGtFuJ,EAAK3L,MAAMoK,iBAAiB,8GAoCR,2DApFP+B,aA+FvB2E,EAAS,SAAA9Q,GACX,OACIS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAACoQ,EAAe/Q,KAKb2Q,ICvBAK,cA5EX,SAAAA,EAAYhR,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6F,IACfhG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+F,GAAA1F,KAAAH,KAAMnL,KAEDyL,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZd,SAAU,CACNxF,GAAI1D,EAAMyP,MAAM/K,OAAOwB,aAE3B4H,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB4C,EAAciF,KAAKM,MAAMvC,SAASxF,GACxCrB,EAAI6C,gBAAgB5B,EAAO4C,GACtBnD,KAAK,SAAAmG,GACEA,EACAyC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BvC,WAAU4E,UAAU,KAGnDnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC3CnC,EAAK3L,MAAMoK,iBAAiB,wHAC5BuB,EAAK3L,MAAM2J,QAAQC,aAI9BS,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC3CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,8CAM/B,IAAKuB,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD5B,IAEG5F,EAAaiC,KAAKM,MAAlBvC,SACR,OACIzI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACbS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,oBAAAlG,OAAsB0F,EAASxF,GAA/B,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,oBAAAlG,OAAsB0F,EAASxF,GAA/B,YAA7B,+CAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,sEACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsI,EAASxF,MAErDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsI,EAAS7H,SAErDZ,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsI,EAASjF,QAErDxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,UACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsI,EAASlE,SAErDvE,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,mBAAmB6P,KAAI,OAAAjN,OAAS0F,EAASjE,QAAUiE,EAASjE,oBApElFkH,aCHrB8E,eACF,SAAAA,EAAYjR,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8F,IACfjG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgG,GAAA3F,KAAAH,KAAMnL,KA6BVkR,qBAAuB,SAACjN,EAAMe,EAAOC,GACjC,IAAKhB,IAASe,EACV,OAAOgG,EAAKhL,MAAMoK,iBAAiB,uJAEvC,IAAM9G,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxB4C,EAAc8E,EAAKS,MAAMvC,SAASxF,GACxCrB,EAAI8C,mBAAmB7B,EAAO4C,EAAajC,EAAMe,EAAOC,GACnDlC,KAAK,SAAAmG,GACEA,GACA8B,EAAKhL,MAAMmK,iBAAiB,4JAC5Ba,EAAKhL,MAAM2J,QAAQC,UAGnBoB,EAAKhL,MAAMoK,iBAAiB,gLAGnCC,MAAM,SAAAjH,GACH7C,QAAQC,IAAI4C,GACZ4H,EAAKhL,MAAMoK,iBAAiBhH,EAAImH,MAAMrK,YA7C9C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZd,SAAU,CACNxF,GAAI1D,EAAMyP,MAAM/K,OAAOwB,cANhB8E,mFAWC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB4C,EAAciF,KAAKM,MAAMvC,SAASxF,GACxCrB,EAAI6C,gBAAgB5B,EAAO4C,GACtBnD,KAAK,SAAAmG,GACEA,EACAyC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BvC,eAG/ByC,EAAK3L,MAAMoK,iBAAiB,wHAC5BuB,EAAK3L,MAAM2J,QAAQC,YAG1BS,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CA0BtB,IAED3F,EAAMe,EAAOC,EAFZ6K,EAAA3E,KACGjC,EAAaiC,KAAKM,MAAlBvC,SAMR,OACIzI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACwQ,GAAWhG,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,gKAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,sHAAuBC,UAAQ,EAACC,WAAS,EAAC8N,aAAc7G,EAASjF,KAAM/B,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,MAEpJ1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,QAAQ8B,YAAY,QAAQC,UAAQ,EAAC+N,aAAc7G,EAASlE,MAAO9C,IAAK,SAAAC,GAAC,OAAI6C,EAAQ7C,MAE9H1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,QAAQC,UAAQ,EAAC+N,aAAc7G,EAASjE,MAAO/C,IAAK,SAAAC,GAAC,OAAI8C,EAAQ9C,MAE7H1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAvBxC,SAAAb,GAC1BA,EAAEC,iBACFwP,EAAKoB,qBAAqBjN,EAAK7B,MAAO4C,EAAM5C,MAAO6C,EAAM7C,SAqBrC,sEA/EH+J,aAyFvB2E,GAAS,SAAA9Q,GACX,OACIS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAACoQ,EAAe/Q,KAKbiR,MCxBAG,eAzEb,SAAAA,EAAYpR,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiG,IACjBpG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmG,GAAA9F,KAAAH,KAAMnL,KA6BRiQ,eAAiB,SAAA5P,GACfA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxB4C,EAAc8E,EAAKS,MAAMvC,SAASxF,GACxCrB,EAAI+C,mBAAmB9B,EAAO4C,GAC3BnD,KAAK,SAAAmH,GACAA,IACFc,EAAKhL,MAAMmK,iBAAiB,2GAC5Ba,EAAKhL,MAAM2J,QAAQuG,IAAI,MAG1B7F,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA1CrB8K,EA8CnBmF,cAAgB,SAAA9P,GACdA,EAAEC,iBACF0K,EAAKhL,MAAM2J,QAAQC,UA7CnBoB,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZd,SAAU,CACRxF,GAAI1D,EAAMyP,MAAM/K,OAAOwB,cANV8E,mFAWC,IAAAW,EAAAR,KACZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB4C,EAAciF,KAAKM,MAAMvC,SAASxF,GACxCrB,EAAI6C,gBAAgB5B,EAAO4C,GACxBnD,KAAK,SAAAmG,GACAA,EACFyC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BvC,eAG9ByC,EAAK3L,MAAMoK,iBAAiB,wHAC5BuB,EAAK3L,MAAM2J,QAAQC,YAGtBS,MAAM,SAAAwF,GAAa,IAAXtF,EAAWsF,EAAXtF,MACPoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAyBhB,IACAV,EAAYiC,KAAKM,MAAjBvC,SACP,OACEzI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,iHAAA4C,OAAsD0F,EAASjF,KAA/D,OAEFxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBM,QAASiK,KAAK8E,gBAAlD,QAEFxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAASiK,KAAKgF,eAAjD,iBAjEehE,aCIvBkF,eACJ,SAAAA,EAAYrR,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkG,IACjBrG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoG,GAAA/F,KAAAH,KAAMnL,KAYR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAwJ,EAAAvJ,EAAAwN,EAAA/G,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEapC,EAAKS,MAAxBnI,EAFM8J,EAEdpD,KAAQ1G,MAASO,EAFHuJ,EAEGvJ,MAFH2J,EAAAE,KAAA,EAGDrL,EAAIiD,eAAehC,GAHlB,aAGhB+J,EAHgBG,EAAAG,OAIRN,EAAOzE,MAAQ,GAJP,CAAA4E,EAAAE,KAAA,gBAKd5J,GAAUiJ,EAAa,GAAKlJ,EALd2J,EAAAE,KAAA,EAMCrL,EAAIgD,aAAa/B,EAAOO,EAAOC,GANhC,OAMdwN,EANc9D,EAAAG,KAOpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B6F,SAAQ1D,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAPpFN,EAAAE,KAAA,iBAUpB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAVrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAafjD,EAbeiD,EAAAO,GAafxD,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAdZ,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAbPH,EAuCnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YAxCtC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZsH,OAAQ,GACRzN,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GATK9C,mFA+BC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAgE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAatC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,wBAA9B,qDAEFjJ,EAAAC,EAAAC,cAAC4Q,GAAD,CAAOD,OAAQnG,KAAKM,MAAM6F,SAExBnG,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAlBoBxN,EAAAC,EAAAC,cAACmO,EAAD,aAjDb3C,aA2ElB4C,GAAQ,SAAA/O,GAAS,IACbsR,EAAWtR,EAAXsR,OACR,OACE7Q,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,YAGJH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAEtBqC,GAAUA,EAAOvF,IAAI,SAAA3C,GAAK,OAAI3I,EAAAC,EAAAC,cAAC6Q,GAAD,CAAUrC,IAAG,GAAA3L,OAAK4F,EAAM1F,GAAX,KAAAF,OAAiB4F,EAAM3D,QAAU2D,MAAOA,UAQzFgG,GAAW,SAAApP,GAAS,IAChBoJ,EAAUpJ,EAAVoJ,MACR,OACE3I,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,iBAAAlG,OAAmB4F,EAAM1F,KAAO0F,EAAM1F,KAEhDjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAewI,EAAM3D,UAK1B4L,MC/GTI,8MAEJC,kBAAoB,SAAAjM,GAClB,GAAKA,EAAL,CAIA,IAAMnC,EAAQ0H,EAAKhL,MAAMgK,KAAK1G,MAC9BjB,EAAImD,YAAYlC,EAAOmC,GACpB1C,KAAK,SAAAqG,GACAA,GACF4B,EAAKhL,MAAMmK,iBAAiB,+FAC5Ba,EAAKhL,MAAM2J,QAAQC,UAGnBoB,EAAKhL,MAAMoK,iBAAiB,wJAG/BC,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,gBAfpC8K,EAAKhL,MAAMoK,iBAAiB,qOAmBvB,IACH3E,EADGkG,EAAAR,KAMP,OACE1K,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACgR,GAAWxG,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,0GAEFF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,kFAAiBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAIsD,EAAStD,MAEvG1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAjBpC,SAAAb,GACpBA,EAAEC,iBACFqL,EAAK+F,kBAAkBjM,EAAOrD,SAepB,gEA1CQ+J,aAoDlB2E,GAAS,SAAA9Q,GACb,OACES,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAACoQ,EAAe/Q,KAKPyR,0BClDFG,GAAa,SAAAvK,GACtB,IAAMwK,EAAM,IAAI9K,KAAKM,GACfyK,EAAOD,EAAIE,cACXC,EAAQH,EAAII,WAAa,EACzBC,EAAML,EAAIM,UACVC,EAAOP,EAAIQ,WACXC,EAAUT,EAAIU,aACdC,EAAUX,EAAIY,aACpB,SAAAjP,OAAUsO,EAAV,KAAAtO,OAAkBwO,EAAQ,EAAR,IAAAxO,OAAgBwO,GAAUA,EAA5C,KAAAxO,OAAqD0O,EAArD,KAAA1O,OAA4D4O,EAA5D,KAAA5O,OAAoE8O,EAApE,KAAA9O,OAA+EgP,IAGtEE,GAAa,SAAArL,GAEtB,OAAOsL,KAAW,IAAI5L,KAAKM,GADP,wBClBlBuL,eACJ,SAAAA,EAAY5S,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyH,IACjB5H,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2H,GAAAtH,KAAAH,KAAMnL,KAeR8M,UAAY,SAAC1D,EAAO2D,GAAR,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAuB,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAwJ,EAAAvJ,EAAA+O,EAAAtI,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEIpC,EAAKS,MAAxBnI,EAFe8J,EAEvBpD,KAAQ1G,MAASO,EAFMuJ,EAENvJ,MAFM2J,EAAAE,KAAA,EAGVrL,EAAIoF,cAAcnE,EAAO8F,EAAM1F,IAHrB,aAGzB2J,EAHyBG,EAAAG,OAIjBN,EAAOzE,MAAQ,GAJE,CAAA4E,EAAAE,KAAA,gBAKvB5J,GAAUiJ,EAAa,GAAKlJ,EALL2J,EAAAE,KAAA,EAMTrL,EAAImF,oBAAoBlE,EAAO8F,EAAM1F,GAAIG,EAAOC,GANvC,OAMvB+O,EANuBrF,EAAAG,KAO7B3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BrC,QAAOyJ,QAAOjF,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAPjFN,EAAAE,KAAA,iBAU7B1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BrC,QAAO0E,UAAU,KAVnB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAaxBjD,EAbwBiD,EAAAO,GAaxBxD,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAdH,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAhBhBH,EAsEnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAU9B,EAAKS,MAAMrC,MAAO2D,IACtC1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YAvEtC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZZ,MAAO,CACL1F,GAAI1D,EAAMyP,MAAM/K,OAAOyB,UAEzB0M,MAAO,GACPhP,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GAZK9C,mFAkCC,IAAAW,EAAAR,KACZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6C,EAAWgF,KAAKM,MAAMrC,MAAM1F,GAClCrB,EAAIqD,aAAapC,EAAO6C,GACrBpD,KAAK,SAAAqG,GACJ,GAAIA,EAcF,OAAO8E,QAAQC,UACZpL,KAAK4I,EAAKmB,UAAU1D,EAAOuC,EAAKF,MAAMoC,aACtCxD,MAAM,SAAAgE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,WAItCyL,EAAK3L,MAAMoK,iBAAiB,gGAC5BuB,EAAK3L,MAAM2J,QAAQC,WAGtBS,MAAM,SAAAyI,GAAe,IAAZvI,EAAYuI,EAAZvI,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAavB,IAAKuB,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD1B,IAEC1F,EAAU+B,KAAKM,MAAfrC,MACR,OACE3I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,iBAAAlG,OAAmB4F,EAAM1F,GAAzB,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,iBAAAlG,OAAmB4F,EAAM1F,GAAzB,YAA7B,8CACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,iBAAAlG,OAAmB4F,EAAM1F,GAAzB,aAA7B,4GAEFjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,8CACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACfH,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBwI,EAAM1F,MAEhDjD,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBwI,EAAM3D,aAKtDhF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,0DACAH,EAAAC,EAAAC,cAACoS,GAAD,CAAOF,MAAO1H,KAAKM,MAAMoH,QAEvB1H,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,aArHO9B,aA4HlB4C,GAAQ,SAAA/O,GAAS,IACb6S,EAAU7S,EAAV6S,MACR,OACEpS,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,4BACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,4DAGJH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAEtB4D,GAASA,EAAM9G,IAAI,SAAAzJ,GAAI,OAAI7B,EAAAC,EAAAC,cAACqS,GAAD,CAAU7D,IAAG,GAAA3L,OAAKlB,EAAKoB,GAAV,KAAAF,OAAgBlB,EAAK+E,MAAQ/E,KAAMA,SAO/E8M,GAAW,SAAApP,GAAS,IAChBsC,EAAStC,EAATsC,KACR,OACE7B,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAe8R,GAAWpQ,EAAK+E,OAC7C5G,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAe0B,EAAKF,SAKzBwQ,MC7JTK,eAEJ,SAAAA,EAAYjT,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8H,IACjBjI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgI,GAAA3H,KAAAH,KAAMnL,KA6BRkT,kBAAoB,SAAAzN,GAClB,GAAKA,EAAL,CAIA,IAAMnC,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxB6C,EAAW6E,EAAKS,MAAMrC,MAAM1F,GAClCrB,EAAIsD,gBAAgBrC,EAAO6C,EAAUV,GAClC1C,KAAK,SAAAqG,GACAA,GACF4B,EAAKhL,MAAMmK,iBAAiB,oIAC5Ba,EAAKhL,MAAM2J,QAAQC,UAGnBoB,EAAKhL,MAAMoK,iBAAiB,wJAG/BC,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,gBAhBpC8K,EAAKhL,MAAMoK,iBAAiB,6JA7B9BY,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZZ,MAAO,CACL1F,GAAI1D,EAAMyP,MAAM/K,OAAOyB,WANV6E,mFAWC,IAAAW,EAAAR,KACZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6C,EAAWgF,KAAKM,MAAMrC,MAAM1F,GAClCrB,EAAIqD,aAAapC,EAAO6C,GACrBpD,KAAK,SAAAqG,GACAA,EACFuC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BrC,YAG9BuC,EAAK3L,MAAMoK,iBAAiB,gGAC5BuB,EAAK3L,MAAM2J,QAAQC,YAGtBS,MAAM,SAAAwF,GAAa,IAAXtF,EAAWsF,EAAXtF,MACPoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CA0BhB,IACHnE,EADGqK,EAAA3E,KAEA/B,EAAS+B,KAAKM,MAAdrC,MAKP,OACE3I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACwS,GAAWhI,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,wIAEFF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,kFAAiBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAIsD,EAAStD,GAAG4N,aAAc3G,EAAM3D,UAE9HhF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAjBtC,SAAAb,GAClBA,EAAEC,iBACFwP,EAAKoD,kBAAkBzN,EAAOrD,SAepB,sEA1EU+J,aAoFpB2E,GAAS,SAAA9Q,GACb,OACES,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAACoQ,EAAe/Q,KAKPiT,MCnBAG,eAzEb,SAAAA,EAAYpT,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiI,IACjBpI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAmI,GAAA9H,KAAAH,KAAMnL,KA6BRiQ,eAAiB,SAAA5P,GACfA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxB6C,EAAW6E,EAAKS,MAAMrC,MAAM1F,GAClCrB,EAAIuD,gBAAgBtC,EAAO6C,GACxBpD,KAAK,SAAAmH,GACAA,IACFc,EAAKhL,MAAMmK,iBAAiB,mFAC5Ba,EAAKhL,MAAM2J,QAAQuG,IAAI,MAG1B7F,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA1CrB8K,EA8CnBmF,cAAgB,SAAA9P,GACdA,EAAEC,iBACF0K,EAAKhL,MAAM2J,QAAQC,UA7CnBoB,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZZ,MAAO,CACL1F,GAAI1D,EAAMyP,MAAM/K,OAAOyB,WANV6E,mFAWC,IAAAW,EAAAR,KACZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6C,EAAWgF,KAAKM,MAAMrC,MAAM1F,GAClCrB,EAAIqD,aAAapC,EAAO6C,GACrBpD,KAAK,SAAAqG,GACAA,EACFuC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BrC,YAG9BuC,EAAK3L,MAAMoK,iBAAiB,gGAC5BuB,EAAK3L,MAAM2J,QAAQC,YAGtBS,MAAM,SAAAwF,GAAa,IAAXtF,EAAWsF,EAAXtF,MACPoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAyBhB,IACAR,EAAS+B,KAAKM,MAAdrC,MACP,OACE3I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,yFAAA4C,OAAkD4F,EAAM3D,OAAxD,OAEFhF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBM,QAASiK,KAAK8E,gBAAlD,QAEFxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAASiK,KAAKgF,eAAjD,iBAjEYhE,aCkDXkH,GAhDM,SAAArT,GACnB,IAEIsT,EAFEhQ,EAAQtD,EAAMgK,KAAK1G,MACnB6C,EAAWnG,EAAMyP,MAAM/K,OAAOyB,SAwBpC,OACE1F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWjK,GACZS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,uKAEJF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,6EAAiBC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAImR,EAAMnR,MAE9G1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAnCvC,SAAAb,GAEjB,GADAA,EAAEC,iBACGgT,EAAIlR,MAAT,CAIA,IAAMiF,EAAOuK,GAAW7K,KAAKC,OAC7BzG,QAAQC,IAAI2F,EAAUkB,EAAMiM,EAAIlR,OAChCC,EAAIqF,WAAWpE,EAAO6C,EAAUkB,EAAMiM,EAAIlR,OACvCW,KAAK,SAAAT,GACAA,GACFtC,EAAMmK,iBAAiB,iHACvBnK,EAAM2J,QAAQC,UAGd5J,EAAMoK,iBAAiB,qNAG1BC,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPvK,EAAMoK,iBAAiBG,EAAMrK,gBAhB/BF,EAAMoK,iBAAiB,uLAgCf,0DCrCRmJ,eACJ,SAAAA,EAAYvT,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoI,IACjBvI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsI,GAAAjI,KAAAH,KAAMnL,KAYR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAwJ,EAAAvJ,EAAA0P,EAAAjJ,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEapC,EAAKS,MAAxBnI,EAFM8J,EAEdpD,KAAQ1G,MAASO,EAFHuJ,EAEGvJ,MAFH2J,EAAAE,KAAA,EAGDrL,EAAIwD,eAAevC,GAHlB,aAGhB+J,EAHgBG,EAAAG,OAIRN,EAAOzE,MAAQ,GAJP,CAAA4E,EAAAE,KAAA,gBAKd5J,GAAUiJ,EAAa,GAAKlJ,EALd2J,EAAAE,KAAA,EAMCrL,EAAIyD,aAAaxC,EAAOO,EAAOC,GANhC,OAMd0P,EANchG,EAAAG,KAOpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B+H,SAAQ5F,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAPpFN,EAAAE,KAAA,iBAUpB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAVrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAafjD,EAbeiD,EAAAO,GAafxD,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAdZ,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAbPH,EAuCnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YAxCtC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZwJ,OAAQ,GACR3P,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GATK9C,mFA+BC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAgE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAatC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,wBAA7B,qDAEFjJ,EAAAC,EAAAC,cAAC8S,GAAD,CAAOD,OAAQrI,KAAKM,MAAM+H,SAExBrI,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAlBoBxN,EAAAC,EAAAC,cAACmO,EAAD,aAjDb3C,aA2ElB4C,GAAQ,SAAA/O,GAAS,IACbwT,EAAWxT,EAAXwT,OACR,OACE/S,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,oDACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,sEACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,8CACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,gDAGJH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAEtBuE,GAAUA,EAAOzH,IAAI,SAAA5C,GAAK,OAAI1I,EAAAC,EAAAC,cAAC+S,GAAD,CAAUvE,IAAG,GAAA3L,OAAK2F,EAAMzF,GAAX,KAAAF,OAAiB2F,EAAMlF,MAAQkF,MAAOA,UAQvFiG,GAAW,SAAApP,GAAS,IAChBmJ,EAAUnJ,EAAVmJ,MACR,OACE1I,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,iBAAAlG,OAAmB2F,EAAMzF,KAAOyF,EAAMzF,KAEhDjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeuI,EAAMlF,MACnCxD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAEVuI,EAAMD,SAAWzI,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,oBAAAlG,OAAsB2F,EAAMD,SAASxF,KAAOyF,EAAMD,SAASjF,MAAe,MAGvGxD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAEVuI,EAAMC,MAAQ3I,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,iBAAAlG,OAAmB2F,EAAMC,MAAM1F,KAAOyF,EAAMC,MAAM3D,QAAiB,MAG7FhF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeuI,EAAMlD,WAAa,eAAO,wBAK9CsN,MCHAI,eAxHX,SAAAA,EAAY3T,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwI,IACf3I,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0I,GAAArI,KAAAH,KAAMnL,KAiCV4T,kBAAoB,SAAC3P,EAAMgC,EAAYC,EAAaC,GAChD,IAAKlC,EACD,OAAO+G,EAAKhL,MAAMoK,iBAAiB,4JAEvCY,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,KACzC,IAAMvQ,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAI2D,YAAY1C,EAAOW,EAAMgC,EAAYC,EAAaC,GACjDpD,KAAK,SAAAoG,GACEA,EAEA6B,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAM2J,QAAQC,WAIvBoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiB,8KAIvCC,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACLS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,cArD9C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZsG,UAAW,GACXgB,OAAQ,GACRxD,UAAU,EACV+F,WAAW,GARA7I,mFAYC,IAAAW,EAAAR,KAChB+C,QAAQC,UACHpL,KADLkI,OAAA+B,EAAA,EAAA/B,CAAAgC,EAAAvM,EAAAwM,KAEQ,SAAAC,IAAA,IAAA7J,EAAAgO,EAAAhB,EAAA,OAAArD,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACUpK,EAAQqI,EAAKF,MAAMzB,KAAK1G,MADlCkK,EAAAE,KAAA,EAEyBrL,EAAIkD,uBAAuBjC,GAFpD,cAEUgO,EAFV9D,EAAAG,KAAAH,EAAAE,KAAA,EAG4BrL,EAAIoC,gBAAgBnB,GAHhD,OAGUgN,EAHV9C,EAAAG,KAIIhC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GACOU,EAAKF,MADZ,CAEIqC,UAAU,EACVwD,OAAQA,GAAU,GAClBhB,UAAWA,GAAa,MARhC,wBAAA9C,EAAAQ,SAAAb,EAAAhC,SAWA,SAAAiD,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACCoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,8CAiC7C,IAED+D,EAAMgC,EAAYC,EAAaC,EAF9B2J,EAAA3E,KACL,IAAKA,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAMjC,OAAI3D,KAAKM,MAAMqC,SAEPrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,sMAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,kFAAiBC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,MAEjH1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,aAAf,oDACArT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAe8C,GAAG,YAAYxB,IAAK,SAAAC,GAAC,OAAIgE,EAAWhE,IACjE1B,EAAAC,EAAAC,cAAA,eAEIwK,KAAKM,MAAM6F,OAAOvF,IAAI,SAAA3C,GAAK,OAAI3I,EAAAC,EAAAC,cAAA,UAAQwO,IAAG,GAAA3L,OAAK4F,EAAM1F,IAAMtB,MAAK,GAAAoB,OAAK4F,EAAM1F,KAA5C,GAAAF,OAAsD4F,EAAM3D,aAIvGhF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,gBAAf,sEACArT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAe8C,GAAG,eAAexB,IAAK,SAAAC,GAAC,OAAI+D,EAAc/D,IACvE1B,EAAAC,EAAAC,cAAA,eAEIwK,KAAKM,MAAM6E,UAAUvE,IAAI,SAAA7C,GAAQ,OAAIzI,EAAAC,EAAAC,cAAA,UAAQwO,IAAG,GAAA3L,OAAK0F,EAASxF,IAAMtB,MAAK,GAAAoB,OAAK0F,EAASxF,KAAlD,GAAAF,OAA4D0F,EAASjF,WAItHxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,SAAOV,KAAK,WAAWW,UAAU,mBAAmB8C,GAAG,eAAe1B,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI8D,EAAa9D,KACtG1B,EAAAC,EAAAC,cAAA,SAAOC,UAAU,mBAAmBkT,QAAQ,gBAA5C,gDAEJrT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEXuK,KAAKM,MAAMoI,UACXpT,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAQ,sDAAcqM,OAAO,IAC1C9L,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QA3CpD,SAAAb,GAClBA,EAAEC,iBACFwP,EAAK8D,kBAAkB3P,EAAK7B,MAAO6D,EAAW8N,QAAS7N,EAAY9D,MAAO+D,EAAS/D,SAyC3D,yDASrB,YArHW+J,aCyFX6H,eAvFX,SAAAA,EAAYhU,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6I,IACfhJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+I,GAAA1I,KAAAH,KAAMnL,KAEDyL,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZb,MAAO,CACHzF,GAAI1D,EAAMyP,MAAM/K,OAAOyC,UAE3B2G,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6D,EAAWgE,KAAKM,MAAMtC,MAAMzF,GAClCrB,EAAI+D,aAAa9C,EAAO6D,GACnBpE,KACG,SAAAoG,GACQA,EACAwC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BtC,QAAO2E,UAAU,MAG/CnC,EAAK3L,MAAMoK,iBAAiB,0FAC5BuB,EAAK3L,MAAM2J,QAAQC,WAG3B,SAAAU,GAAa,IAAXC,EAAWD,EAAXC,MACEoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAK1B,IACET,EAASgC,KAAKM,MAAdtC,MACP,OAAIgC,KAAKM,MAAMqC,SAEXrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACbS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,iBAAAlG,OAAmB2F,EAAMzF,GAAzB,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,iBAAAlG,OAAmB2F,EAAMzF,GAAzB,YAA7B,+CAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,0IACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMzF,MAElDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,qDACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMlF,QAElDxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMD,SAAWC,EAAMD,SAASjF,KAAO,SAEnFxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,MAAQD,EAAMC,MAAM3D,OAAS,SAE/EhF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMlD,WAAa,eAAO,wBAEtExF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,oHAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,OAASD,EAAMC,MAAM8K,SAAWxB,GAAWvJ,EAAMC,MAAM8K,SAAS7M,MAAQ,SAE1H5G,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,OAASD,EAAMC,MAAM8K,SAAW/K,EAAMC,MAAM8K,SAAS9R,MAAQ,aAQ5H,YApFS+J,sBCiITgI,eAjIX,SAAAA,EAAYnU,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgJ,IACfnJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkJ,GAAA7I,KAAAH,KAAMnL,KAuCVoU,kBAAoB,SAACnQ,EAAMgC,EAAYC,EAAaC,GAChD,IAAKlC,EACD,OAAO+G,EAAKhL,MAAMoK,iBAAiB,4JAGvCY,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,KAEzC,IAAMvQ,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxB6D,EAAW6D,EAAKS,MAAMtC,MAAMzF,GAClCrB,EAAIgE,gBAAgB/C,EAAO6D,EAAUlD,EAAMgC,EAAYC,EAAaC,GAC/DpD,KAAK,SAAAoG,GACEA,EACA6B,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMmK,iBAAiB,yFAC5Ba,EAAKhL,MAAM2J,QAAQC,WAIvBoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiB,0GAIvCC,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,cA9D9C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZsG,UAAW,GACXgB,OAAQ,GACRnI,MAAO,CACHzF,GAAI1D,EAAMyP,MAAM/K,OAAOyC,UAE3B2G,UAAU,EACV+F,WAAW,GAXA7I,mFAeC,IAAAW,EAAAR,KAChB+C,QAAQC,UACHpL,KADLkI,OAAA+B,EAAA,EAAA/B,CAAAgC,EAAAvM,EAAAwM,KAEQ,SAAAC,IAAA,IAAA7J,EAAA6D,EAAAmK,EAAAhB,EAAAnH,EAAA,OAAA8D,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACUpK,EAAQqI,EAAKF,MAAMzB,KAAK1G,MACxB6D,EAAWwE,EAAKF,MAAMtC,MAAMzF,GAFtC8J,EAAAE,KAAA,EAGyBrL,EAAIkD,uBAAuBjC,GAHpD,cAGUgO,EAHV9D,EAAAG,KAAAH,EAAAE,KAAA,EAI4BrL,EAAIoC,gBAAgBnB,GAJhD,cAIUgN,EAJV9C,EAAAG,KAAAH,EAAAE,KAAA,GAKwBrL,EAAI+D,aAAa9C,EAAO6D,GALhD,QAKUgC,EALVqE,EAAAG,KAMIhC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GACOU,EAAKF,MADZ,CAEIqC,UAAU,EACVwD,OAAQnI,EAAMC,MAAN,GAAA5F,OAAAyH,OAAAoJ,GAAA,EAAApJ,CAAkBqG,GAAlB,CAA0BnI,EAAMC,QAASkI,EACjDhB,UAAWA,GAAa,GACxBnH,WAXR,yBAAAqE,EAAAQ,SAAAb,EAAAhC,SAcA,SAAAiD,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACCoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,8CAoC7C,IACD+D,EAAMgC,EAAYC,EAAaC,EAD9B2J,EAAA3E,KAEGhC,EAAUgC,KAAKM,MAAftC,MAKR,OAAIgC,KAAKM,MAAMqC,SAEPrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,sMAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,kFAAiBC,UAAQ,EAACC,WAAS,EAAC8N,aAAc5G,EAAMlF,KAAM/B,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,MAE3I1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,aAAf,oDACArT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAe8C,GAAG,YAAYxB,IAAK,SAAAC,GAAC,OAAIgE,EAAWhE,GAAG4N,aAAc5G,EAAMC,MAAQD,EAAMC,MAAM1F,GAAK,MACjHjD,EAAAC,EAAAC,cAAA,eAEIwK,KAAKM,MAAM6F,OAAOvF,IAAI,SAAA3C,GAAK,OAAI3I,EAAAC,EAAAC,cAAA,UAAQwO,IAAG,GAAA3L,OAAK4F,EAAM1F,IAAMtB,MAAK,GAAAoB,OAAK4F,EAAM1F,KAA5C,GAAAF,OAAsD4F,EAAM3D,aAIvGhF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,gBAAf,sEACArT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAe8C,GAAG,eAAexB,IAAK,SAAAC,GAAC,OAAI+D,EAAc/D,GAAG4N,aAAc5G,EAAMD,SAAWC,EAAMD,SAASxF,GAAK,MAC7HjD,EAAAC,EAAAC,cAAA,eAEIwK,KAAKM,MAAM6E,UAAUvE,IAAI,SAAA7C,GAAQ,OAAIzI,EAAAC,EAAAC,cAAA,UAAQwO,IAAG,GAAA3L,OAAK0F,EAASxF,IAAMtB,MAAK,GAAAoB,OAAK0F,EAASxF,KAAlD,GAAAF,OAA4D0F,EAASjF,WAItHxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,SAAOV,KAAK,WAAWW,UAAU,mBAAmB8C,GAAG,eAAe1B,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAI8D,EAAa9D,GAAGmS,eAAgBnL,EAAMlD,aAC/HxF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,mBAAmBkT,QAAQ,gBAA5C,gDAEJrT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEXuK,KAAKM,MAAMoI,UACXpT,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAQ,4DAAeqM,OAAO,IAC3C9L,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QA3CpD,SAAAb,GAClBA,EAAEC,iBACFwP,EAAKsE,kBAAkBnQ,EAAK7B,MAAO6D,EAAW8N,QAAS7N,EAAY9D,MAAO+D,EAAS/D,SAyC3D,+DASrB,YA9HW+J,aC4EXoI,eA7EX,SAAAA,EAAYvU,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoJ,IACfvJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsJ,GAAAjJ,KAAAH,KAAMnL,KA8BViQ,eAAiB,SAAA5P,GACbA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxB6D,EAAW6D,EAAKS,MAAMtC,MAAMzF,GAClCrB,EAAIiE,gBAAgBhD,EAAO6D,GACtBpE,KAAK,SAAAmH,GACEA,IACAc,EAAKhL,MAAMmK,iBAAiB,6EAC5Ba,EAAKhL,MAAM2J,QAAQuG,IAAI,MAG9B7F,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA3C3B8K,EA+CnBmF,cAAgB,SAAA9P,GACZA,EAAEC,iBACF0K,EAAKhL,MAAM2J,QAAQC,UA9CnBoB,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZb,MAAO,CACHzF,GAAI1D,EAAMyP,MAAM/K,OAAOyC,UAE3B2G,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6D,EAAWgE,KAAKM,MAAMtC,MAAMzF,GAClCrB,EAAI+D,aAAa9C,EAAO6D,GACnBpE,KAAK,SAAAoG,GACEA,EACAwC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BtC,QAAO2E,UAAU,MAGhDnC,EAAK3L,MAAMoK,iBAAiB,0FAC5BuB,EAAK3L,MAAM2J,QAAQC,YAG1BS,MAAM,SAAAwF,GAAe,IAAZtF,EAAYsF,EAAZtF,MACNoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAyBtB,IACGT,EAAUgC,KAAKM,MAAftC,MACR,OAAIgC,KAAKM,MAAMqC,SAEPrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,6EAAA4C,OAAgD2F,EAAMlF,KAAtD,OAEJxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBM,QAASiK,KAAK8E,gBAAlD,QAEJxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAASiK,KAAKgF,eAAjD,UAOjB,YA1EWhE,aCKpBqI,eACJ,SAAAA,EAAYxU,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqJ,IACjBxJ,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuJ,GAAAlJ,KAAAH,KAAMnL,KAYR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAwJ,EAAAvJ,EAAA2Q,EAAAlK,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEapC,EAAKS,MAAxBnI,EAFM8J,EAEdpD,KAAQ1G,MAASO,EAFHuJ,EAEGvJ,MAFH2J,EAAAE,KAAA,EAIDrL,EAAIqG,OAAOE,MAAMtF,GAJhB,aAIhB+J,EAJgBG,EAAAG,OAKRN,EAAOzE,MAAQ,GALP,CAAA4E,EAAAE,KAAA,gBAMd5J,GAAUiJ,EAAa,GAAKlJ,EANd2J,EAAAE,KAAA,EAQDrL,EAAIqG,OAAOC,OAAOrF,EAAOO,EAAOC,GAR/B,OAQd2Q,EARcjH,EAAAG,KASpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BgJ,OAAM7G,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KATlFN,EAAAE,KAAA,iBAYpB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAZrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAefjD,EAfeiD,EAAAO,GAefxD,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KACzC9C,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAjBZ,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAbPH,EA0CnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA9CrB8K,EAkDnB0J,YAAc,SAAAhR,GAAE,OAAI,SAAArD,GAClBA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAIqG,OAAOI,WAAWxF,EAAOI,GAC1B2G,MAAM,SAAAgE,GAAa,IAAX9D,EAAW8D,EAAX9D,MACPS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,aApDzC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZyK,KAAM,GACN5Q,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GATK9C,mFAkCC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAyI,GAAe,IAAZvI,EAAYuI,EAAZvI,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAsBtC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAACgU,GAAD,CAAOC,MAAOzJ,KAAKM,MAAMgJ,KAAMC,YAAavJ,KAAKuJ,cAE/CvJ,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAhBoBxN,EAAAC,EAAAC,cAACmO,EAAD,aA7DZ3C,aAoFnB4C,GAAQ,SAAA/O,GAAS,IACb4U,EAAU5U,EAAV4U,MACR,OACEnU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,iEACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,4BACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,0DACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,kCACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,sEACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,8CACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,0DACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAGzDH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAEtB2F,GAASA,EAAM7I,IAAI,SAAA8I,GAAI,OAAIpU,EAAAC,EAAAC,cAACmU,GAAD,CAAU3F,IAAG,GAAA3L,OAAKqR,EAAKnR,IAAMmR,KAAMA,EAAMH,YAAa1U,EAAM0U,oBAQ7FtF,GAAW,SAAApP,GAAS,IAChB6U,EAAS7U,EAAT6U,KACR,OACEpU,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,kBAAAlG,OAAoBqR,EAAKnR,KAAOmR,EAAKnR,KAE/CjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAe8R,GAAWd,GAAWiD,EAAKxN,QACxD5G,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAK5L,WAClCxI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAK1L,OAClC1I,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAK3L,UAClCzI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAKzL,OAClC3I,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAKE,eAClCtU,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiBM,QAASlB,EAAM0U,YAAYG,EAAKnR,IAAK+M,KAAI,qBAAAjN,OAAuBqR,EAAKnR,GAA5B,QAAsCsR,SAAQ,OAAAxR,OAASuD,KAAKC,MAAd,SAA2BvG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAKhL4T,MCFAS,eAhIX,SAAAA,EAAYjV,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8J,IACfjK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgK,GAAA3J,KAAAH,KAAMnL,KAkCV0U,YAAc,SAAAhR,GAAE,OAAI,SAAArD,GAChBA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAIqG,OAAOI,WAAWxF,EAAOI,GACxB2G,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,aArC7C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZkL,IAAK,CACDxR,GAAI1D,EAAMyP,MAAM/K,OAAOhB,IAE3BoK,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxBI,EAAKyH,KAAKM,MAAMyJ,IAAIxR,GAC1BrB,EAAIqG,OAAOG,QAAQvF,EAAOI,GACrBX,KAAK,SAAAmS,GACEA,EACAvJ,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+ByJ,MAAKpH,UAAU,KAG9CnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAS,WAC9CnC,EAAK3L,MAAMoK,iBAAiB,oFAC5BuB,EAAK3L,MAAM2J,QAAQC,aAI9BS,MAAM,SAAAwF,GAAeA,EAAZtF,MACNoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAS,WAC9CnC,EAAK3L,MAAMoK,iBAAiB,oFAC5BuB,EAAK3L,MAAM2J,QAAQC,8CAe/B,IAAKuB,KAAKM,MAAMqC,SAAU,OAAO,KAD5B,IAAAV,EAEiBjC,KAAKM,MAAnBzB,EAFHoD,EAEGpD,KAAMkL,EAFT9H,EAES8H,IACd,OACIzU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAADgB,OAAAkK,OAAA,GAAYhK,KAAKnL,MAAjB,CAAwBgK,KAAMA,IAC1BvJ,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,kBAAAlG,OAAoB0R,EAAIxR,GAAxB,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,kBAAAlG,OAAoB0R,EAAIxR,GAAxB,YAA7B,8CACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,GAAGxI,QAASiK,KAAKuJ,YAAYQ,EAAIxR,KAA/D,+CAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,yCAAA4C,OAA6C0R,EAAIxR,KACjDjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIxR,MAEhDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoB8R,GAAWwC,EAAI7N,SAE3D5G,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIjM,aAEhDxI,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIhM,YAEhDzI,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAI/L,SAEhD1I,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAI9L,SAEhD3I,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIE,eAAiB,eAAO,wBAExE3U,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBACVH,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,0HAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAsC,OAAlBsU,EAAIG,UAAqB3C,GAAWwC,EAAIG,WAAa,SAEjG5U,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAuC,OAAnBsU,EAAII,WAAsBJ,EAAII,WAAa,SAEvF7U,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACVH,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,wGAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAyC,OAArBsU,EAAIK,aAAwB7C,GAAWwC,EAAIK,cAAgB,SAEvG9U,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAA0C,OAAtBsU,EAAIH,cAAyBG,EAAIH,cAAgB,SAE7FtU,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,sGACJH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAEc,OAAtBsU,EAAIH,eAA6C,OAAnBG,EAAII,WAAsBJ,EAAIH,cAAgBG,EAAII,WACtD,OAAtBJ,EAAIH,cAAyBG,EAAIH,cAAgB,mBAnHnE5I,aCuHfqJ,eAvHb,SAAAA,EAAYxV,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAqK,IACjBxK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAuK,GAAAlK,KAAAH,KAAMnL,KAgCRyV,mBAAqB,SAAArT,GAAS,IACpB8S,EAAQlK,EAAKS,MAAbyJ,IACR,GAAIQ,OAAO9Q,MAAMxC,IAAUA,EAAQ,EACjC,OAAO4I,EAAKhL,MAAMoK,iBAAiB,qOAErC,IAAwB,OAAnB8K,EAAII,iBAA0CK,IAAnBT,EAAII,aAA8BlT,EAAQsT,OAAOR,EAAII,YACnF,OAAOtK,EAAKhL,MAAMoK,iBAAiB,qOAErC,IAAM9G,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxBI,EAAKsH,EAAKS,MAAMyJ,IAAIxR,GAE1BsH,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,KACzCxR,EAAIqG,OAAOW,WAAW/F,EAAOI,EAAItB,GAC9BW,KAAK,SAAAsK,GACCA,GAAWA,EAAOnD,KAOrB7H,EAAIqG,OAAOa,cAAcjG,EAAOI,GAC7BX,KAAK,SAAAmH,GACJc,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC/C7I,EAAKhL,MAAMmK,iBAAiB,4IAC5Ba,EAAKhL,MAAM2J,QAAQC,aAGtBS,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACRS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC/C7I,EAAKhL,MAAMoK,iBAAiB,kKAAuCG,EAAMrK,SACzE8K,EAAKhL,MAAM2J,QAAQC,aAhBzBoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC/C7I,EAAKhL,MAAMoK,iBAAiB,8IA4BjCC,MAAM,SAAAwF,GAAe,IAAZtF,EAAYsF,EAAZtF,MACRS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC/C7I,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,cA5ExC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZkL,IAAK,CACHxR,GAAI1D,EAAMyP,MAAM/K,OAAOhB,IAEzBoK,UAAU,EACV+F,WAAW,GATI7I,mFAaC,IAAAW,EAAAR,KACZ7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxBI,EAAKyH,KAAKM,MAAMyJ,IAAIxR,GAE1BrB,EAAIqG,OAAOG,QAAQvF,EAAOI,GACvBX,KAAK,SAAAmS,GACAA,EACFvJ,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+ByJ,MAAKpH,UAAU,MAG9CnC,EAAK3L,MAAMoK,iBAAiB,oFAC5BuB,EAAK3L,MAAM2J,QAAQC,YAGtBS,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAuDhB,IAAAkG,EAAA3E,KACP,IAAKA,KAAKM,MAAMqC,SAAU,OAAO,KAD1B,IAGHwF,EADI4B,EAAQ/J,KAAKM,MAAbyJ,IAMR,OACEzU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,sHAEFF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,SAAS8B,YAAY,0GAAqBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAImR,EAAMnR,GAAG4N,aAAcmF,EAAIH,iBAE/HtU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEXuK,KAAKM,MAAMoI,UACTpT,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAS,mHAA0BqM,OAAO,IACvD9L,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QApB1C,SAAAb,GAClBA,EAAEC,iBACFwP,EAAK2F,mBAAmBnC,EAAIlR,SAkBd,sEA7GO+J,aCiFZyJ,eAlFX,SAAAA,EAAY5V,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyK,IACf5K,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2K,GAAAtK,KAAAH,KAAMnL,KAmCViQ,eAAiB,SAAA5P,GACbA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxBI,EAAKsH,EAAKS,MAAMyJ,IAAIxR,GAC1BrB,EAAIqG,OAAOY,YAAYhG,EAAOI,GACzBX,KAAK,SAAAsK,GACEA,GAAUA,EAAOnD,OACjBc,EAAKhL,MAAMmK,iBAAiB,uEAC5Ba,EAAKhL,MAAM2J,QAAQuG,IAAI,MAG9B7F,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YAhD3B8K,EAoDnBmF,cAAgB,SAAA9P,GACZA,EAAEC,iBACF0K,EAAKhL,MAAM2J,QAAQC,UAnDnBoB,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZkL,IAAK,CACDxR,GAAI1D,EAAMyP,MAAM/K,OAAOhB,IAE3BoK,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxBI,EAAKyH,KAAKM,MAAMyJ,IAAIxR,GAE1BrB,EAAIqG,OAAOG,QAAQvF,EAAOI,GACrBX,KAAK,SAAAmS,GACEA,EACAvJ,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+ByJ,MAAKpH,UAAU,KAG9CnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAS,WAC9CnC,EAAK3L,MAAMoK,iBAAiB,oFAC5BuB,EAAK3L,MAAM2J,QAAQC,aAI9BS,MAAM,SAAAwF,GAAe,IAAZtF,EAAYsF,EAAZtF,MACNoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAS,WAC9CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,8CA0B1B,IACUlG,EAASyH,KAAKM,MAArByJ,IAAOxR,GACf,OAAIyH,KAAKM,MAAMqC,SAEPrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,oFAAA4C,OAAkDE,EAAlD,OAEJjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBM,QAASiK,KAAK8E,gBAAlD,QAEJxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAASiK,KAAKgF,eAAjD,UAOjB,YA/EYhE,aCIrB0J,eACF,SAAAA,EAAY7V,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0K,IACf7K,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4K,GAAAvK,KAAAH,KAAMnL,KA6BV8V,aAAe,SAAAC,GAAW,OAAI,SAAA1V,GAC1BA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAImG,yBAAyBlF,EAAOyS,GACnC1L,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACLS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,aAnC1B8K,EAuCnBvC,yBAA2B,SAAApI,GACvBA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAIoG,yBAAyBnF,GACxB+G,MAAM,SAAAwF,GAAa,IAAXtF,EAAWsF,EAAXtF,MACLS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,YAzC7C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZgM,UAAW,GACXlI,UAAU,GANC9C,mFAUC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MAC9BjB,EAAI4F,gBAAgB3E,GACfP,KAAK,SAAAiT,GACEA,EACArK,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BuK,YAAWlI,UAAU,KAGnDnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC3CnC,EAAK3L,MAAMoK,iBAAiB,0GAIvCC,MAAM,SAAA+D,GAAa,IAAX7D,EAAW6D,EAAX7D,MACLoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BqC,UAAU,IAAO,WAC3CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,8CAwB9C,OAAKiL,KAAKM,MAAMqC,SAEZrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACbS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,2BAA9B,qDAEJjJ,EAAAC,EAAAC,cAACsV,GAAD,CAAOD,UAAW7K,KAAKM,MAAMuK,UAAWF,aAAc3K,KAAK2K,aAAcrN,yBAA0B0C,KAAK1C,4BAN/EhI,EAAAC,EAAAC,cAACmO,EAAD,aAlDd3C,aA8DrB4C,GAAQ,SAAA/O,GAAS,IACXgW,EAAchW,EAAdgW,UACR,OACIvV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,oDACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,qGACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaM,QAASlB,EAAMyI,yBAA0BgI,KAAI,wBAA2BuE,SAAQ,gBAAAxR,OAAkBuD,KAAKC,MAAvB,UAAqCvG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0BAGhMH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAElB+G,GAAaA,EAAUjK,IAAI,SAAAmK,GAAQ,OAAIzV,EAAAC,EAAAC,cAACwV,GAAD,CAAUhH,IAAG,GAAA3L,OAAK0S,EAASxS,IAAMwS,SAAUA,EAAUJ,aAAc9V,EAAM8V,qBAQlI1G,GAAW,SAAApP,GAAS,IACdkW,EAAalW,EAAbkW,SACR,OACIzV,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,oBAAAlG,OAAsB0S,EAASxS,KAAOwS,EAASxS,KACnFjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,oBAAAlG,OAAsB0S,EAASxS,KAAOwS,EAASjS,OACnFxD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAENsV,EAASE,eAAiB3V,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,iBAAAlG,OAAmB0S,EAASE,cAAc1S,KAAOwS,EAASE,cAAcnS,OAGlHxD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiBM,QAASlB,EAAM8V,aAAaI,EAASxS,IAAK+M,KAAI,oBAAAjN,OAAsB0S,EAASxS,GAA/B,SAA0CsR,SAAQ,YAAAxR,OAAc0S,EAASxS,GAAvB,KAAAF,OAA6BuD,KAAKC,MAAlC,UAAgDvG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0BAKpNiV,MCuEAQ,eA7KX,SAAAA,EAAYrW,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkL,IACfrL,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoL,GAAA/K,KAAAH,KAAMnL,KAgCVsW,qBAAuB,SAACrS,EAAMkE,EAAkBC,GAC5C,IAAM9E,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9B0H,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8K,YAAY,KAC1ClU,EAAI6F,eAAe5E,EAAOW,EAAMkE,EAAkBC,GAC7CrF,KAAK,SAAAyT,GACEA,EACAxL,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8K,YAAY,IAAQ,WAC9CvL,EAAKhL,MAAMmK,iBAAiB,yFAC5Ba,EAAKhL,MAAM2J,QAAQC,WAIvBoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8K,YAAY,IAAQ,WAC9CvL,EAAKhL,MAAMoK,iBAAiB,0GAIvCC,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACLS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8B8K,YAAY,IAAQ,WAC9CvL,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,cAjD9C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZwJ,OAAQ,GACRrL,iBAAkB,KAClBC,cAAe,GACf0F,UAAU,EACVyI,YAAY,GATDvL,mFAaC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MAC9BjB,EAAIyD,aAAaxC,GACZP,KAAK,SAAAyQ,GACEA,EACA7H,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+B+H,SAAQ1F,UAAU,KAGjDnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7CnC,EAAK3L,MAAMoK,iBAAiB,8FAIvCC,MAAM,SAAAwF,GAAe,IAAZtF,EAAYsF,EAAZtF,MACNoB,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7CnC,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,8CA6BzC,IAGD+D,EAAMkE,EAAkBsO,EAAsBC,EAH7C5G,EAAA3E,KACL,IAAKA,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAsDjC,OACIrO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,0GAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,mDAAWC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,MAE3G1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,iBAAf,qGACArT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAe8C,GAAG,gBAAgBxB,IAAK,SAAAC,GAAC,OAAIgG,EAAmBhG,GAAG0M,SA1D/E,SAAAxO,GAEzBE,QAAQC,WAAW2H,EAAiB/F,MAAO+F,EAAiB/F,OAC5D,IAAMsB,EAAgC,MAA3ByE,EAAiB/F,MAAgB+F,EAAiB/F,MAAQ,KACrE0N,EAAKvE,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkB6E,EAAKrE,MAAvB,CAA8BtD,iBAAkBzE,OAuDxBjD,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,MAEV+I,KAAKM,MAAM+H,OACNmD,OAAO,SAAAC,GAAC,OAAK9G,EAAKrE,MAAMrD,cAAcyO,SAASnB,OAAOkB,EAAElT,IAAIoT,cAC5D/K,IAAI,SAAA6K,GAAC,OAAInW,EAAAC,EAAAC,cAAA,UAAQwO,IAAKyH,EAAElT,GAAItB,MAAOwU,EAAElT,IAAKkT,EAAE3S,UAI7DxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,iBAAf,2GACArT,EAAAC,EAAAC,cAAA,UAAQoW,UAAQ,EAACnW,UAAU,eAAe8C,GAAG,gBAAgBxB,IAAK,SAAAC,GAAC,OAAIsU,EAAuBtU,GAAG6U,cA9D/E,SAAA3W,GACtCE,QAAQC,IAAIiW,EAAqBrU,OAEjC0N,EAAKvE,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkB6E,EAAKrE,MAAvB,CAA8BrD,cAAa,GAAA5E,OAAAyH,OAAAoJ,GAAA,EAAApJ,CAAM6E,EAAKrE,MAAMrD,eAAjB,CAAgCqO,EAAqBrU,aA8DpE+I,KAAKM,MAAM+H,OACNmD,OAAO,SAAAC,GAAC,OAAKlB,OAAOkB,EAAElT,IAAIoT,aAAehH,EAAKrE,MAAMtD,mBAAsB2H,EAAKrE,MAAMrD,cAAcyO,SAASnB,OAAOkB,EAAElT,IAAIoT,cACzH/K,IAAI,SAAA6K,GAAC,OAAInW,EAAAC,EAAAC,cAAA,UAAQwO,IAAKyH,EAAElT,GAAItB,MAAOwU,EAAElT,IAAKkT,EAAE3S,SAGzDxD,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAhE3C,SAAAb,GACvBA,EAAEC,iBAIF,IAFA,IAAI2W,EAAM,GACJC,EAAUT,EAAqBS,QAC5BC,EAAI,EAAGA,EAAID,EAAQE,OAAQD,IAC5BD,EAAQC,GAAGE,UACXJ,EAAItS,KAAKuS,EAAQC,GAAG/U,OAGxB6U,EAAIG,OAAS,GACbtH,EAAKvE,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkB6E,EAAKrE,MAAvB,CAA8BrD,cAAa,GAAA5E,OAAAyH,OAAAoJ,GAAA,EAAApJ,CAAM6E,EAAKrE,MAAMrD,eAAkB6O,QAqD9D,qDAEJxW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,eAAf,iHACArT,EAAAC,EAAAC,cAAA,UAAQoW,UAAQ,EAAEnW,UAAU,eAAe8C,GAAG,cAAcxB,IAAK,SAAAC,GAAC,OAAIuU,EAAqBvU,IAGnFgJ,KAAKM,MAAM+H,OACNmD,OAAO,SAAAC,GAAC,OAAI9G,EAAKrE,MAAMrD,cAAcyO,SAASnB,OAAOkB,EAAElT,IAAIoT,cAC3D/K,IAAI,SAAA6K,GAAC,OAAInW,EAAAC,EAAAC,cAAA,UAAQwO,IAAKyH,EAAElT,GAAItB,MAAOwU,EAAElT,IAAKkT,EAAE3S,SAGzDxD,EAAAC,EAAAC,cAAA,UAAQC,UAAU,2BAA2BM,QA5DvC,SAAAb,GAC1BA,EAAEC,iBAGF,IAFA,IAAI2W,EAAM,GACJC,EAAUR,EAAmBQ,QAC1BC,EAAI,EAAGA,EAAID,EAAQE,OAAQD,IAC5BD,EAAQC,GAAGE,UACXJ,EAAItS,KAAKuS,EAAQC,GAAG/U,OAG5B,IAAMgG,EAAgB0H,EAAKrE,MAAMrD,cAC5BuO,OAAO,SAAAC,GAAC,OAAKK,EAAIJ,SAASD,KAE/B9G,EAAKvE,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkB6E,EAAKrE,MAAvB,CAA8BrD,cAAc6C,OAAAoJ,GAAA,EAAApJ,CAAK7C,QAgD7B,yCAGA+C,KAAKM,MAAM8K,YAAc9V,EAAAC,EAAAC,cAACmO,EAAD,MAE7BrO,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QArGxC,SAAAb,GAC1BA,EAAEC,iBAEFwP,EAAKwG,qBAAqBrS,EAAK7B,MAAO0N,EAAKrE,MAAMtD,iBAAkB2H,EAAKrE,MAAMrD,iBAkG1D,0DApKH+D,aCEvBmL,eACF,SAAAA,EAAYtX,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmM,IACftM,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqM,GAAAhM,KAAAH,KAAMnL,KAqCV8V,aAAe,SAAAC,GAAW,OAAI,SAAA1V,GAC1BA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAImG,yBAAyBlF,EAAOyS,GACnC1L,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACLS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,aAxCzC8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZkM,SAAU,CACNxS,GAAI1D,EAAMyP,MAAM/K,OAAOqR,aAE3BwB,iBAAkB,EAClBC,gBAAiB,EACjB1J,UAAU,GAVC9C,mFAcC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxByS,EAAc5K,KAAKM,MAAMyK,SAASxS,GACxCrB,EAAIgG,gBAAgB/E,EAAOyS,GACtBhT,KAAK,SAAAmT,GACF,GAAIA,EAAU,CACV3V,QAAQC,IAAI0V,GACZ,IAAMqB,EAAmBE,GAA0BvB,EAASE,eACtDoB,EAAkBE,GAAwBxB,EAASyB,cACzDhM,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+B8L,mBAAkBC,kBAAiBtB,WAAUpI,UAAU,UAGtFnC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7CnC,EAAK3L,MAAMoK,iBAAiB,8FAIvCC,MAAM,SAAAjH,GACH7C,QAAQC,IAAI4C,GACZuI,EAAK3L,MAAMoK,iBAAiBhH,EAAImH,OAASnH,EAAImH,MAAMrK,QAAUkD,EAAImH,MAAMrK,QAAUkD,GACjFuI,EAAK3L,MAAM2J,QAAQC,4CAc3B,IAAKuB,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD5B,IAEGoH,EAAa/K,KAAKM,MAAlByK,SACR,OACIzV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACbS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,oBAAAlG,OAAsB2H,KAAKM,MAAMyK,SAASxS,GAA1C,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,oBAAAlG,OAAsB2H,KAAKM,MAAMyK,SAASxS,GAA1C,YAA7B,8CACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,qBAAAlG,OAAuB0S,EAASxS,GAAhC,SAA2CxC,QAASiK,KAAK2K,aAAaI,EAASxS,KAA5G,+CAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,wCACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsV,EAASxS,MAErDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,qDACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsV,EAASjS,QAErDxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+HACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuK,KAAKM,MAAM8L,oBAEvD9W,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2IACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuK,KAAKM,MAAM+L,mBAEvD/W,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,yCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuK,KAAKM,MAAM8L,iBAAmBpM,KAAKM,MAAM+L,sBAKjG/W,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,qGACAH,EAAAC,EAAAC,cAACiX,GAAD,CAAOhD,MAAOzJ,KAAKM,MAAMyK,SAASE,cAAgB,CAACjL,KAAKM,MAAMyK,SAASE,eAAiB,KACxF3V,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,sEACAH,EAAAC,EAAAC,cAACiX,GAAD,CAAOhD,MAAOzJ,KAAKM,MAAMyK,SAASyB,cAAgB,aAxFvCxL,aA8FrB4C,GAAQ,SAAA/O,GAAS,IACX4U,EAAU5U,EAAV4U,MACR,OACInU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,6CACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACbH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,kCACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,sEACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,8CACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,uHACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,qGACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,4BAA1B,wEAGRH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAElB2F,GAASA,EAAM7I,IAAI,SAAA8I,GAAI,OAAIpU,EAAAC,EAAAC,cAACkX,GAAD,CAAU1I,IAAK0F,EAAKnR,GAAImR,KAAMA,UAQ3EzF,GAAW,SAAApP,GAAS,IACd6U,EAAS7U,EAAT6U,KACR,OAAKA,EAEDpU,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoX,SAAA,KACIrX,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIoX,QAAQ,IAAInX,UAAU,4BAA4BiU,EAAKnR,IAC3DjD,EAAAC,EAAAC,cAAA,MAAIoX,QAAQ,IAAInX,UAAU,4BAA2BH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,iBAAAlG,OAAmBqR,EAAKnR,KAAOmR,EAAK5Q,OACjGxD,EAAAC,EAAAC,cAAA,MAAIoX,QAAQ,IAAInX,UAAU,4BAElBiU,EAAK3L,UAAYzI,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,oBAAAlG,OAAsBqR,EAAK3L,SAASxF,KAAOmR,EAAK3L,SAASjF,OAG1FxD,EAAAC,EAAAC,cAAA,MAAIoX,QAAQ,IAAInX,UAAU,4BAElBiU,EAAKzL,OAAS3I,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,iBAAAlG,OAAmBqR,EAAKzL,MAAM1F,KAAOmR,EAAKzL,MAAM3D,SAG9EhF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BAA4BiU,EAAKzL,OAASyL,EAAKzL,MAAM9G,KAAK,GAAKoQ,GAAWmC,EAAKzL,MAAM9G,KAAK,GAAG+E,MAAQ,MACnH5G,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BAA4BiU,EAAKzL,OAASyL,EAAKzL,MAAM9G,KAAK,GAAKoQ,GAAWmC,EAAKzL,MAAM9G,KAAK,GAAG+E,MAAQ,MACnH5G,EAAAC,EAAAC,cAAA,MAAIoX,QAAQ,IAAInX,UAAU,4BAEjB,WACG,IAAMoX,EAAOnD,EAAKzL,OAASyL,EAAKzL,MAAM9G,KAAK,GAAKuS,EAAKzL,MAAM9G,KAAK,GAAGF,MAAQ,KACrE6V,EAAOpD,EAAKzL,OAASyL,EAAKzL,MAAM9G,KAAK,GAAKuS,EAAKzL,MAAM9G,KAAK,GAAGF,MAAQ,KAC3E,OAAO8V,GAAqBF,EAAMC,GAHrC,KAQbxX,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BAA4BiU,EAAKzL,OAASyL,EAAKzL,MAAM9G,KAAK,GAAKuS,EAAKzL,MAAM9G,KAAK,GAAGF,MAAQ,MACxG3B,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4BAA4BiU,EAAKzL,OAASyL,EAAKzL,MAAM9G,KAAK,GAAKuS,EAAKzL,MAAM9G,KAAK,GAAGF,MAAQ,QA9BlG,MAoChB8V,GAAuB,SAACF,EAAMC,GAChC,OAAID,GAAQC,IAASrT,MAAMoT,KAAUpT,MAAMqT,GAChCA,EAAOD,EAETC,IAASrT,MAAMqT,GACbA,EAGA,MAITR,GAA4B,SAACrB,GAC/B,IAAKA,EAAe,OAAO,KADsB,IAEzChN,EAAUgN,EAAVhN,MACF4O,EAAO5O,GAASA,EAAM9G,KAAK,GAAK8G,EAAM9G,KAAK,GAAGF,MAAQ,KACtD6V,EAAO7O,GAASA,EAAM9G,KAAK,GAAK8G,EAAM9G,KAAK,GAAGF,MAAQ,KAC5D,OAAO8V,GAAqBF,EAAMC,IAGhCP,GAA0B,SAACC,GAC7B,IAAKA,EAAc,OAAO,KAC1B,IAAIQ,EAAc,EAQlB,OAPAR,EAAaS,QAAQ,SAAAxB,GAAK,IACdxN,EAAUwN,EAAVxN,MACF4O,EAAO5O,GAASA,EAAM9G,KAAK,GAAK8G,EAAM9G,KAAK,GAAGF,MAAQ,KACtD6V,EAAO7O,GAASA,EAAM9G,KAAK,GAAK8G,EAAM9G,KAAK,GAAGF,MAAQ,KACtDiL,EAAS6K,GAAqBF,EAAMC,GAC3B,OAAX5K,IAAiB8K,GAAe9K,KAEjC8K,GAGIb,MCfAe,eAjLX,SAAAA,EAAYrY,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkN,IACfrN,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoN,GAAA/M,KAAAH,KAAMnL,KAeVsY,kBAhBmBrN,OAAA+B,EAAA,EAAA/B,CAAAgC,EAAAvM,EAAAwM,KAgBC,SAAAC,IAAA,IAAA7J,EAAAyS,EAAAG,EAAA1C,EAAArL,EAAAwP,EAAApN,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAENnK,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxByS,EAAc/K,EAAKS,MAAMyK,SAASxS,GAH5B8J,EAAAE,KAAA,EAKWrL,EAAIgG,gBAAgB/E,EAAOyS,GALtC,cAKNG,EALM1I,EAAAG,KAAAH,EAAAE,KAAA,EAMSrL,EAAIyD,aAAaxC,GAN1B,UAMNkQ,EANMhG,EAAAG,MAQRuI,IAAY1C,EARJ,CAAAhG,EAAAE,KAAA,SASFvF,EAAmB+N,EAASE,cAAT,GAAA5S,OAA4B0S,EAASE,cAAc1S,IAAO,KAC7EiU,EAAezB,EAASyB,aAAezB,EAASyB,aAAa5L,IAAI,SAAA6K,GAAC,SAAApT,OAAOoT,EAAElT,MAAQ,GACzFsH,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+ByK,WAAU1C,SAAQrL,iBAAkBA,EAAkBwP,aAAcA,EAAc7J,UAAU,KAXnHN,EAAAE,KAAA,uBAaF,IAAI0C,MAAM,CAAE7F,MAAO,CAAEA,MAAO,CAAErK,QAAS,+IAbrC,QAAAsN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAeLjD,EAfKiD,EAAAO,GAeLxD,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,IAAQ,WAC7C9C,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,WAjB1B,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,aAhBDH,EAsCnBuN,qBAAuB,SAACtU,EAAMkE,EAAkBwP,GAC5C,IAAMrU,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxByS,EAAc/K,EAAKS,MAAMyK,SAASxS,GACxCsH,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B8K,YAAY,IAAQ,WAC/ClU,EAAIiG,mBAAmBhF,EAAOyS,EAAa9R,EAAMkE,EAAkBwP,GAC9D5U,KAAK,SAAAsK,GACEA,GAAUA,EAAOnD,KACjBc,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B8K,YAAY,IAAS,WAChDvL,EAAKhL,MAAMmK,iBAAiB,yFAC5Ba,EAAKhL,MAAM2J,QAAQC,WAIvBoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B8K,YAAY,IAAS,WAChDvL,EAAKhL,MAAMoK,iBAAiB,gHAIvCC,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACNS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B8K,YAAY,IAAS,WAChDvL,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,gBAvDlD8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZkM,SAAU,CACNxS,GAAI1D,EAAMyP,MAAM/K,OAAOqR,aAE3BvC,OAAQ,GACRrL,iBAAkB,KAClBwP,aAAc,GACd7J,UAAU,EACVyI,YAAY,GAZDvL,wEAgEV,IAKD/G,EAAMkE,EAAkBqQ,EAAqBC,EAL5C9M,EAAAR,KACL,IAAKA,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAEjCvO,QAAQC,IAAI2K,KAAKM,OAiDjB,OACIhL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,qCACXH,EAAAC,EAAAC,cAAA,gHAEJF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,OAAO8B,YAAY,mDAAWC,UAAQ,EAACC,WAAS,EAACC,IAAK,SAAAC,GAAC,OAAI8B,EAAO9B,GAAG4N,aAAc5E,KAAKM,MAAMyK,SAASjS,QAEhJxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,iBAAf,qGACArT,EAAAC,EAAAC,cAAA,UAAQC,UAAU,eAAe8C,GAAG,gBAAgBxB,IAAK,SAAAC,GAAC,OAAIgG,EAAmBhG,GAAG0M,SAtD/E,SAAAxO,GACzB,IAAMqD,EAAgC,MAA3ByE,EAAiB/F,MAAgB+F,EAAiB/F,MAAQ,KACrEuJ,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BtD,iBAAkBzE,MAoDuFqM,aAAc5E,KAAKM,MAAMyK,SAASE,cAAgBjL,KAAKM,MAAMyK,SAASE,cAAc1S,GAAK,MACzMjD,EAAAC,EAAAC,cAAA,UAAQyB,MAAM,MAEV+I,KAAKM,MAAM+H,OACNmD,OAAO,SAAAC,GAAC,OAAKjL,EAAKF,MAAMkM,aAAad,SAASnB,OAAOkB,EAAElT,IAAIoT,cAC3D/K,IAAI,SAAA6K,GAAC,OAAInW,EAAAC,EAAAC,cAAA,UAAQwO,IAAKyH,EAAElT,GAAItB,MAAOwU,EAAElT,IAAKkT,EAAE3S,UAI7DxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,iBAAf,2GACArT,EAAAC,EAAAC,cAAA,UAAQoW,UAAQ,EAACnW,UAAU,eAAe8C,GAAG,gBAAgBxB,IAAK,SAAAC,GAAC,OAAIqW,EAAsBrW,GAAG6U,cA5D9E,SAAA3W,GACtCE,QAAQC,IAAIgY,EAAoBpW,OAEhCuJ,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BkM,aAAY,GAAAnU,OAAAyH,OAAAoJ,GAAA,EAAApJ,CAAMU,EAAKF,MAAMkM,cAAjB,CAA+Ba,EAAoBpW,aA4DlE+I,KAAKM,MAAM+H,OACNmD,OAAO,SAAAC,GAAC,OAAKlB,OAAOkB,EAAElT,IAAIoT,aAAenL,EAAKF,MAAMtD,mBAAsBwD,EAAKF,MAAMkM,aAAad,SAASnB,OAAOkB,EAAElT,IAAIoT,cACxH/K,IAAI,SAAA6K,GAAC,OAAInW,EAAAC,EAAAC,cAAA,UAAQwO,IAAKyH,EAAElT,GAAItB,MAAOwU,EAAElT,IAAKkT,EAAE3S,SAGzDxD,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QA9D3C,SAAAb,GACvBA,EAAEC,iBAGF,IAFA,IAAI2W,EAAM,GACJC,EAAUsB,EAAoBtB,QAC3BC,EAAI,EAAGA,EAAID,EAAQE,OAAQD,IAC5BD,EAAQC,GAAGE,UACXJ,EAAItS,KAAKuS,EAAQC,GAAG/U,OAGxB6U,EAAIG,OAAS,GACbzL,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BkM,aAAY,GAAAnU,OAAAyH,OAAAoJ,GAAA,EAAApJ,CAAMU,EAAKF,MAAMkM,cAAiBV,QAoD7D,qDAEJxW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOmT,QAAQ,eAAf,iHACArT,EAAAC,EAAAC,cAAA,UAAQoW,UAAQ,EAACnW,UAAU,eAAe8C,GAAG,cAAcxB,IAAK,SAAAC,GAAC,OAAIsW,EAAoBtW,IAGjFgJ,KAAKM,MAAM+H,OACNmD,OAAO,SAAAC,GAAC,OAAIjL,EAAKF,MAAMkM,aAAad,SAASnB,OAAOkB,EAAElT,IAAIoT,cAC1D/K,IAAI,SAAA6K,GAAC,OAAInW,EAAAC,EAAAC,cAAA,UAAQwO,IAAKyH,EAAElT,GAAItB,MAAOwU,EAAElT,IAAKkT,EAAE3S,SAGzDxD,EAAAC,EAAAC,cAAA,UAAQC,UAAU,2BAA2BM,QA5DvC,SAAAb,GAC1BA,EAAEC,iBAGF,IAFA,IAAI2W,EAAM,GACJC,EAAUuB,EAAkBvB,QACzBC,EAAI,EAAGA,EAAID,EAAQE,OAAQD,IAC5BD,EAAQC,GAAGE,UACXJ,EAAItS,KAAKuS,EAAQC,GAAG/U,OAG5B,IAAMuV,EAAehM,EAAKF,MAAMkM,aAC3BhB,OAAO,SAAAC,GAAC,OAAKK,EAAIJ,SAASD,KAE/BjL,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BkM,aAAa1M,OAAAoJ,GAAA,EAAApJ,CAAK0M,QAgD7B,yCAGAxM,KAAKM,MAAM8K,WAAa9V,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAS,4DAAgBqM,OAAO,IACjE9L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QA/FhD,SAAAb,GAC1BA,EAAEC,iBACFqL,EAAK4M,qBAAqBtU,EAAK7B,MAAOuJ,EAAKF,MAAMtD,iBAAkBwD,EAAKF,MAAMkM,gBA6FlD,0DAvKXxL,aC2EduM,eA3EX,SAAAA,EAAY1Y,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuN,IACf1N,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyN,GAAApN,KAAAH,KAAMnL,KA8BViQ,eAAiB,SAAA5P,GACbA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MACxByS,EAAc/K,EAAKS,MAAMyK,SAASxS,GACxCrB,EAAIkG,mBAAmBjF,EAAOyS,GACzBhT,KAAK,SAAAsK,GACEA,GAAUA,EAAOnD,OACjBc,EAAKhL,MAAMmK,iBAAiB,6EAC5Ba,EAAKhL,MAAM2J,QAAQuG,IAAI,MAG9B7F,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA3C3B8K,EA+CnBmF,cAAgB,SAAA9P,GACZA,EAAEC,iBACF0K,EAAKhL,MAAM2J,QAAQC,UA9CnBoB,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZkM,SAAU,CACNxS,GAAI1D,EAAMyP,MAAM/K,OAAOqR,aAE3BjI,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxByS,EAAc5K,KAAKM,MAAMyK,SAASxS,GACxCrB,EAAIgG,gBAAgB/E,EAAOyS,GACtBhT,KAAK,SAAAmT,GACEA,EACAvK,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+ByK,WAAUpI,UAAU,MAGnDnC,EAAK3L,MAAMoK,iBAAiB,0FAC5BuB,EAAK3L,MAAM2J,QAAQC,YAG1BS,MAAM,SAAAwF,GAAe,IAAZtF,EAAYsF,EAAZtF,MACNoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CA0B3B,IAAKuB,KAAKM,MAAMqC,SAAU,OAAOrN,EAAAC,EAAAC,cAACmO,EAAD,MAD5B,IAEGoH,EAAa/K,KAAKM,MAAlByK,SACR,OACIzV,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,kBAAb,mFAAA4C,OAAiD0S,EAASjS,KAA1D,OAEJxD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kBAAkBM,QAASiK,KAAK8E,gBAAlD,QAEJxP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBM,QAASiK,KAAKgF,eAAjD,iBAnEChE,aCmCd3B,GApCA,SAAAxK,GAAS,IACbgK,EAAQhK,EAARgK,KACAS,EAAiBzK,EAAjByK,cAKP,OACIhK,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,+CACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,eAAe8I,GAAG,mBAC9BjJ,EAAAC,EAAAC,cAAA,YAAOqJ,EAAK3I,OADhB,IAC8BZ,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAE3CH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,iBAAiBX,KAAK,SAASyK,cAAY,WAAWC,cAAY,aAAaC,gBAAc,YAAYC,gBAAc,QAAQ5J,aAAW,qBACxJR,EAAAC,EAAAC,cAAA,QAAMC,UAAU,yBAEpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAA2B8C,GAAG,aACzCjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,qBAA9B,mCAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,sBAA9B,yCAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,wBAAwB8I,GAAG,UAAUxI,QAvB3D,SAAAb,GAClBA,EAAEC,iBACFmK,MAqBwB,yCCZjBK,UAdA,SAAA9K,GACX,OACIS,EAAAC,EAAAC,cAAA,UAAQC,UAAU,kCACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kCACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,mBC8DT+X,eA9DX,SAAAA,EAAY3Y,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwN,IACf3N,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0N,GAAArN,KAAAH,KAAMnL,KA0BVG,kBAAoB,WAChB6K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,SA5BtBwJ,EA+BnBU,SAAW,SAACzL,EAAMC,GACd8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,CAACvB,OAAMC,eAhC7B8K,EAmCnBZ,iBAAmB,SAAAlK,GACf8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,CAACvB,KAAM,UAAWC,eApCxC8K,EAuCnBb,iBAAmB,SAAAjK,GACf8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BjK,MAAO,CAACvB,KAAM,UAAWC,eAtCvD8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZf,UAAW,GACXzH,MAAO,KACPsM,UAAU,GANC9C,mFAUC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxBgB,EAAU6G,KAAKM,MAAMzB,KAAKtG,GAChCrB,EAAIgC,qBAAqBf,EAAOgB,GAC3BvB,KAAK,SAAAkG,GACEA,EACA0C,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBU,EAAKF,MAAvB,CAA8BxC,YAAW6E,UAAU,KAGnDnC,EAAK3L,MAAMyK,kBAGlBJ,MAAM,SAAAC,GAAaA,EAAXC,MACLoB,EAAK3L,MAAMyK,mDAoBd,IAAAqF,EAAA3E,KACL,IAAKA,KAAKM,MAAMqC,SAAU,OAAO,KAD5B,IAEG9D,EAASmB,KAAKM,MAAdzB,KAER,OADAzJ,QAAQC,IAAI,YAAawJ,GAErBvJ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiY,GAAD,CAAQ5O,KAAMA,EAAMS,cAAeU,KAAKnL,MAAMyK,gBAC7CU,KAAKM,MAAMjK,OAASf,EAAAC,EAAAC,cAACc,EAAD,CAAOxB,KAAMkL,KAAKM,MAAMjK,MAAMvB,KAAMC,QAASiL,KAAKM,MAAMjK,MAAMtB,QAASC,kBAAmBgL,KAAKhL,oBAEhHgL,KAAKnL,MAAM6J,UAAYgC,IAAMC,SAASC,IAAIZ,KAAKnL,MAAM6J,SAAU,SAAAmC,GAAK,OAChEH,IAAMI,aAAaD,EAAO,CAACN,SAAUoE,EAAKpE,SAAUtB,iBAAkB0F,EAAK1F,iBAAkBD,iBAAkB2F,EAAK3F,iBAAkBlB,UAAW6G,EAAKrE,MAAMxC,cAGpKxI,EAAAC,EAAAC,cAACkY,GAAD,cAzDiB1M,aCgBlB2M,GApBW,SAAA9Y,GAAS,IACxBgK,EAAmBhK,EAAnBgK,KAAMf,EAAajJ,EAAbiJ,UACb,OACIxI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAACsJ,EAAWjK,EACRS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,kCAA7B,0FAEJjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,4EACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACXH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,kCADJ,MACsDH,EAAAC,EAAAC,cAAA,YAAOqJ,EAAK3I,QAElEZ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,sBADJ,MACoDH,EAAAC,EAAAC,cAAA,YAAOsI,EAAUhF,UCV/E8U,eACJ,SAAAA,EAAY/Y,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4N,IACjB/N,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8N,GAAAzN,KAAAH,KAAMnL,KAaR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAO,EAAAM,EAAAkJ,EAAAvJ,EAAA2Q,EAAAlK,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAL,EAEapC,EAAKS,MAAxBnI,EAFM8J,EAEdpD,KAAQ1G,MAASO,EAFHuJ,EAEGvJ,MACnBM,EAAe6G,EAAKS,MAAMxC,UAAUvF,GAHpB8J,EAAAE,KAAA,EAKDrL,EAAIqG,OAAOE,MAAMtF,EAAOa,GALvB,aAKhBkJ,EALgBG,EAAAG,OAMRN,EAAOzE,MAAQ,GANP,CAAA4E,EAAAE,KAAA,gBAOd5J,GAAUiJ,EAAa,GAAKlJ,EAPd2J,EAAAE,KAAA,GASDrL,EAAIqG,OAAOK,oBAAoBzF,EAAOa,EAAcN,EAAOC,GAT1D,QASd2Q,EATcjH,EAAAG,KAUpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BgJ,OAAM7G,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAVlFN,EAAAE,KAAA,iBAapB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAbrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAgBfjD,EAhBeiD,EAAAO,GAgBfxD,MACPS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,SAjBZ,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAdPH,EA2CnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA/CrB8K,EAmDnB0J,YAAc,SAAAsE,GAAM,OAAI,SAAA3Y,GACtBA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAIqG,OAAOI,WAAWxF,EAAO0V,GAC1B3O,MAAM,SAAAgE,GAAa,IAAX9D,EAAW8D,EAAX9D,MACPS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,aArDzC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZf,UAAWjJ,EAAMiJ,UACjBwL,KAAM,GACN5Q,MAAO,GACPgK,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GAVK9C,mFAmCC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAyI,GAAe,IAAZvI,EAAYuI,EAAZvI,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAsBtC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,OACjBS,EAAAC,EAAAC,cAACsY,GAAD,CAAOrE,MAAOzJ,KAAKM,MAAMgJ,KAAMC,YAAavJ,KAAKuJ,cAE/CvJ,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM5H,MACtCpD,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM5H,MAC9B+J,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAhBoB,YA9DH9B,aAqF5B4C,GAAQ,SAAA/O,GAAS,IACb4U,EAAU5U,EAAV4U,MACR,OACEnU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,iEACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,MACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,4BACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,0DACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,kCACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,sEACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,8CACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,0DACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBAGzDH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,YAEtB2F,GAASA,EAAM7I,IAAI,SAAA8I,GAAI,OAAIpU,EAAAC,EAAAC,cAACuY,GAAD,CAAU/J,IAAG,GAAA3L,OAAKqR,EAAKnR,IAAMmR,KAAMA,EAAMH,YAAa1U,EAAM0U,oBAQ7FtF,GAAW,SAAApP,GAAS,IAChB6U,EAAS7U,EAAT6U,KACR,OACEpU,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACZH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,sBAAAlG,OAAwBqR,EAAKnR,KAAOmR,EAAKnR,KAGnDjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAe8R,GAAWd,GAAWiD,EAAKxN,QACxD5G,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAK5L,WAClCxI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAK1L,OAClC1I,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAK3L,UAClCzI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAKzL,OAClC3I,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeiU,EAAKE,eAClCtU,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiBM,QAASlB,EAAM0U,YAAYG,EAAKnR,IAAK+M,KAAI,qBAAAjN,OAAuBqR,EAAKnR,GAA5B,QAAsCsR,SAAQ,OAAAxR,OAASuD,KAAKC,MAAd,SAA2BvG,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBAKhLmY,MCRAI,eA3HX,SAAAA,EAAYnZ,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgO,IACfnO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkO,GAAA7N,KAAAH,KAAMnL,KA8BV0U,YAAc,SAAAsE,GAAM,OAAI,SAAA3Y,GACpBA,EAAEC,iBACF,IAAMgD,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAC9BjB,EAAIqG,OAAOI,WAAWxF,EAAO0V,GACxB3O,MAAM,SAAAC,GAAe,IAAZC,EAAYD,EAAZC,MACNS,EAAKhL,MAAM0L,SAAS,UAAWnB,EAAMrK,aAjC7C8K,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZkL,IAAK,CACDxR,GAAI1D,EAAMyP,MAAM/K,OAAOhB,IAE3BoK,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB0V,EAAS7N,KAAKM,MAAMyJ,IAAIxR,GAC9BrB,EAAIqG,OAAOG,QAAQvF,EAAO0V,GACrBjW,KAAK,SAAAmS,GACEA,EACAvJ,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+ByJ,MAAKpH,UAAU,MAG9CnC,EAAK3L,MAAMoK,iBAAiB,oFAC5BuB,EAAK3L,MAAM2J,QAAQC,YAG1BS,MAAM,SAAAwF,GAAeA,EAAZtF,MACNoB,EAAK3L,MAAMoK,iBAAiB,oFAC5BuB,EAAK3L,MAAM2J,QAAQC,4CAc3B,IAAKuB,KAAKM,MAAMqC,SAAU,OAAO,KAD5B,IAAAV,EAEiBjC,KAAKM,MAAnBzB,EAFHoD,EAEGpD,KAAMkL,EAFT9H,EAES8H,IACd,OACIzU,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAADgB,OAAAkK,OAAA,GAAYhK,KAAKnL,MAAjB,CAAwBgK,KAAMA,IAC1BvJ,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,sBAAAlG,OAAwB0R,EAAIxR,GAA5B,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,GAAGxI,QAASiK,KAAKuJ,YAAYQ,EAAIxR,KAA/D,+CAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,yCAAA4C,OAA6C0R,EAAIxR,KACjDjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIxR,MAEhDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoB8R,GAAWd,GAAWsD,EAAI7N,UAEtE5G,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIjM,aAEhDxI,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIhM,YAEhDzI,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,mCACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAI/L,SAEhD1I,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAI9L,SAEhD3I,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIkE,eAAiB,eAAO,wBAExE3Y,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBACVH,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,0HAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIG,UAAY3C,GAAWwC,EAAIG,WAAa,SAExF5U,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAuC,OAAnBsU,EAAII,WAAsBJ,EAAII,WAAa,SAEvF7U,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBACVH,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,wGAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBsU,EAAIK,aAAe7C,GAAWwC,EAAIK,cAAgB,SAE9F9U,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAA0C,OAAtBsU,EAAIH,cAAyBG,EAAIH,cAAgB,SAE7FtU,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,sGACJH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAERsU,EAAIK,cAAgBL,EAAIG,UAAYH,EAAIH,cAAgBG,EAAII,WACxDJ,EAAIK,aAAeL,EAAIH,cAAgB,mBA9GrD5I,aCA5BkN,eACJ,SAAAA,EAAYrZ,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkO,IACjBrO,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoO,GAAA/N,KAAAH,KAAMnL,KAYR8M,UAAY,SAAAC,GAAU,OAAA9B,OAAA+B,EAAA,GAAAC,EAAAvM,EAAAwM,KAAI,SAAAC,IAAA,IAAAC,EAAA9J,EAAAgW,EAAAjM,EAAAmG,EAAAjJ,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAEtBzC,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BqC,UAAU,KAFlBV,EAGiBpC,EAAKS,MAA5BnI,EAHM8J,EAGdpD,KAAQ1G,MAASgW,EAHHlM,EAGGkM,UAHH9L,EAAAE,KAAA,EAIDrL,EAAIwD,eAAevC,GAJlB,aAIhB+J,EAJgBG,EAAAG,OAKRN,EAAOzE,MAAQ,GALP,CAAA4E,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,EAMCrL,EAAIyD,aAAaxC,EAAOgW,GAAYvM,EAAa,GAAKuM,GANvD,OAMd9F,EANchG,EAAAG,KAOpB3C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+B+H,SAAQ5F,gBAAiBP,EAAOzE,MAAOiF,WAAYd,EAAYe,UAAU,KAPpFN,EAAAE,KAAA,iBAUpB1C,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BqC,UAAU,KAVrB,QAAAN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAafjD,EAbeiD,EAAAO,GAafxD,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BqC,UAAU,IAAO,WAC7C9C,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,WAfd,yBAAAsN,EAAAQ,SAAAb,EAAAhC,KAAA,cAbPH,EAyCnBiD,kBAAoB,SAAAlB,GAClBmB,QAAQC,UACLpL,KAAKiI,EAAK8B,UAAUC,IACpB1C,MAAM,SAAA+D,GAAe,IAAZ7D,EAAY6D,EAAZ7D,MACRS,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,YA1CtC8K,EAAKS,MAAQ,CACXzB,KAAMhK,EAAMgK,KACZwJ,OAAQ,GACR8F,UAAW,GACXzL,WAAY,EACZD,gBAAiB,EACjBE,UAAU,GATK9C,mFAiCC,IAAAW,EAAAR,KAClB+C,QAAQC,UACLpL,KAAKoI,KAAK2B,UAAU3B,KAAKM,MAAMoC,aAC/BxD,MAAM,SAAAgE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACRoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,4CAatC,OAAKiL,KAAKM,MAAMqC,SAEdrN,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACbH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACfS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAG,4BAA9B,qDAEFjJ,EAAAC,EAAAC,cAAC4Y,GAAD,CAAO/F,OAAQrI,KAAKM,MAAM+H,SAExBrI,KAAKM,MAAMmC,gBAAkBzC,KAAKM,MAAM6N,UACtC7Y,EAAAC,EAAAC,cAAC4N,EAAA7N,EAAD,CACE8N,cAAY,EACZX,WAAY1C,KAAKM,MAAMoC,WACvBY,kBAAmBtD,KAAKM,MAAM6N,UAC9B1L,gBAAiBzC,KAAKM,MAAMmC,gBAC5Bc,WAAW,oCACXC,UAAU,YACVC,UAAU,YACVC,SAAU1D,KAAK8C,oBACZ,MAlBoB,YAnDJ9B,aA6E3B4C,GAAQ,SAAA/O,GAAS,IACbwT,EAAWxT,EAAXwT,OACR,OACE/S,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,oCACfH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cACfH,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAAcH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBACrDH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,oDACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,sEACAH,EAAAC,EAAAC,cAAA,MAAIqO,MAAM,MAAMpO,UAAU,eAA1B,gDAGJH,EAAAC,EAAAC,cAAA,SAAOG,MAAO,CAAEmO,SAAU,SAEtBuE,GAAUA,EAAOzH,IAAI,SAAA5C,GAAK,OAAI1I,EAAAC,EAAAC,cAAC6Y,GAAD,CAAUrK,IAAG,GAAA3L,OAAK2F,EAAMzF,GAAX,KAAAF,OAAiB2F,EAAMlF,MAAQkF,MAAOA,UAQvFiG,GAAW,SAAApP,GAAS,IAChBmJ,EAAUnJ,EAAVmJ,MACR,OACE1I,EAAAC,EAAAC,cAAA,MAAIG,MAAOA,GAAMqI,IACf1I,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,qBAAAlG,OAAuB2F,EAAMzF,GAA7B,aAA2CjD,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iCAC5FH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAcH,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAMC,GAAE,qBAAAlG,OAAuB2F,EAAMzF,KAAOyF,EAAMlF,OAC9ExD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeuI,EAAMD,SAAWC,EAAMD,SAASjF,KAAO,MACpExD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAeuI,EAAMC,MAAQD,EAAMC,MAAM3D,OAAS,QAKhE3E,GAAQ,SAAAqI,GACZ,IAAKA,EAAMC,MAAO,MAAO,CAAEqQ,gBAAiB,WAC5C,GAAItQ,EAAMC,MAAO,KACP8K,EAAa/K,EAAMC,MAAnB8K,SACR,OAAIA,GAAa,IAAInN,KAAKmN,EAAS7M,MAAO4K,aAAgB,IAAIlL,KAAKA,KAAKC,OAAQiL,WACvE,CAAEwH,gBAAiB,WAGnB,CAAEA,gBAAiB,WAG9B,OAAO,MAGMJ,MCpCAK,eAzFX,SAAAA,EAAY1Z,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuO,IACf1O,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyO,GAAApO,KAAAH,KAAMnL,KAEDyL,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZb,MAAO,CACHzF,GAAI1D,EAAMyP,MAAM/K,OAAOyC,UAE3B2G,UAAU,GARC9C,mFAYC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6D,EAAWgE,KAAKM,MAAMtC,MAAMzF,GAClCrB,EAAI+D,aAAa9C,EAAO6D,GACnBpE,KACG,SAAAoG,GACQA,EACAwC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BtC,QAAO2E,UAAU,MAGhDnC,EAAK3L,MAAMoK,iBAAiB,0FAC5BuB,EAAK3L,MAAM2J,QAAQC,WAG3B,SAAAU,GAAe,IAAZC,EAAYD,EAAZC,MACCoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CAM/B,IAAKuB,KAAKM,MAAMqC,SAAU,OAAO,KAD5B,IAEG3E,EAAUgC,KAAKM,MAAftC,MACR,OACI1I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACbS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,qBAAAlG,OAAuB2F,EAAMzF,GAA7B,YAA7B,oDACAjD,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,qBAAAlG,OAAuB2F,EAAMzF,GAA7B,aAA7B,4GAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,0IACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMzF,MAElDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,qDACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMlF,QAElDxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMD,SAAWC,EAAMD,SAASjF,KAAO,SAEnFxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMD,UAAYC,EAAMD,SAASjE,MAAQxE,EAAAC,EAAAC,cAAA,KAAG8P,KAAI,OAAAjN,OAAS2F,EAAMD,SAASjE,QAAUkE,EAAMD,SAASjE,OAAa,SAE1JxE,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,MAAQD,EAAMC,MAAM3D,OAAS,SAE/EhF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMlD,WAAa,eAAO,wBAEtExF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,oHAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,OAASD,EAAMC,MAAM8K,SAAWxB,GAAWvJ,EAAMC,MAAM8K,SAAS7M,MAAQ,SAE1H5G,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,OAASD,EAAMC,MAAM8K,SAAW/K,EAAMC,MAAM8K,SAAS9R,MAAQ,oBAhF1G+J,aCqJlBwN,eAvJX,SAAAA,EAAY3Z,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAwO,IACf3O,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA0O,GAAArO,KAAAH,KAAMnL,KAeV4Z,GAAK,kBAAM5O,EAAK6O,OAAO3X,IAAI4X,QAAQC,wBAAwBnY,KAAOoY,OAAOC,SAhBtDjP,EAkBnBkP,GAAK,kBAAMlP,EAAK6O,OAAO3X,IAAI4X,QAAQC,wBAAwBpY,IAAMqY,OAAOG,SAlBrDnP,EAoBnBoP,kBAAoB,SAAA/Z,GAChBA,EAAEC,iBAKF,IAJA,IACI+Z,EADaC,SAASC,eAAe,cACpBC,WAAW,MAC5BC,EAAUpa,EAAEqa,eAEPvD,EAAI,EAAGA,EAAIsD,EAAQrD,OAAQD,IAChCnM,EAAK2P,eAAehW,KAAKqG,EAAK4P,UAAUH,EAAQtD,KAChDkD,EAAIQ,YACJR,EAAIS,IAAIL,EAAQtD,GAAG4D,MAAQ/P,EAAK4O,KAAMa,EAAQtD,GAAG6D,MAAQhQ,EAAKkP,KAAMlP,EAAKiQ,MAAMC,KAAO,EAAG,EAAG,EAAIC,KAAKC,IAAI,GACzGf,EAAIgB,UAAYrQ,EAAKiQ,MAAMK,MAC3BjB,EAAIkB,QA/BOvQ,EAmCnBwQ,iBAAmB,SAAAnb,GACfA,EAAEC,iBAKF,IAJA,IACI+Z,EADaC,SAASC,eAAe,cACpBC,WAAW,MAC5BC,EAAUpa,EAAEqa,eAEPvD,EAAI,EAAGA,EAAIsD,EAAQrD,OAAQD,IAAK,CACrC,IAAIsE,EAAMzQ,EAAK0Q,sBAAsBjB,EAAQtD,GAAGwE,YAC5CF,GAAO,GACPpB,EAAIQ,YACJR,EAAIuB,OAAO5Q,EAAK2P,eAAec,GAAKV,MAAQ/P,EAAK4O,KAAM5O,EAAK2P,eAAec,GAAKT,MAAQhQ,EAAKkP,MAC7FG,EAAIwB,OAAOpB,EAAQtD,GAAG4D,MAAQ/P,EAAK4O,KAAMa,EAAQtD,GAAG6D,MAAQhQ,EAAKkP,MACjEG,EAAIyB,UAAY9Q,EAAKiQ,MAAMC,KAC3Bb,EAAI0B,YAAc/Q,EAAKiQ,MAAMK,MAC7BjB,EAAI2B,SACJhR,EAAK2P,eAAesB,OAAOR,EAAK,EAAGzQ,EAAK4P,UAAUH,EAAQtD,MAE1D5W,QAAQC,IAAI,8CApDLwK,EAyDnBkR,gBAAkB,SAAA7b,GACdA,EAAEC,iBAKF,IAJA,IACI+Z,EADaC,SAASC,eAAe,cACpBC,WAAW,MAC5BC,EAAUpa,EAAEqa,eAEPvD,EAAI,EAAGA,EAAIsD,EAAQrD,OAAQD,IAAK,CACrC,IAAIsE,EAAMzQ,EAAK0Q,sBAAsBjB,EAAQtD,GAAGwE,YAC5CF,GAAO,GACPpB,EAAIyB,UAAY9Q,EAAKiQ,MAAMC,KAC3Bb,EAAIgB,UAAYrQ,EAAKiQ,MAAMK,MAC3BjB,EAAIQ,YACJR,EAAIuB,OAAO5Q,EAAK2P,eAAec,GAAKV,MAAQ/P,EAAK4O,KAAM5O,EAAK2P,eAAec,GAAKT,MAAQhQ,EAAKkP,MAC7FG,EAAIwB,OAAOpB,EAAQtD,GAAG4D,MAAQ/P,EAAK4O,KAAMa,EAAQtD,GAAG6D,MAAQhQ,EAAKkP,MAEjElP,EAAK2P,eAAesB,OAAOR,EAAK,IAEhClb,QAAQC,IAAI,yCA1ELwK,EA+EnBmR,aAAe,SAAA9b,GACXA,EAAEC,iBAGF,IAFA,IAAIma,EAAUpa,EAAEqa,eAEPvD,EAAI,EAAGA,EAAIsD,EAAQrD,OAAQD,IAAK,CACrC,IAAMsE,EAAMzQ,EAAK0Q,sBAAsBjB,EAAQtD,GAAGwE,YAClD3Q,EAAK2P,eAAesB,OAAOR,EAAK,KArFrBzQ,EAqGnB4P,UAAY,SAAAwB,GACR,MAAO,CAAET,WAAYS,EAAMT,WAAYZ,MAAOqB,EAAMrB,MAAOC,MAAOoB,EAAMpB,QAtGzDhQ,EAyGnB0Q,sBAAwB,SAAAW,GACpB,IAAK,IAAIlF,EAAI,EAAGA,EAAInM,EAAK2P,eAAevD,OAAQD,IAAK,CAGjD,GAFWnM,EAAK2P,eAAexD,GAAGwE,aAEvBU,EACP,OAAOlF,EAGf,OAAQ,GAjHOnM,EAoInBsR,YAAc,SAAAjc,GACVA,EAAEC,iBACU0K,EAAK6O,OAAO3X,IAAI4X,QAAQU,WAAW,MAC3C+B,UAAU,EAAG,EAAGvR,EAAK6O,OAAOjN,MAAO5B,EAAK6O,OAAOrN,SApInDxB,EAAKyP,QAAU,CAAE+B,EAAG,GAAIC,EAAG,IAC3BzR,EAAKiQ,MAAQ,CAAEK,MAAO,QAASJ,KAAM,GACrClQ,EAAK0R,SAAW,KAChB1R,EAAK6O,OAAS,CACVjN,MAAO,IACPJ,OAAQ,IACRtK,IAAK2J,IAAM8Q,YACXC,UAAW/Q,IAAM8Q,aAGrB3R,EAAK2P,eAAiB,GAbP3P,mFAqHf,IAAM6O,EAAS1O,KAAK0O,OAAO3X,IAAI4X,QAC/BD,EAAOgD,iBAAiB,aAAc1R,KAAKiP,mBAAmB,GAC9DP,EAAOgD,iBAAiB,YAAa1R,KAAKqQ,kBAAkB,GAC5D3B,EAAOgD,iBAAiB,cAAe1R,KAAKgR,cAAc,GAC1DtC,EAAOgD,iBAAiB,WAAY1R,KAAK+Q,iBAAiB,kDAI1D,IAAMrC,EAAS1O,KAAK0O,OAAO3X,IAAI4X,QAC/BD,EAAOiD,oBAAoB,aAAc3R,KAAKiP,mBAC9CP,EAAOiD,oBAAoB,YAAa3R,KAAKqQ,kBAC7C3B,EAAOiD,oBAAoB,cAAe3R,KAAKgR,cAC/CtC,EAAOiD,oBAAoB,WAAY3R,KAAK+Q,kDAU5C,OACIzb,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oCACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,UAAQ+C,GAAG,aAAakJ,MAAOzB,KAAK0O,OAAOjN,MAAOJ,OAAQrB,KAAK0O,OAAOrN,OAAQtK,IAAKiJ,KAAK0O,OAAO3X,MAC/FzB,EAAAC,EAAAC,cAAA,UAAQ+C,GAAG,aAAakJ,MAAOzB,KAAK0O,OAAOjN,MAAOJ,OAAQrB,KAAK0O,OAAOrN,OAAQtK,IAAKiJ,KAAK0O,OAAO+C,UAAW9b,MAAO,CAACic,QAAS,WAE/Htc,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QAASiK,KAAKmR,aAA5D,4DAnJSnQ,aCsPV6Q,eA/OX,SAAAA,EAAYhd,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6R,IACfhS,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+R,GAAA1R,KAAAH,KAAMnL,KAmCVid,mBApCmB,eAAA3S,EAAAW,OAAA+B,EAAA,EAAA/B,CAAAgC,EAAAvM,EAAAwM,KAoCE,SAAAC,EAAO/K,EAAO8a,GAAd,IAAA/T,EAAA7F,EAAA2F,EAAAkU,EAAAjU,EAAAE,EAAA/B,EAAAD,EAAAgW,EAAAlI,EAAA3K,EAAA,OAAA0C,EAAAvM,EAAA6M,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACjBnN,QAAQC,IAAI4B,IACJ+G,EAAU6B,EAAKS,MAAftC,OACGC,MAHM,CAAAoE,EAAAE,KAAA,eAAAF,EAAA6P,OAAA,SAINrS,EAAKhL,MAAMoK,iBAAiB,kHAJtB,WAMbsL,OAAO9Q,MAAMxC,GANA,CAAAoL,EAAAE,KAAA,eAAAF,EAAA6P,OAAA,SAONrS,EAAKhL,MAAMoK,iBAAiB,oIAPtB,YASbjB,EAAMC,OAASD,EAAMC,MAAM8K,UAAa9R,EAAQsT,OAAOvM,EAAMC,MAAM8K,SAAS9R,QAT/D,CAAAoL,EAAAE,KAAA,eAAAF,EAAA6P,OAAA,SAUNrS,EAAKhL,MAAMoK,iBAAiB,oIAVtB,WAYbY,EAAKS,MAAMtC,MAAMlD,YAAeiX,EAZnB,CAAA1P,EAAAE,KAAA,gBAAAF,EAAA6P,OAAA,SAaNrS,EAAKhL,MAAMoK,iBAAiB,kHAbtB,WAgBX9G,EAAQ0H,EAAKS,MAAMzB,KAAK1G,MAExB2F,EAAY+B,EAAKS,MAAMxC,UAAUhF,KAEjCkZ,EAAYnS,EAAKS,MAAMtC,MAAMlF,KAC7BiF,EAAW8B,EAAKS,MAAMtC,MAAMD,SAASjF,KACrCmF,EAAQ4B,EAAKS,MAAMtC,MAAMC,MAAM3D,OAC/B4B,EAAOuK,GAAW7K,KAAKC,OACzBI,EAAU,KAEVgW,EAAO,KAEPlI,EAAM,KAEVlK,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,KA9BxBrG,EAAAC,KAAA,IAiCTzC,EAAKS,MAAMtC,MAAMlD,WAjCR,CAAAuH,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAkCIrL,EAAIsF,WAAWrE,EAAO4Z,GAlC1B,QAkCTE,EAlCS5P,EAAAG,KAmCTvG,EAAUgW,EAAK1Z,GAnCN,eAAA8J,EAAAE,KAAA,GAsCDrL,EAAIqG,OAAOM,OAAO1F,EAAO2F,EAAWC,EAAUiU,EAAW/T,EAAOhC,EAASC,EAAMjF,GAtC9E,QAsCb8S,EAtCa1H,EAAAG,KAAAH,EAAAE,KAAA,wBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,UAuCPjD,EAvCOiD,EAAAO,GAuCPxD,MACF6S,GAAM/a,EAAI0F,eAAezE,EAAO8Z,EAAK1Z,IAAIX,KAAK,cAClDiI,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiBG,EAAMrK,WA1CzBsN,EAAA6P,OAAA,kBA+CZnI,GAOD3U,QAAQC,IAAI0U,GACZ7S,EAAIqG,OAAOa,cAAcjG,EAAO4R,EAAIxR,IAC/BX,KAAK,SAAAmH,GACFc,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMmK,iBAAiB,sIAC5Ba,EAAKhL,MAAM2J,QAAQC,aAG1BS,MAAM,SAAA+D,GAAa,IAAX7D,EAAW6D,EAAX7D,MACLS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiB,4JAAsCG,EAAMrK,SACxE8K,EAAKhL,MAAM2J,QAAQC,cAjB/BoB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBD,EAAKS,MAAvB,CAA8BoI,WAAW,IAAQ,WAC7C7I,EAAKhL,MAAMoK,iBAAiB,sIAjDnB,yBAAAoD,EAAAQ,SAAAb,EAAAhC,KAAA,cApCF,gBAAAmS,EAAAC,GAAA,OAAAjT,EAAAkT,MAAArS,KAAAsS,YAAA,GAGfzS,EAAKS,MAAQ,CACTzB,KAAMhK,EAAMgK,KACZf,UAAWjJ,EAAMiJ,UACjBE,MAAO,CACHzF,GAAI1D,EAAMyP,MAAM/K,OAAOyC,UAE3BgR,YAAa,KACbrK,UAAU,EACV+F,WAAW,GAXA7I,mFAeC,IAAAW,EAAAR,KACV7H,EAAQ6H,KAAKM,MAAMzB,KAAK1G,MACxB6D,EAAWgE,KAAKM,MAAMtC,MAAMzF,GAClCrB,EAAI+D,aAAa9C,EAAO6D,GACnBpE,KACG,SAAAoG,GACQA,EACAwC,EAAKJ,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBU,EAAKF,MAAxB,CAA+BtC,QAAO2E,UAAU,MAGhDnC,EAAK3L,MAAMoK,iBAAiB,0FAC5BuB,EAAK3L,MAAM2J,QAAQC,WAG3B,SAAAyE,GAAe,IAAZ9D,EAAY8D,EAAZ9D,MACCoB,EAAK3L,MAAMoK,iBAAiBG,EAAMrK,SAClCyL,EAAK3L,MAAM2J,QAAQC,4CA4E1B,IACD0J,EAAKuG,EADJ/J,EAAA3E,KAEL,IAAKA,KAAKM,MAAMqC,SAAU,OAAO,KAF5B,IAGG3E,EAAUgC,KAAKM,MAAftC,MAoCR,OACI1I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsJ,EAAWkB,KAAKnL,MACbS,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAM7I,UAAU,WAAW8I,GAAE,qBAAAlG,OAAuB2F,EAAMzF,GAA7B,YAA7B,qDAEJjD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,0IACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,4CACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,OACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMzF,MAElDjD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,qDACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMlF,QAElDxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,uEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMD,SAAWC,EAAMD,SAASjF,KAAO,SAEnFxD,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMD,UAAYC,EAAMD,SAASjE,MAAQxE,EAAAC,EAAAC,cAAA,KAAG8P,KAAI,OAAAjN,OAAS2F,EAAMD,SAASjE,QAAUkE,EAAMD,SAASjE,OAAa,SAE1JxE,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,MAAQD,EAAMC,MAAM3D,OAAS,SAE/EhF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,+CACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMlD,WAAa,eAAO,wBAEtExF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KAAIxT,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,oHAEpBH,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,6BACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,OAASD,EAAMC,MAAM8K,SAAWxB,GAAWvJ,EAAMC,MAAM8K,SAAS7M,MAAQ,SAE1H5G,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,2DACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAoBuI,EAAMC,OAASD,EAAMC,MAAM8K,SAAW/K,EAAMC,MAAM8K,SAAS9R,MAAQ,SAE/G3B,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,MAAIsT,QAAQ,KACRxT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeX,KAAK,SAAS8B,YAAY,oGAAoBC,UAAQ,EAACE,IAAK,SAAAC,GAAC,OAAImR,EAAMnR,GAAG0M,SAhEpH,SAAAxO,GAClB,IAAI8X,EAAc,KAEdA,EADA7E,EAAIlR,OAAS,EACC,KAER0N,EAAKrE,MAAMtC,MAAMC,MAGlB0G,EAAKrE,MAAMtC,MAAMC,QAAU0G,EAAKrE,MAAMtC,MAAMC,MAAM8K,SACzCZ,EAAIlR,MAGJkR,EAAIlR,MAAQsT,OAAO5F,EAAKrE,MAAMtC,MAAMC,MAAM8K,SAAS9R,OANnD,KAQlB0N,EAAKvE,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkB6E,EAAKrE,MAAvB,CAA8B0M,YAAaA,WAsD3B1X,EAAAC,EAAAC,cAAA,MAAIC,UAAsC,IAA3BuK,KAAKM,MAAM0M,YAAoB,gBAAmBhN,KAAKM,MAAM0M,YAAc,EAAI,gBAAkB,gBAC5G1X,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,yEACJH,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,+BAA+BuK,KAAKM,MAAM0M,kBAY1EhP,EAAMlD,YACNxF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAoX,SAAA,KACIrX,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,iHACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAC+c,GAAD,CAAYxb,IAAK,SAAAC,GAAC,OAAI0X,EAAS1X,SAMnD1B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sEACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAEXuK,KAAKM,MAAMoI,UACXpT,EAAAC,EAAAC,cAACmO,EAAD,CAAa5O,QAAQ,2FAAqBqM,OAAO,IACjD9L,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BM,QArHtC,SAAAb,GAGxB,GAFAA,EAAEC,kBAEGwP,EAAKrE,MAAMtC,MAAMlD,WAClB,OAAO6J,EAAKmN,mBAAmB3J,EAAIlR,MAAO,MAG9C,IAAM8a,EAAWrD,EAAOA,OAAO3X,IAAI4X,QAAQ6D,YACrCC,EAAgB/D,EAAOA,OAAO+C,UAAU9C,QAAQ6D,YAAYvG,OAClE,GAAI8F,EAAS9F,QAAUwG,EACnB,OAAO9N,EAAK9P,MAAMoK,iBAAiB,2GAGvC,IAAMyT,E5BxGY,SAAAC,GAG1B,IAFA,IAAMC,EAAUC,KAAKF,EAAUG,MAAM,KAAK,IACtCC,EAAQ,GACH/G,EAAI,EAAGA,EAAI4G,EAAQ3G,OAAQD,IAChC+G,EAAMvZ,KAAKoZ,EAAQI,WAAWhH,IAGlC,OADa,IAAIiH,KAAK,CAAC,IAAIC,WAAWH,IAAS,CAAEje,KAAM,c4BkGlCqe,CAAepB,GAC5BpN,EAAKmN,mBAAmB3J,EAAIlR,MAAOyb,KAuGnB,yDAtOQ1R,aCoD9BoS,eACJ,SAAAA,EAAYve,GAAO,IAAAgL,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoT,IACjBvT,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAsT,GAAAjT,KAAAH,KAAMnL,KASRyK,cAAgB,WACdO,EAAKhL,MAAM2J,QAAQ6U,OAAS,EAC5BxT,EAAKhL,MAAM2J,QAAQhF,KAAK,UACxB,IAAI8G,EAAQ,GACZR,OAAOwT,KAAKzT,EAAKS,OAAO2M,QAAQ,SAAAjJ,GAC9B1D,EAAM0D,GAAO,OAEfnE,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAkBQ,KAjBDT,EAoBnB0T,aAAe,SAACrd,EAAOC,GAChBD,GAAUC,EAIfe,EAAIhB,MAAMA,EAAOC,GACdyB,KAAK,SAAAiH,GACJgB,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BzB,SAAQ,WACrC,OAAQA,EAAKnJ,MACX,IAAK,QAIL,IAAK,QACHmK,EAAKhL,MAAM2J,QAAQhF,KAAK,UACxB,MAEF,IAAK,YACHqG,EAAKhL,MAAM2J,QAAQhF,KAAK,cACxB,MAMF,QACEqG,EAAKhL,MAAM2J,QAAQhF,KAAK,eAK/B0F,MAAM,SAAAC,GAAa,IAAXC,EAAWD,EAAXC,MACPS,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BjK,MAAO,CAAEvB,KAAM,UAAWC,QAASqK,EAAMrK,cA9B1E8K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BjK,MAAO,CAAEvB,KAAM,UAAWC,QAAS,mCAtBnD8K,EAwDnB7K,kBAAoB,WAClB6K,EAAKO,SAALN,OAAAO,EAAA,EAAAP,CAAA,GAAmBD,EAAKS,MAAxB,CAA+BjK,MAAO,SAtDtCwJ,EAAKS,MAAQ,CACXzB,KAAM,KACNxI,MAAO,MALQwJ,qHAgEV,IAAAW,EAAAR,KACCnB,EAASmB,KAAKM,MAAdzB,KAER,OADAzJ,QAAQC,IAAI,MAAOwJ,GAEjBvJ,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACge,EAAA,EAAD,KAIEle,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,SAASC,OAAQ,SAAA/e,GAAK,OAAIS,EAAAC,EAAAC,cAACqe,EAAD/T,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBwB,MAAOmK,EAAKF,MAAMjK,MAAOD,aAAcoK,EAAK+S,aAAcve,kBAAmBwL,EAAKxL,wBAChJM,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,SAASC,OAAQ,SAAA/e,GAAK,OAAIS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,oBAC9FhK,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,aAAaC,OAAQ,SAAA/e,GAAK,OAAIS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,oBAK/GhK,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,kBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAACwe,GAADlU,OAAAkK,OAAA,GAAuBnV,EAAvB,CAA8BgK,KAAMA,SAK5CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAACye,EAADnU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,SAK7CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,oBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAAC0e,GAADpU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,SAK7CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,2BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAAC2e,GAADrU,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,8BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAAC4e,GAADtU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,SAK7CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,qCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAAC6e,GAADvU,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,sCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAAC8e,GAADxU,OAAAkK,OAAA,GAA2BnV,EAA3B,CAAkCgK,KAAMA,SAKhDvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,qBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAAC+e,GAADzU,OAAAkK,OAAA,GAAyBnV,EAAzB,CAAgCgK,KAAMA,SAK9CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,yBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAACgf,GAAD1U,OAAAkK,OAAA,GAAyBnV,EAAzB,CAAgCgK,KAAMA,SAK9CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,gCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACue,GAADjU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAC7DhK,EAAAC,EAAAC,cAACif,GAAD3U,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAOvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,cAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACkf,EAAD5U,OAAAkK,OAAA,GAAenV,EAAf,CAAsBgK,KAAMA,SAKpCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,6BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACye,EAADnU,OAAAkK,OAAA,GAAwBnV,EAAxB,CAA+BgK,KAAMA,SAO7CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,oBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACmf,EAAD7U,OAAAkK,OAAA,GAAmBnV,EAAnB,CAA0BgK,KAAMA,SAKxCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,2BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACof,EAAD9U,OAAAkK,OAAA,GAAqBnV,EAArB,CAA4BgK,KAAMA,SAK1CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,kCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACqf,EAAD/U,OAAAkK,OAAA,GAAmBnV,EAAnB,CAA0BgK,KAAMA,SAKxCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,yCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACsf,EAADhV,OAAAkK,OAAA,GAAqBnV,EAArB,CAA4BgK,KAAMA,SAK1CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,yCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACuf,EAADjV,OAAAkK,OAAA,GAAqBnV,EAArB,CAA4BgK,KAAMA,SAO1CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,mBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACwf,EAADlV,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAKvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,0BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACyf,EAADnV,OAAAkK,OAAA,GAAoBnV,EAApB,CAA2BgK,KAAMA,SAKzCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,gCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC0f,EAADpV,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAKvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,uCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC2f,GAADrV,OAAAkK,OAAA,GAAoBnV,EAApB,CAA2BgK,KAAMA,SAKzCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,uCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC4f,GAADtV,OAAAkK,OAAA,GAAoBnV,EAApB,CAA2BgK,KAAMA,SAOzCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,gBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC6f,GAADvV,OAAAkK,OAAA,GAAenV,EAAf,CAAsBgK,KAAMA,SAKpCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,uBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC8f,GAADxV,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,0BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC+f,GAADzV,OAAAkK,OAAA,GAAenV,EAAf,CAAsBgK,KAAMA,SAKpCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACggB,GAAD1V,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACigB,GAAD3V,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,kCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACkgB,GAAD5V,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAOvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACmgB,GAAD7V,OAAAkK,OAAA,GAAgBnV,EAAhB,CAAuBgK,KAAMA,SAKrCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,qBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACogB,GAAD9V,OAAAkK,OAAA,GAAqBnV,EAArB,CAA4BgK,KAAMA,SAK1CvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,4BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACif,GAAD3U,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAKvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,4BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACqgB,GAAD/V,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAOvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,gBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACsgB,GAADhW,OAAAkK,OAAA,GAAenV,EAAf,CAAsBgK,KAAMA,SAKpCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,uBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC2e,GAADrU,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,0BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACugB,GAADjW,OAAAkK,OAAA,GAAenV,EAAf,CAAsBgK,KAAMA,SAKpCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC6e,GAADvU,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAKtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,iCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACwgB,GAADlW,OAAAkK,OAAA,GAAiBnV,EAAjB,CAAwBgK,KAAMA,SAOtCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,mBAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAACygB,GAADnW,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAKvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,0BAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC0gB,GAADpW,OAAAkK,OAAA,GAAoBnV,EAApB,CAA2BgK,KAAMA,SAKzCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,gCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC2gB,GAADrW,OAAAkK,OAAA,GAAkBnV,EAAlB,CAAyBgK,KAAMA,SAKvCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,uCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC4gB,GAADtW,OAAAkK,OAAA,GAAoBnV,EAApB,CAA2BgK,KAAMA,SAKzCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,uCAChBC,OACE,SAAA/e,GAAK,OACHS,EAAAC,EAAAC,cAACse,EAADhU,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBgK,KAAMA,EAAMS,cAAekB,EAAKlB,gBAChDhK,EAAAC,EAAAC,cAAC6gB,GAADvW,OAAAkK,OAAA,GAAoBnV,EAApB,CAA2BgK,KAAMA,SAOzCvJ,EAAAC,EAAAC,cAACie,EAAA,EAAD,CAAOG,OAAQ,SAAA/e,GAAK,OAAIS,EAAAC,EAAAC,cAACqe,EAAD/T,OAAAkK,OAAA,GAAWnV,EAAX,CAAkBwB,MAAOmK,EAAKF,MAAMjK,MAAOD,aAAcoK,EAAK+S,aAAcve,kBAAmBwL,EAAKxL,iCA3dpHgM,aAoeHC,eAAWmS,ICthB1BkD,IAAS1C,OAAOte,EAAAC,EAAAC,cAAC+gB,EAAA,EAAD,KAAcjhB,EAAAC,EAAAC,cAACghB,GAAD,OAAwBrH,SAASC,eAAe","file":"static/js/main.73fece43.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Alert = props => {\r\n    const { type, message } = props;\r\n    const { handlerCloseAlert } = props;\r\n    const onClickCloseAlert = e => {\r\n        e.preventDefault();\r\n        handlerCloseAlert();\r\n    }\r\n    console.log(type, message);\r\n    switch (type) {\r\n        \r\n        case \"warnig\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        case \"success\" : return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-success fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n        default: return (\r\n            <div className=\"container\">\r\n                <div className=\"alert alert-warning fade show mt-3\" role=\"alert\" style={{zIndex: '1000'}}>\r\n                    <span>{message}</span>\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\" onClick={onClickCloseAlert}>\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default Alert;\r\n\r\n","import React from 'react';\r\nimport Alert from '../Alert';\r\n\r\nconst Login = props => {\r\n    const {handlerLogin, handlerCloseAlert} = props;\r\n    let login, password;\r\n    const onClickLogin = e => {\r\n        e.preventDefault();\r\n        handlerLogin(login.value, password.value);\r\n    };\r\n    return (\r\n        <div>\r\n            {props.alert && <Alert type={props.alert.type} message={props.alert.message} handlerCloseAlert={handlerCloseAlert}/>}\r\n            <div className=\"bg-light d-flex align-items-center\" style={{position: \"absolute\", top: \"0\", left: \"0\", right: \"0\", bottom: \"0\"}}>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Учет электроэнергии</h3>\r\n                            </div>\r\n                            <form className=\"\">\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Имя пользователя\" required autoFocus ref={r => login = r}/>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" className=\"form-control\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                                </div>\r\n                                <div>\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickLogin}>Вход</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"fixed-bottom mb-5\">\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-4 col-offset-4 text-center\">\r\n                            <span className=\"text-muted\">© 2019</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","import fetch from 'isomorphic-fetch';\r\nimport {saveAs} from 'file-saver';\r\n\r\nconst api = {\r\n    login: (login, password) => {\r\n        const data = {login, password};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/auth/login';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllUsers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/users';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    changeUserPassword: (token, id, password) => {\r\n        const data = {password};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/users/${id}/changePassword`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllInspectors: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountInspectors: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/inspectors/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createInspector: (token, login, password, name) => {\r\n        const data = {login, password, name};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/inspectors';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorById: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            cache: 'no-cache',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/${inspector_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getInspectorByUserId: (token, user_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/user/${user_id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                console.log(promise);\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateInspectorById: (token, id, name) => {\r\n        const data = {name};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteInspectorById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/inspectors/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllConsumers: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const params = [];\r\n        if (limit) params.push(`limit=${limit}`);\r\n        if (!isNaN(offset)) params.push(`offset=${offset}`);\r\n        const url = `/api/v1/consumers?${params.join('&')}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountConsumers: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/consumers/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createConsumer: (token, login, password, name, email, phone) => {\r\n        const data = {login, password, name, email, phone};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/consumers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateConsumerById: (token, id, name, email, phone) => {\r\n        const data = {name, email, phone};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteConsumerById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/consumers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });  \r\n    },\r\n\r\n    getAllMeters: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountMeters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/meters/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllMetersNotInPlace: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/meters/notInPlace';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createMeter: (token, number) => {\r\n        const data = {number: number};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/meters';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateMeterById: (token, id, number) => {\r\n        const data = {number};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteMeterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/meters/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountPlaces: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/places/count';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlaces: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllPlacesForAudit: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = '/api/v1/places/audit';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createPlace: (token, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/places';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getPlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updatePlaceById: (token, id, name, isSignNeed, consumer_id, meter_id) => {\r\n        const data = {name, isSignNeed, consumer_id, meter_id};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deletePlaceById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/places/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllReports: (token, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports?limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountReports: (token, inspector_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/count?inspector_id=${inspector_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getReportByIdPdf: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/pdf',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/reports/${id}/pdf`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `report-${Date.now()}.pdf`));\r\n    },\r\n\r\n    getAllReportsByInspectorId: (token, inspector_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createReport: (token, inspector_id, place_id, sign_id, date, value) => {\r\n        const data = {inspector_id, place_id, sign_id, date, value};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/reports';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateReportById: (token, id, value) => {\r\n        const data = {value};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteReportById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllDataByMeterId: (token, meter_id, limit, offset) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/data?meter_id=${meter_id || \"\"}&offset=${offset}&limit=${limit}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getCountDatas: (token, meter_id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/data/count?meter_id=${meter_id || \"\"}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createData: (token, meter_id, date, value) => {\r\n        const data = {date, value, meter_id};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/data';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createSign: (token, data) => {\r\n        const formData = new FormData();\r\n        formData.append('sign', data, `sing-${Date.now()}.png`);\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                // 'Content-Type': 'multipart/form-data',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: formData\r\n        };\r\n        const url = '/api/v1/signs';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteSignById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/signs/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    sendReport: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/reports/${id}/sendEmail`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    createRegister: (token, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = '/api/v1/registers';\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    getRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    updateRegisterById: (token, id, name, group_abonent_id, sub_abonentes) => {\r\n        console.log(name, group_abonent_id, sub_abonentes);\r\n        const data = {name, group_abonent_id, sub_abonentes: sub_abonentes};\r\n        const opt = {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            body: JSON.stringify(data)\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    deleteRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `BEARER ${token}`\r\n            }\r\n        };\r\n        const url = `/api/v1/registers/${id}`;\r\n        return fetch(url, opt)\r\n            .then(res => {\r\n                const promise = res.json();\r\n                return res.ok ? promise : promise.then(err => {throw err});\r\n            });\r\n    },\r\n\r\n    downloadXlsxRegisterById: (token, id) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/registers/${id}/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    downloadXlsxAllRegisters: (token) => {\r\n        const opt = {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/xlsx',\r\n                'Authorization': `BEARER ${token}`\r\n            },\r\n            responseType: 'blob'\r\n        };\r\n        const url = `/api/v1/registers/xlsx`;\r\n        return fetch(url, opt)\r\n            .then(response => response.blob())\r\n            .then(blob => saveAs(blob, `register-${Date.now()}.xlsx`));\r\n    },\r\n\r\n    act_01: {\r\n        getAll: (token, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01?limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        count: (token, inspector_id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/count?inspector_id=${inspector_id || \"\"}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        getPdfById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/pdf',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                responseType: 'blob'\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}/pdf`;\r\n            return fetch(url, opt)\r\n                .then(response => response.blob())\r\n                .then(blob => saveAs(blob, `act-${Date.now()}.pdf`));\r\n        },\r\n    \r\n        getAllByInspectorId: (token, inspector_id, limit, offset) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01?inspector_id=${inspector_id}&limit=${limit}&offset=${offset}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        create: (token, inspector, consumer, place, meter, sign_id, date, value) => {\r\n            const data = {inspector, consumer, place, meter, sign_id, date, value};\r\n            const opt = {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = '/api/v1/doc/act_01';\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        updateById: (token, id, value) => {\r\n            const data = {value};\r\n            const opt = {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                },\r\n                body: JSON.stringify(data)\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    \r\n        deletetById: (token, id) => {\r\n            const opt = {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n\r\n        sendEmailById: (token, id) => {\r\n            const opt = {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `BEARER ${token}`\r\n                }\r\n            };\r\n            const url = `/api/v1/doc/act_01/${id}/sendEmail`;\r\n            return fetch(url, opt)\r\n                .then(res => {\r\n                    const promise = res.json();\r\n                    return res.ok ? promise : promise.then(err => {throw err});\r\n                });\r\n        },\r\n    },\r\n\r\n};\r\n\r\nexport default api;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst NavLink = props => {\r\n  const onClickBack = e => {\r\n    e.preventDefault();\r\n    props.history.goBack();\r\n  };\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <Link className=\"nav-link\" to=\"/back\" onClick={onClickBack}>Назад</Link>\r\n      {\r\n        props.children\r\n      }\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default NavLink;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\n\r\nconst UserChangePassword = props => {\r\n  let password, confirmPassword;\r\n  const user = props.user\r\n  const onClickSave = e => {\r\n    e.preventDefault();\r\n    if (password.value === confirmPassword.value) {\r\n      api.changeUserPassword(user.token, user.id, password.value)\r\n        .then(done => {\r\n          if (done) {\r\n            props.showSuccessAlert('Пароль изменен');\r\n            props.history.goBack();\r\n          }\r\n          else {\r\n            props.showWarningAlert('Неудалось изменить пароль');\r\n          }\r\n        })\r\n        .catch(({error}) => {\r\n          props.showWarningAlert(error.message);\r\n        });\r\n    }\r\n    else {\r\n      props.showWarningAlert('Пароли не совпадают');\r\n    }\r\n  };\r\n  if (user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Смена пароля</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Новый пароль\" required ref={r => password = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default UserChangePassword;\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/owner/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-tie\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/inspectors\">Инспекторы</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/consumers\">Потребители</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/meters\">Счетчики</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/owner/registers\">Реестры</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-4 col-offset-4 text-center\">\r\n                        <span className=\"text-muted\">© 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nclass Owner extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            alert: null\r\n        }\r\n    }\r\n\r\n    // componentWillMount() {\r\n    //     if (!this.state.user) {\r\n    //         this.props.history.push('/login');\r\n    //     }\r\n    // }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        const { user } = this.state;\r\n        console.log('OWNER', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Owner);\r\n","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst OwnerInfo = props => {\r\n  if (props.user) {\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...props}>\r\n          <Link className=\"nav-link\" to={`/owner/user/changePassword`}>Поменять пароль</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Роль</span></td>\r\n                <td><span className=\"font-weight-bold\">{props.user.role}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default OwnerInfo;","import React from 'react';\r\n\r\nconst ProgressBar = props => {\r\n  const {message, large} = props;\r\n  return (\r\n    <div className=\"progress\" style={ large ? {height: '2.5rem'} : {height: '3px'}}>\r\n      <div className=\"progress-bar progress-bar-striped progress-bar-animated text-center\" role=\"progressbar\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\" style={{width: \"100%\"}}>\r\n        {\r\n          message\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProgressBar;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspectors: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountInspectors(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const inspectors = await api.getAllInspectors(token, limit, offset);\r\n        this.setState({ ...this.state, inspectors, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/inspectors/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table inspectors={this.state.inspectors}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {inspectors} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Login</th>\r\n            <th scope=\"col\" className=\"text-center\">Name</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n            inspectors && inspectors.map(inspector => <TableRow key={`${inspector.id}-${inspector.name}`} inspector={inspector}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {inspector} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n      <Link to={`/owner/inspectors/${inspector.id}`}>{inspector.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{inspector.login}</td>\r\n      <td className=\"text-center\">{inspector.name}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default InspectorList;","import React, {Component} from 'react';\r\n\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorCreate extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  handleInspectorCreate = (login, password, name) => {\r\n    const token = this.state.user.token;\r\n    this.setState({...this.state, isProcessing: true});\r\n    api.createInspector(token, login, password, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.setAlert('warning', error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n\r\n    let login, password, confirmPassword, name;\r\n\r\n    const onClickCreateInspector = e => {\r\n      e.preventDefault();\r\n      if (password.value !== confirmPassword.value) {\r\n        this.props.setAlert('warning', 'Не верный пароль');\r\n      }\r\n      else {\r\n        this.handleInspectorCreate(login.value, password.value, name.value);\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"container\">\r\n          <NavBar {...this.props}/>\r\n          <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n              <div className=\"text-center font-weight-bold mb-5\">\r\n                  <h3>Добавить инспектора</h3>\r\n              </div>\r\n              <form>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r}/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r}/>\r\n                </div>\r\n                {\r\n                  this.state.isProcessing ?\r\n                    <ProgressBar message={'Обработка...'} large={true}/> :\r\n                    <div className=\"form-group\">\r\n                      <button className=\"btn btn-primary btn-block\" onClick={onClickCreateInspector}>Создать</button>\r\n                    </div>\r\n                }\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    api.getInspectorById(this.state.user.token, this.state.inspector.id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n          this.setState({...this.state, isLoaded: true}, () => {\r\n            this.props.showWarningAlert(error.message);\r\n          });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { inspector } = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/inspectors/${inspector.id}/delete`}>Удалить</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Инспектор</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.login}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Имя</span></td>\r\n                <td><span className=\"font-weight-bold\">{inspector.name}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass InspectorUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      user: props.user,\r\n      isLoding: false,\r\n      isLoaded: false,\r\n      isProcessing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.setState({...this.state, isLoding: true});\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({ ...this.state, inspector, isLoaded: true });\r\n        }\r\n        else {\r\n          this.setState({ ...this.state, isLoaded: true }, () => {\r\n            //this.props.setAlert('warning', 'Inspector not found');\r\n            this.props.showWarningAlert('Inspector not found');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({ ...this.state, isLoaded: true }, () => {\r\n          //this.props.setAlert('warning', error.message);\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  handleUpdateInspector = name => {\r\n    if (!name) {\r\n      return this.props.showWarningAlert('Неправильное имя инспектора');\r\n    }\r\n\r\n    this.setState({...this.state, isProcessing: true});\r\n\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.updateInspectorById(token, inspector_id, name)\r\n      .then(inspector => {\r\n        if (inspector) {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showSuccessAlert('Имя инспектора успешно изменено');\r\n            this.props.history.goBack();\r\n          });\r\n        }\r\n        else {\r\n          this.setState({...this.state, isProcessing: false}, () => {\r\n            this.props.showWarningAlert('Инспектор не найден');\r\n          });\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcessing: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    const { inspector } = this.state;\r\n    let name;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateInspector(name.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить имя инспектора</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Ф.И.О. инспектора\" required ref={r => name = r} defaultValue={inspector.name} />\r\n              </div>\r\n              {\r\n                this.state.isProcessing ?\r\n                  <ProgressBar message={'Обработка...'} large={true} /> :\r\n                  <div className=\"form-group\">\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                  </div>\r\n              }\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: {\r\n        id: props.match.params.inspector_id\r\n      },\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.getInspectorById(token, inspector_id)\r\n      .then(inspector => {\r\n        if (!inspector) throw new Error({error: {message: 'Inspector not found'}});\r\n        this.setState({...this.state, inspector, isLoaded: true});\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({...this.state, isLoaded: true}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n          this.props.history.goBack();\r\n        });\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const inspector_id = this.state.inspector.id;\r\n    api.deleteInspectorById(token, inspector_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.setAlert('success', 'Инспектор удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message)\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const {inspector} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить инспектора ${inspector.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default InspectorDelete;","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass ConsumerList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumers: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountConsumers(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const consumers = await api.getAllConsumers(token, limit, offset);\r\n        this.setState({ ...this.state, consumers, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/owner/consumers/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table consumers={this.state.consumers}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const {consumers} = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Логин</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Email</th>\r\n            <th scope=\"col\" className=\"text-center\">Телефон</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{fontSize: '0.85rem'}}>\r\n          {\r\n              consumers && consumers.map(consumer => <TableRow key={`${consumer.id}-${consumer.login}-${consumer.name}-${consumer.email}`} consumer={consumer}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const {consumer} = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\"><Link to={`/owner/consumers/${consumer.id}`}>{consumer.id}</Link></td>\r\n      <td className=\"text-center\">{consumer.login}</td>\r\n      <td className=\"text-center\">{consumer.name}</td>\r\n      <td className=\"text-center\">{consumer.email}</td>\r\n      <td className=\"text-center\"><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ConsumerList;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst GoBackLink = props => <Link className=\"nav-link\" to='/back' onClick={e => {e.preventDefault(); props.history.goBack();}}>Назад</Link>;\r\n\r\nexport default GoBackLink;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    handleCreateConsumer = (login, password, name, email, phone) => {\r\n        const token = this.state.user.token;\r\n        this.setState({ ...this.state, isLoaded: false });\r\n        api.createConsumer(token, login, password, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showSuccessAlert('Потребитель добавлен');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не добавлен');\r\n                    this.setState({ ...this.state, isLoaded: true });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.setState({ ...this.state, isLoaded: true });\r\n            });\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n    }\r\n\r\n    render() {\r\n        let login, password, confirmPassword, name, email, phone;\r\n\r\n        const onClickCreateConsumer = e => {\r\n            e.preventDefault();\r\n            if (!login || !password || !confirmPassword || !name || !email) {\r\n                return this.showWarningAlert('Некорректрые данные в форме');\r\n            }\r\n            if (password.value === confirmPassword.value) {\r\n                this.handleCreateConsumer(login.value, password.value, name.value, email.value, phone.value);\r\n            }\r\n            else {\r\n                this.props.showWarningAlert('Пароли не совпадают');\r\n            }\r\n        };\r\n\r\n        return (\r\n            <div>\r\n                {\r\n                    !this.state.isLoaded && <ProgressBar />\r\n                }\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить потребителя</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Логин\" required autoFocus ref={r => login = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Пароль\" required ref={r => password = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"password\" placeholder=\"Подтвердить пароль\" required ref={r => confirmPassword = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required ref={r => email = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"email\" placeholder=\"Номер телефона\" required ref={r => phone = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreateConsumer}>Создать</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ConsumerInfo extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Потребитель не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        const { consumer } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/consumers/${consumer.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Потребитель</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Логин</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.login}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Email</span></td>\r\n                                <td><span className=\"font-weight-bold\">{consumer.email}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><a className=\"font-weight-bold\" href={`tel:${consumer.phone}`}>{consumer.phone}</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default ConsumerInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass ConsumerUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumer: {\r\n                id: props.match.params.consumer_id\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.getConsumerById(token, consumer_id)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.setState({ ...this.state, consumer });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Потребитель не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleUpdateConsumer = (name, email, phone) => {\r\n        if (!name || !email) {\r\n            return this.props.showWarningAlert('Некорректные данные в форме');\r\n        }\r\n        const token = this.state.user.token;\r\n        const consumer_id = this.state.consumer.id;\r\n        api.updateConsumerById(token, consumer_id, name, email, phone)\r\n            .then(consumer => {\r\n                if (consumer) {\r\n                    this.props.showSuccessAlert('Потребитель успешно изменен');\r\n                    this.props.history.goBack();\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Неудалось изменить потребителя')\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        const { consumer } = this.state;\r\n        let name, email, phone;\r\n        const onClickUpdateConsumer = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateConsumer(name.value, email.value, phone.value);\r\n        }\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}/>\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-5\">\r\n                            <h3>Редактировать потребителя</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название потребителя\" required autoFocus defaultValue={consumer.name} ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"email\" placeholder=\"Email\" required defaultValue={consumer.email} ref={r => email = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Email\" required defaultValue={consumer.phone} ref={r => phone = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateConsumer}>Сохранить</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst NavBar = props => {\r\n    return (\r\n        <nav className=\"nav my-2\">\r\n            <GoBackLink {...props} />\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default ConsumerUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ConsumerDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      consumer: {\r\n        id: props.match.params.consumer_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.getConsumerById(token, consumer_id)\r\n      .then(consumer => {\r\n        if (consumer) {\r\n          this.setState({...this.state, consumer});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Потребитель не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const consumer_id = this.state.consumer.id;\r\n    api.deleteConsumerById(token, consumer_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Потребитель удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {consumer} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить потребителя ${consumer.name}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ConsumerDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass MeterList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meters: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountMeters(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const meters = await api.getAllMeters(token, limit, offset);\r\n        this.setState({ ...this.state, meters, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to=\"/owner/meters/create\">Добавить</Link>\r\n        </NavBar>\r\n        <Table meters={this.state.meters} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { meters } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Number</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            meters && meters.map(meter => <TableRow key={`${meter.id}-${meter.number}`} meter={meter} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { meter } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/meters/${meter.id}`}>{meter.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{meter.number}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default MeterList;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterLink extends Component {\r\n\r\n  handleCreateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.props.user.token;\r\n    api.createMeter(token, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик добавлен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Неудалось добавить счетчик');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const onClickCreate = e => {\r\n      e.preventDefault();\r\n      this.handleCreateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterLink;","import dateformat from 'dateformat';\r\n\r\nexport const parseDate = date => {\r\n    if (!date) return null;\r\n    const tmp = date.split('T');\r\n    const tmpDate = tmp[0].split('-');\r\n    const tmpTime = tmp[1].split(':');\r\n    return `${tmpDate.join('-')} ${tmpTime[0]}:${tmpTime[1]}:${tmpTime[2].split('.')[0]}`;\r\n};\r\n\r\nexport const toDate = date => {\r\n    return new Date(date);\r\n}\r\n\r\nexport const formatDate = date => {\r\n    const tmp = new Date(date);\r\n    const year = tmp.getFullYear();\r\n    const month = tmp.getMonth() + 1;\r\n    const day = tmp.getDate();\r\n    const hour = tmp.getHours();\r\n    const minutes = tmp.getMinutes();\r\n    const seconds = tmp.getSeconds();\r\n    return `${year}-${month < 9 ? `0${month}` : month}-${day} ${hour}:${minutes}:${seconds}`;\r\n};\r\n\r\nexport const prettyDate = date => {\r\n    const datePattern = 'dd.mm.yyyy HH:MM:ss';\r\n    return dateformat(new Date(date), datePattern);\r\n}\r\n\r\nexport const strBase64ToBin = strBase64 => {\r\n    const blobBin = atob(strBase64.split(',')[1]);\r\n    let array = [];\r\n    for (let i = 0; i < blobBin.length; i++) {\r\n        array.push(blobBin.charCodeAt(i));\r\n    }\r\n    const file = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n    return file;\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass MeterInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      },\r\n      datas: [],\r\n      limit: 15,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  loadItems = (meter, pageNumber) => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountDatas(token, meter.id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const datas = await api.getAllDataByMeterId(token, meter.id, limit, offset);\r\n        this.setState({ ...this.state, meter, datas, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, meter, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          // api.getAllDataByMeterId(token, meter_id)\r\n          //   .then(datas => {\r\n          //     if (datas) {\r\n          //       this.setState({ ...this.state, meter, datas, isLoaded: true});\r\n          //     }\r\n          //     else {\r\n          //       this.setState({ ...this.state, meter, isLoaded: true});\r\n          //     }\r\n          //   })\r\n          //   .catch(({ error }) => {\r\n          //       this.props.showWarningAlert(error.message);\r\n          //       this.props.history.goBack();\r\n          //   });\r\n          return Promise.resolve()\r\n            .then(this.loadItems(meter, this.state.activePage))\r\n            .catch(({ error }) => {\r\n              this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.meter, pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    const { meter } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/update`}>Изменить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/delete`}>Удалить</Link>\r\n          <Link className=\"nav-link\" to={`/owner/meters/${meter.id}/addData`}>Добавить показания</Link>\r\n        </NavBar>\r\n        <h3 className=\"text-center mb-2\">Счетчик</h3>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-hover table-sm border-bottom\">\r\n            <tbody>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.id}</span></td>\r\n              </tr>\r\n              <tr>\r\n                <td><span className=\"font-weight-bold\">Номер</span></td>\r\n                <td><span className=\"font-weight-bold\">{meter.number}</span></td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <h3 className=\"text-center mb-2\">Показания</h3>\r\n        <Table datas={this.state.datas} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { datas } = props;\r\n  return (\r\n    <table className=\"table table-bordered table-hover table-sm\">\r\n      <thead className=\"thead-dark\">\r\n        <tr>\r\n          <th scope=\"col\" className=\"text-center\">Дата</th>\r\n          <th scope=\"col\" className=\"text-center\">Показание</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody style={{ fontSize: '0.85rem' }}>\r\n        {\r\n          datas && datas.map(data => <TableRow key={`${data.id}-${data.date}`} data={data} />)\r\n        }\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { data } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">{prettyDate(data.date)}</td>\r\n      <td className=\"text-center\">{data.value}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default MeterInfo;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport GoBackLink from '../GoBackLink';\r\n\r\nclass MeterUpdate extends Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateMeter = number => {\r\n    if (!number) {\r\n      this.props.showWarningAlert('Некорректный номер счетчика');\r\n      return;\r\n    }\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.updateMeterById(token, meter_id, number)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.props.showSuccessAlert('Счетчик успешно изменен');\r\n          this.props.history.goBack();\r\n        }\r\n        else {\r\n          this.props.showWarningAlert(\"Неудалось изменить счетчик\");\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let number;\r\n    const {meter} = this.state;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateMeter(number.value);\r\n    }\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props}/>\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Редактировать счетчик</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"text\" placeholder=\"Номер счетчика\" required ref={r => number = r} defaultValue={meter.number}/>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst NavBar = props => {\r\n  return (\r\n    <nav className=\"nav my-2\">\r\n      <GoBackLink {...props}/>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default MeterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass MeterDelete extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      meter: {\r\n        id: props.match.params.meter_id\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.getMeterById(token, meter_id)\r\n      .then(meter => {\r\n        if (meter) {\r\n          this.setState({...this.state, meter});\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Счетчик не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleClickYes = e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    const meter_id = this.state.meter.id;\r\n    api.deleteMeterById(token, meter_id)\r\n      .then(done => {\r\n        if (done) {\r\n          this.props.showSuccessAlert('Счетчик удален');\r\n          this.props.history.go(-2);\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  handleClickNo = e => {\r\n    e.preventDefault();\r\n    this.props.history.goBack();\r\n  }\r\n\r\n  render() {\r\n    const {meter} = this.state;\r\n    return (\r\n      <div className=\"container pt-2\">\r\n        <div className=\"border p-5\">\r\n          <div className=\"mb-5\">\r\n            <p className=\"h3 text-center\">{`Удалить счетчик ${meter.number}?`}</p>\r\n          </div>\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div className=\"ml-5\">\r\n              <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n            </div>\r\n            <div className=\"mr-5\">\r\n              <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MeterDelete;","import React from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport {formatDate} from '../../lib/helpers';\r\n\r\nconst MeterAddData = props => {\r\n  const token = props.user.token;\r\n  const meter_id = props.match.params.meter_id;\r\n  let val;\r\n  const onClickAdd = e => {\r\n    e.preventDefault();\r\n    if (!val.value) {\r\n      props.showWarningAlert(\"Не корректные показания счетчика\");\r\n      return;\r\n    }\r\n    const date = formatDate(Date.now());\r\n    console.log(meter_id, date, val.value);\r\n    api.createData(token, meter_id, date, val.value)\r\n      .then(data => {\r\n        if (data) {\r\n          props.showSuccessAlert('Показания добавлены');\r\n          props.history.goBack();\r\n        }\r\n        else {\r\n          props.showWarningAlert('Неудалось добавить показания счетчика');\r\n        }\r\n      })\r\n      .catch(({error}) => {\r\n        props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"container justify-content-center\">\r\n      <NavBar {...props}/>\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n          <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Добавить показание счетчика</h3>\r\n          </div>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <input className=\"form-control\" type=\"text\" placeholder=\"Показание, кВт\" required autoFocus ref={r => val = r}/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <button className=\"btn btn-primary btn-block\" onClick={onClickAdd}>Добавить</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeterAddData;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass PlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        const places = await api.getAllPlaces(token, limit, offset);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar />\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to={`/owner/places/create`}>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Подпись</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/places/${place.id}`}>{place.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{place.name}</td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.consumer ? <Link to={`/owner/consumers/${place.consumer.id}`}>{place.consumer.name}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">\r\n        {\r\n          place.meter ? <Link to={`/owner/meters/${place.meter.id}`}>{place.meter.number}</Link> : null\r\n        }\r\n      </td>\r\n      <td className=\"text-center\">{place.isSignNeed ? 'Да' : 'Нет'}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default PlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: meters || [],\r\n                        consumers: consumers || []\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleCreatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n        this.setState({...this.state, isProcess: true});\r\n        const token = this.state.user.token;\r\n        api.createPlace(token, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    //this.props.showSuccessAlert('Место добавлено');\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Не удалось добавить новое место');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const onClickCreate = e => {\r\n            e.preventDefault();\r\n            this.handleCreatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Создание...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickCreate}>Добавить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceCreate;","import React, {Component} from 'react';\r\nimport api from '../../lib/api';\r\nimport {Link} from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport {prettyDate} from '../../lib/helpers';\r\n\r\nclass PlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({...this.state, place, isLoaded: true});\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({error}) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        const {place} = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/places/${place.id}/delete`}>Удалить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass PlaceUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            consumers: [],\r\n            meters: [],\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false,\r\n            isProcess: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        Promise.resolve()\r\n            .then(\r\n                async () => {\r\n                    const token = this.state.user.token;\r\n                    const place_id = this.state.place.id;\r\n                    const meters = await api.getAllMetersNotInPlace(token);\r\n                    const consumers = await api.getAllConsumers(token);\r\n                    const place = await api.getPlaceById(token, place_id);\r\n                    this.setState({\r\n                        ...this.state,\r\n                        isLoaded: true,\r\n                        meters: place.meter ? [...meters, place.meter] : meters,\r\n                        consumers: consumers || [],\r\n                        place\r\n                    });\r\n                },\r\n                ({ error }) => {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                }\r\n            )\r\n    }\r\n\r\n    handleUpdatePlace = (name, isSignNeed, consumer_id, meter_id) => {\r\n        if (!name) {\r\n            return this.props.showWarningAlert('Некорректное название места');\r\n        }\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.updatePlaceById(token, place_id, name, isSignNeed, consumer_id, meter_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Место сохранено');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert('Место не сохранено');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({...this.state, isProcess: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        let name, isSignNeed, consumer_id, meter_id;\r\n        const { place } = this.state;\r\n        const onClickUpdate = e => {\r\n            e.preventDefault();\r\n            this.handleUpdatePlace(name.value, isSignNeed.checked, consumer_id.value, meter_id.value);\r\n        }\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container\">\r\n                    <NavBar {...this.props} />\r\n                    <div className=\"row justify-content-center mt-3\">\r\n                        <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                            <div className=\"text-center font-weight-bold mb-5\">\r\n                                <h3>Добавить место установки счетчика</h3>\r\n                            </div>\r\n                            <form>\r\n                                <div className=\"form-group\">\r\n                                    <input className=\"form-control\" type=\"text\" placeholder=\"Название места\" required autoFocus defaultValue={place.name} ref={r => name = r} />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbMeters\">Счетчики</label>\r\n                                    <select className=\"form-control\" id=\"cmbMeters\" ref={r => meter_id = r} defaultValue={place.meter ? place.meter.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.meters.map(meter => <option key={`${meter.id}`} value={`${meter.id}`}>{`${meter.number}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <label htmlFor=\"cmbConsumers\">Потребители</label>\r\n                                    <select className=\"form-control\" id=\"cmbConsumers\" ref={r => consumer_id = r} defaultValue={place.consumer ? place.consumer.id : null}>\r\n                                        <option></option>\r\n                                        {\r\n                                            this.state.consumers.map(consumer => <option key={`${consumer.id}`} value={`${consumer.id}`}>{`${consumer.name}`}</option>)\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group form-check\">\r\n                                    <input type=\"checkbox\" className=\"form-check-input\" id=\"cbIsSignNeed\" required ref={r => isSignNeed = r} defaultChecked={place.isSignNeed} />\r\n                                    <label className=\"form-check-label\" htmlFor=\"cbIsSignNeed\">Подпись?</label>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                {\r\n                                    this.state.isProcess ?\r\n                                    <ProgressBar message=\"Изменение...\" large={true}/> :\r\n                                    <button className=\"btn btn-primary btn-block\" onClick={onClickUpdate}>Сохранить</button>\r\n                                }\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass PlaceDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(place => {\r\n                if (place) {\r\n                    this.setState({ ...this.state, place, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Место не найдено');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.deletePlaceById(token, place_id)\r\n            .then(done => {\r\n                if (done) {\r\n                    this.props.showSuccessAlert('Место удалено');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { place } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить место ${place.name}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default PlaceDelete;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      //const result = await api.getCountReports(token);\r\n      const result = await api.act_01.count(token);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReports(token, limit, offset);\r\n        const acts = await api.act_01.getAll(token, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({ ...this.state, isLoaded: true });\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return <ProgressBar/>;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/owner/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default ReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass OwnerReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    downloadPdf = id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/reports/${act.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(act.date)}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSignId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date !== null ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date !== null ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_value !== null && act.last_value !== null ? act.current_value - act.last_value : (\r\n                                                act.current_value !== null ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default OwnerReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass ReportUpdate extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      act: {\r\n        id: props.match.params.id\r\n      },\r\n      isLoaded: false,\r\n      isProcess: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.getReportById(token, report_id)\r\n    api.act_01.getById(token, id)\r\n      .then(act => {\r\n        if (act) {\r\n          this.setState({ ...this.state, act, isLoaded: true });\r\n        }\r\n        else {\r\n          this.props.showWarningAlert('Отчет не найден');\r\n          this.props.history.goBack();\r\n        }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n        this.props.history.goBack();\r\n      });\r\n  }\r\n\r\n  handleUpdateReport = value => {\r\n    const { act } = this.state;\r\n    if (Number.isNaN(value) || value < 0) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    if ((act.last_value !== null || act.last_value !== undefined) && (value < Number(act.last_value))) {\r\n      return this.props.showWarningAlert('Некорректное значение показания счетчика');\r\n    }\r\n    const token = this.state.user.token;\r\n    const id = this.state.act.id;\r\n    //api.updateReportById(token, report_id, value)\r\n    this.setState({...this.state, isProcess: true});\r\n    api.act_01.updateById(token, id, value)\r\n      .then(result => {\r\n        if (!result || !result.done) {\r\n          this.setState({...this.state, isProcess: false}, () => {\r\n            this.props.showWarningAlert('Неудалось изменить отчет');\r\n          });\r\n        }\r\n        else {\r\n          //api.sendReport(token, report_id)\r\n          api.act_01.sendEmailById(token, id)\r\n            .then(done => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showSuccessAlert('Отчет изменен и отправлен.');\r\n                this.props.history.goBack();\r\n              });\r\n            })\r\n            .catch(({ error }) => {\r\n              this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(\"Отчет изменен, но не отправлен. \\n\" + error.message);\r\n                this.props.history.goBack();\r\n              });\r\n            });\r\n        }\r\n\r\n        // if (result && result.done) {\r\n        //   this.props.showSuccessAlert('Показания счетчика изменены');\r\n        //   this.props.history.goBack();\r\n        // }\r\n        // else {\r\n        //   this.props.showWarningAlert('Показания не изменены');\r\n        // }\r\n      })\r\n      .catch(({ error }) => {\r\n        this.setState({...this.state, isProcess: false}, () => {\r\n          this.props.showWarningAlert(error.message);\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    const { act } = this.state;\r\n    let val;\r\n    const onClickSave = e => {\r\n      e.preventDefault();\r\n      this.handleUpdateReport(val.value);\r\n    };\r\n    return (\r\n      <div className=\"container\">\r\n        <NavBar {...this.props} />\r\n        <div className=\"row justify-content-center\">\r\n          <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n            <div className=\"text-center font-weight-bold mb-5\">\r\n              <h3>Изменить показания</h3>\r\n            </div>\r\n            <form>\r\n              <div className=\"form-group\">\r\n                <input className=\"form-control\" type=\"number\" placeholder=\"Показания счетчика\" required ref={r => val = r} defaultValue={act.current_value} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                {\r\n                  this.state.isProcess ?\r\n                    <ProgressBar message={'Изменение показаний...'} large={true}/> :\r\n                    <button className=\"btn btn-primary btn-block\" onClick={onClickSave}>Сохранить</button>\r\n                }\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default ReportUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\n\r\nclass ReportDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        //api.getReportById(token, report_id)\r\n        api.act_01.getById(token, id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: false }, () => {\r\n                        this.props.showWarningAlert('Отчет не найден');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: false }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                });\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const id = this.state.act.id;\r\n        api.act_01.deletetById(token, id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Отчет удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        const { act: { id } } = this.state;\r\n        if (this.state.isLoaded) {\r\n            return (\r\n                <div className=\"container pt-2\">\r\n                    <div className=\"border p-5\">\r\n                        <div className=\"mb-5\">\r\n                            <p className=\"h3 text-center\">{`Удалить отчет № ${id}?`}</p>\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div className=\"ml-5\">\r\n                                <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                            </div>\r\n                            <div className=\"mr-5\">\r\n                                <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\nexport default ReportDelete;","import React, { Component } from 'react';\r\n//import api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport ProgressBar from '../ProgressBar';\r\nimport { Link } from 'react-router-dom';\r\nimport api from '../../lib/api';\r\n\r\nclass RegisterList extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            registers: [],\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllRegisters(token)\r\n            .then(registers => {\r\n                if (registers) {\r\n                    this.setState({...this.state, registers, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.setState({...this.state, isLoaded: true}, () => {\r\n                        this.props.showWarningAlert('Реестры не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, isLoaded: true}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                })\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    downloadXlsxAllRegisters = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxAllRegisters(token)\r\n            .catch(({error}) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to='/owner/registers/create'>Добавить</Link>\r\n                </NavBar>\r\n                <Table registers={this.state.registers} downloadXlsx={this.downloadXlsx} downloadXlsxAllRegisters={this.downloadXlsxAllRegisters}/>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { registers } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center\">Название</th>\r\n                        <th scope=\"col\" className=\"text-center\">Групповой абонент</th>\r\n                        <th className=\"text-center\"><a className=\"text-light\" onClick={props.downloadXlsxAllRegisters} href={`api/v1/registers/xlsx`} download={`register-all-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        registers && registers.map(register => <TableRow key={`${register.id}`} register={register} downloadXlsx={props.downloadXlsx}/>)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { register } = props;\r\n    return (\r\n        <tr>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.id}</Link></td>\r\n            <td className=\"text-center\"><Link to={`/owner/registers/${register.id}`}>{register.name}</Link></td>\r\n            <td className=\"text-center\">\r\n                {\r\n                    register.group_abonent && <Link to={`/owner/places/${register.group_abonent.id}`}>{register.group_abonent.name}</Link>\r\n                }\r\n            </td>\r\n            <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadXlsx(register.id)} href={`api/v1/registers/${register.id}/xlsx`} download={`register-${register.id}-${Date.now()}.xlsx`}><i className=\"fas fa-file-excel\"></i></a></td>\r\n        </tr>\r\n    );\r\n};\r\n\r\nexport default RegisterList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterCreate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonentes: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        api.getAllPlaces(token)\r\n            .then(places => {\r\n                if (places) {\r\n                    this.setState({ ...this.state, places, isLoaded: true })\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Места не найдены');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.setState({ ...this.state, isLoaded: true }, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    handleCreateRegister = (name, group_abonent_id, sub_abonentes) => {\r\n        const token = this.state.user.token;\r\n        this.setState({...this.state, processing: true});\r\n        api.createRegister(token, name, group_abonent_id, sub_abonentes)\r\n            .then(report => {\r\n                if (report) {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showSuccessAlert('Регистор создан');\r\n                        this.props.history.goBack();\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({...this.state, processing: false}, () => {\r\n                        this.props.showWarningAlert('Регистор не создан');\r\n                    });\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.setState({...this.state, processing: false}, () => {\r\n                    this.props.showWarningAlert(error.message);\r\n                });\r\n            });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        let name, group_abonent_id, sub_abonentes_select, sub_abonentes_list;\r\n\r\n        const onClickRegisterCreate = e => {\r\n            e.preventDefault();\r\n            //console.log(name.value, group_abonent_id.value);\r\n            this.handleCreateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonentes);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            //console.log(e);\r\n            console.log(typeof group_abonent_id.value, group_abonent_id.value);\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({...this.state, group_abonent_id: id});\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonentes_select.value);\r\n\r\n            this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, sub_abonentes_select.value]});\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            //console.log(sub_abonentes_select.list);\r\n            let sub = [];\r\n            const options = sub_abonentes_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({...this.state, sub_abonentes: [...this.state.sub_abonentes, ...sub]});\r\n            }\r\n            //console.log(sub);\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonentes_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonentes = this.state.sub_abonentes\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({...this.state, sub_abonentes: [...sub_abonentes]});\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Создать регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonentes_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple  className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonentes_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonentes.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing && <ProgressBar/>\r\n                            }\r\n                            <div className=\"form-group\">\r\n                                <button className=\"btn btn-primary btn-block\" onClick={onClickRegisterCreate}>Создать</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterCreate;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\nimport api from '../../lib/api';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass RegisterInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            consumptionGroup: 0,\r\n            consumptionSubs: 0,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    console.log(register);\r\n                    const consumptionGroup = calculateConsumptionGroup(register.group_abonent);\r\n                    const consumptionSubs = calculateConsumptionSub(register.sub_abonents);\r\n                    this.setState({ ...this.state, consumptionGroup, consumptionSubs, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.setState({ ...this.state, isLoaded: true }, () => {\r\n                        this.props.showWarningAlert('Реестр не найден');\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                this.props.showWarningAlert(err.error && err.error.message ? err.error.message : err);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadXlsx = register_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.downloadXlsxRegisterById(token, register_id)\r\n        .catch(({error}) => {\r\n            this.props.setAlert('warning', error.message);\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/owner/registers/${this.state.register.id}/delete`}>Удалить</Link>\r\n                    <Link className=\"nav-link\" to={`/api/v1/registers/${register.id}/xlsx`} onClick={this.downloadXlsx(register.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Реестр</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{register.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Групповой</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребление: Субабоненты</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потери</span></td>\r\n                                <td><span className=\"font-weight-bold\">{this.state.consumptionGroup - this.state.consumptionSubs}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <h3 className=\"text-center\">Групповой абонент</h3>\r\n                <Table items={this.state.register.group_abonent ? [this.state.register.group_abonent] : []} />\r\n                <h3 className=\"text-center\">Субабоненты</h3>\r\n                <Table items={this.state.register.sub_abonents || []} />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nconst Table = props => {\r\n    const { items } = props;\r\n    return (\r\n        <div className=\"table-responsive\">\r\n            <table className=\"table table-bordered table-hover table-sm\">\r\n                <thead className=\"thead-dark\">\r\n                    <tr>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Id</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Место</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребитель</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Счетчик</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Предыдущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Текущие показания</th>\r\n                        <th scope=\"col\" className=\"text-center align-middle\">Потребление</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody style={{ fontSize: '0.85rem' }}>\r\n                    {\r\n                        items && items.map(item => <TableRow key={item.id} item={item} />)\r\n                    }\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TableRow = props => {\r\n    const { item } = props;\r\n    if (!item) return null;\r\n    return (\r\n        <>\r\n            <tr>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">{item.id}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\"><Link to={`/owner/places/${item.id}`}>{item.name}</Link></td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.consumer && <Link to={`/owner/consumers/${item.consumer.id}`}>{item.consumer.name}</Link>\r\n                    }\r\n                </td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        item.meter && <Link to={`/owner/meters/${item.meter.id}`}>{item.meter.number}</Link>\r\n                    }\r\n                </td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? prettyDate(item.meter.data[1].date) : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? prettyDate(item.meter.data[0].date) : null}</td>\r\n                <td rowSpan=\"2\" className=\"text-center align-middle\">\r\n                    {\r\n                        (() => {\r\n                            const last = item.meter && item.meter.data[1] ? item.meter.data[1].value : null;\r\n                            const curr = item.meter && item.meter.data[0] ? item.meter.data[0].value : null;\r\n                            return calculateConsumption(last, curr);\r\n                        })()\r\n                    }\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[1] ? item.meter.data[1].value : null}</td>\r\n                <td className=\"text-center align-middle\">{item.meter && item.meter.data[0] ? item.meter.data[0].value : null}</td>\r\n            </tr>\r\n        </>\r\n    );\r\n};\r\n\r\nconst calculateConsumption = (last, curr) => {\r\n    if (last && curr && !isNaN(last) && !isNaN(curr)) {\r\n        return curr - last;\r\n    }\r\n    else if (curr && !isNaN(curr)) {\r\n        return curr;\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n};\r\n\r\nconst calculateConsumptionGroup = (group_abonent) => {\r\n    if (!group_abonent) return null;\r\n    const { meter } = group_abonent;\r\n    const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n    const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n    return calculateConsumption(last, curr);\r\n};\r\n\r\nconst calculateConsumptionSub = (sub_abonents) => {\r\n    if (!sub_abonents) return null;\r\n    let consumption = 0;\r\n    sub_abonents.forEach(p => {\r\n        const { meter } = p;\r\n        const last = meter && meter.data[1] ? meter.data[1].value : null;\r\n        const curr = meter && meter.data[0] ? meter.data[0].value : null;\r\n        const result = calculateConsumption(last, curr);\r\n        if (result !== null) consumption += result;\r\n    });\r\n    return consumption;\r\n};\r\n\r\nexport default RegisterInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\nimport NavBar from '../NavBar';\r\n\r\nclass RegisterUpdate extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            places: [],\r\n            group_abonent_id: null,\r\n            sub_abonents: [],\r\n            isLoaded: false,\r\n            processing: false\r\n        };\r\n    }\r\n\r\n    componentDidMount = async () => {\r\n        try {\r\n            const token = this.state.user.token;\r\n            const register_id = this.state.register.id;\r\n\r\n            const register = await api.getRegisterById(token, register_id);\r\n            const places = await api.getAllPlaces(token);\r\n\r\n            if (register && places) {\r\n                const group_abonent_id = register.group_abonent ? `${register.group_abonent.id}` : null;\r\n                const sub_abonents = register.sub_abonents ? register.sub_abonents.map(p => `${p.id}`) : [];\r\n                this.setState({ ...this.state, register, places, group_abonent_id: group_abonent_id, sub_abonents: sub_abonents, isLoaded: true });\r\n            } else {\r\n                throw new Error({ error: { error: { message: 'Не найден реестр или места' } } })\r\n            }\r\n        } catch ({ error }) {\r\n            this.setState({ ...this.state, isLoaded: true }, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n        }\r\n    }\r\n\r\n    handleUpdateRegister = (name, group_abonent_id, sub_abonents) => {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        this.setState({ ...this.state, processing: true }, () => {\r\n            api.updateRegisterById(token, register_id, name, group_abonent_id, sub_abonents)\r\n                .then(result => {\r\n                    if (result && result.done) {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showSuccessAlert('Регистор именен');\r\n                            this.props.history.goBack();\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({ ...this.state, processing: false }, () => {\r\n                            this.props.showWarningAlert('Регистор не изменен');\r\n                        });\r\n                    }\r\n                })\r\n                .catch(({ error }) => {\r\n                    this.setState({ ...this.state, processing: false }, () => {\r\n                        this.props.showWarningAlert(error.message);\r\n                    });\r\n                });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar />;\r\n\r\n        console.log(this.state);\r\n\r\n        let name, group_abonent_id, sub_abonents_select, sub_abonents_list;\r\n\r\n        const onClickUpdateRegister = e => {\r\n            e.preventDefault();\r\n            this.handleUpdateRegister(name.value, this.state.group_abonent_id, this.state.sub_abonents);\r\n        };\r\n\r\n        const onChangeGroupAbonent = e => {\r\n            const id = group_abonent_id.value !== \"0\" ? group_abonent_id.value : null;\r\n            this.setState({ ...this.state, group_abonent_id: id });\r\n        };\r\n\r\n        const onDoubleClickSubAbonentSelectList = e => {\r\n            console.log(sub_abonents_select.value);\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, sub_abonents_select.value] });\r\n        };\r\n\r\n        const handlerClickBtnAdd = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_select.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            if (sub.length > 0) {\r\n                this.setState({ ...this.state, sub_abonents: [...this.state.sub_abonents, ...sub] });\r\n            }\r\n        };\r\n\r\n        const handlerClickBtnRemove = e => {\r\n            e.preventDefault();\r\n            let sub = [];\r\n            const options = sub_abonents_list.options;\r\n            for (let i = 0; i < options.length; i++) {\r\n                if (options[i].selected) {\r\n                    sub.push(options[i].value);\r\n                }\r\n            }\r\n            const sub_abonents = this.state.sub_abonents\r\n                .filter(p => !sub.includes(p));\r\n\r\n            this.setState({ ...this.state, sub_abonents: [...sub_abonents] });\r\n        };\r\n\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <NavBar {...this.props} />\r\n                <div className=\"row justify-content-center mt-3\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"text-center font-weight-bold mb-2\">\r\n                            <h3>Изменить регистор</h3>\r\n                        </div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <input className=\"form-control\" type=\"text\" placeholder=\"Название\" required autoFocus ref={r => name = r} defaultValue={this.state.register.name} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Групповой абонент</label>\r\n                                <select className=\"form-control\" id=\"group-abonent\" ref={r => group_abonent_id = r} onChange={onChangeGroupAbonent} defaultValue={this.state.register.group_abonent ? this.state.register.group_abonent.id : null}>\r\n                                    <option value=\"0\"></option>\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"group-abonent\">Выбор субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"group-abonent\" ref={r => sub_abonents_select = r} onDoubleClick={onDoubleClickSubAbonentSelectList}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => (Number(p.id).toString() !== this.state.group_abonent_id) && !this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-success btn-block\" onClick={handlerClickBtnAdd}>Добавить</button>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"sub-abonent\">Список субабонентов</label>\r\n                                <select multiple className=\"form-control\" id=\"sub-abonent\" ref={r => sub_abonents_list = r}>\r\n                                    {/* <option value=\"0\"></option> */}\r\n                                    {\r\n                                        this.state.places\r\n                                            .filter(p => this.state.sub_abonents.includes(Number(p.id).toString()))\r\n                                            .map(p => <option key={p.id} value={p.id}>{p.name}</option>)\r\n                                    }\r\n                                </select>\r\n                                <button className=\"btn btn-danger btn-block\" onClick={handlerClickBtnRemove}>Убрать</button>\r\n                            </div>\r\n                            {\r\n                                this.state.processing ? <ProgressBar message={'Обработка...'} large={true} /> :\r\n                                    <div className=\"form-group\">\r\n                                        <button className=\"btn btn-primary btn-block\" onClick={onClickUpdateRegister}>Создать</button>\r\n                                    </div>\r\n                            }\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n};\r\n\r\nexport default RegisterUpdate;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass RegisterDelete extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            register: {\r\n                id: props.match.params.register_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.getRegisterById(token, register_id)\r\n            .then(register => {\r\n                if (register) {\r\n                    this.setState({ ...this.state, register, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Реестр не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    handleClickYes = e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        const register_id = this.state.register.id;\r\n        api.deleteRegisterById(token, register_id)\r\n            .then(result => {\r\n                if (result && result.done) {\r\n                    this.props.showSuccessAlert('Реестр удален');\r\n                    this.props.history.go(-2);\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n    }\r\n\r\n    handleClickNo = e => {\r\n        e.preventDefault();\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return <ProgressBar/>;\r\n        const { register } = this.state;\r\n        return (\r\n            <div className=\"container pt-2\">\r\n                <div className=\"border p-5\">\r\n                    <div className=\"mb-5\">\r\n                        <p className=\"h3 text-center\">{`Удалить реестр ${register.name}?`}</p>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div className=\"ml-5\">\r\n                            <button className=\"btn btn-success\" onClick={this.handleClickYes}>Yes</button>\r\n                        </div>\r\n                        <div className=\"mr-5\">\r\n                            <button className=\"btn btn-danger\" onClick={this.handleClickNo}>No</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default RegisterDelete;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Header = props => {\r\n    const {user} = props;\r\n    const {handlerLogout} = props;\r\n    const onClickLogout = e => {\r\n        e.preventDefault();\r\n        handlerLogout();\r\n    };\r\n    return (\r\n        <div>\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <div className=\"container\">\r\n                    <Link className=\"navbar-brand\" to=\"/inspector/user\">\r\n                        <span>{user.login}</span> <i className=\"fas fa-user-secret\"></i>\r\n                    </Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                        <ul className=\"navbar-nav\">\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/places\">Места</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link\" to=\"/inspector/reports\">Отчеты</Link>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <Link className=\"nav-link text-warning\" to=\"/logout\" onClick={onClickLogout}>Выход</Link>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Header;","import React from 'react';\r\nimport './index.css';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer bg-dark text-white py-2\">\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-4 col-offset-4 text-center\">\r\n                        <span className=\"text-muted\">© 2019</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React, {Component} from 'react';\r\n\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport Alert from '../Alert';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass InspectorAppLayout extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: {},\r\n            alert: null,\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const user_id = this.state.user.id;\r\n        api.getInspectorByUserId(token, user_id)\r\n            .then(inspector => {\r\n                if (inspector) {\r\n                    this.setState({...this.state, inspector, isLoaded: true});\r\n                }\r\n                else {\r\n                    this.props.handlerLogout();\r\n                }\r\n            })\r\n            .catch(({error}) => {\r\n                this.props.handlerLogout();\r\n            });\r\n    }\r\n\r\n    handlerCloseAlert = () => {\r\n        this.setState({...this.state, alert: null});\r\n    }\r\n\r\n    setAlert = (type, message) => {\r\n        this.setState({...this.state, alert: {type, message}});\r\n    };\r\n\r\n    showWarningAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'warning', message}});\r\n    }\r\n\r\n    showSuccessAlert = message => {\r\n        this.setState({...this.state, alert: {type: 'success', message}});\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user } = this.state;\r\n        console.log('INSPECTOR', user);\r\n        return (\r\n            <div>\r\n                <Header user={user} handlerLogout={this.props.handlerLogout} />\r\n                {this.state.alert && <Alert type={this.state.alert.type} message={this.state.alert.message} handlerCloseAlert={this.handlerCloseAlert} />}\r\n                {\r\n                    this.props.children && React.Children.map(this.props.children, child =>\r\n                        React.cloneElement(child, {setAlert: this.setAlert, showWarningAlert: this.showWarningAlert, showSuccessAlert: this.showSuccessAlert, inspector: this.state.inspector})\r\n                    )\r\n                }\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorAppLayout;","import React from 'react';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst InspectorUserInfo = props => {\r\n    const {user, inspector} = props;\r\n    return (\r\n        <div className=\"container justify-content-center\">\r\n            <NavBar {...props}>\r\n                <Link className=\"nav-link\" to={`/inspector/user/changePassword`}>Изменить пароль</Link>\r\n            </NavBar>\r\n            <h3 className=\"text-center mb-2\">Пользователь</h3>\r\n            <div className=\"border-top border-bottom\">\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Логин</span> : <span>{user.login}</span>\r\n                </div>\r\n                <div>\r\n                    <span className=\"font-weight-bold\">Имя</span> : <span>{inspector.name}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InspectorUserInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport NavBar from '../NavBar';\r\nimport {Link} from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorReportList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      inspector: props.inspector,\r\n      acts: [],\r\n      limit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      const { user: { token }, limit } = this.state;\r\n      const inspector_id = this.state.inspector.id;\r\n      //const result = await api.getCountReports(token, inspector_id);\r\n      const result = await api.act_01.count(token, inspector_id);\r\n      if (result && result.count > 0) {\r\n        const offset = (pageNumber - 1) * limit;\r\n        //const reports = await api.getAllReportsByInspectorId(token, inspector_id, limit, offset);\r\n        const acts = await api.act_01.getAllByInspectorId(token, inspector_id, limit, offset);\r\n        this.setState({ ...this.state, acts, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.props.showWarningAlert(error.message);\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  downloadPdf = act_id => e => {\r\n    e.preventDefault();\r\n    const token = this.state.user.token;\r\n    api.act_01.getPdfById(token, act_id)\r\n      .catch(({error}) => {\r\n        this.props.setAlert('warning', error.message);\r\n      });\r\n  };\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props} />\r\n        <Table items={this.state.acts} downloadPdf={this.downloadPdf}/>\r\n        {\r\n          this.state.totalItemsCount > this.state.limit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.limit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst Table = props => {\r\n  const { items } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover table-sm table-responsive-sm\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\">Id</th>\r\n            <th scope=\"col\" className=\"text-center\">Дата</th>\r\n            <th scope=\"col\" className=\"text-center\">Инспектор</th>\r\n            <th scope=\"col\" className=\"text-center\">Место</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n            <th scope=\"col\" className=\"text-center\">Показание</th>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-download\"></i></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '0.85rem' }}>\r\n          {\r\n            items && items.map(item => <TableRow key={`${item.id}`} item={item} downloadPdf={props.downloadPdf}/>)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { item } = props;\r\n  return (\r\n    <tr>\r\n      <td className=\"text-center\">\r\n        <Link to={`/inspector/reports/${item.id}`}>{item.id}</Link>\r\n      </td>\r\n      {/* <td className=\"text-center\">{prettyDate(item.date)}</td> */}\r\n      <td className=\"text-center\">{prettyDate(formatDate(item.date))}</td>\r\n      <td className=\"text-center\">{item.inspector}</td>\r\n      <td className=\"text-center\">{item.place}</td>\r\n      <td className=\"text-center\">{item.consumer}</td>\r\n      <td className=\"text-center\">{item.meter}</td>\r\n      <td className=\"text-center\">{item.current_value}</td>\r\n      <td className=\"text-center\"><a className=\"text-secondary\" onClick={props.downloadPdf(item.id)} href={`api/v1/doc/act_01/${item.id}/pdf`} download={`act-${Date.now()}.pdf`}><i className=\"fas fa-download\"></i></a></td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default InspectorReportList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate } from '../../lib/helpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass InspectorReportInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            act: {\r\n                id: props.match.params.id\r\n            },\r\n            isLoaded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const act_id = this.state.act.id;\r\n        api.act_01.getById(token, act_id)\r\n            .then(act => {\r\n                if (act) {\r\n                    this.setState({ ...this.state, act, isLoaded: true });\r\n                }\r\n                else {\r\n                    this.props.showWarningAlert('Отчет не найден');\r\n                    this.props.history.goBack();\r\n                }\r\n            })\r\n            .catch(({ error }) => {\r\n                this.props.showWarningAlert('Отчет не найден');\r\n                this.props.history.goBack();\r\n            });\r\n    }\r\n\r\n    downloadPdf = act_id => e => {\r\n        e.preventDefault();\r\n        const token = this.state.user.token;\r\n        api.act_01.getPdfById(token, act_id)\r\n            .catch(({ error }) => {\r\n                this.props.setAlert('warning', error.message);\r\n            });\r\n    };\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { user, act } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props} user={user}>\r\n                    <Link className=\"nav-link\" to={`/inspector/reports/${act.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to=\"\" onClick={this.downloadPdf(act.id)}>Скачать</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">{`Отчет № ${act.id}`}</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{prettyDate(formatDate(act.date))}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Инспектор</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.inspector}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.consumer}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Место</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.place}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.meter}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.ConsumerSingId ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-success\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Предыдущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_date ? prettyDate(act.last_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.last_value !== null ? act.last_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-danger\">\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Текущие показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_date ? prettyDate(act.current_date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{act.current_value !== null ? act.current_value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr className=\"table-info\">\r\n                                <td><span className=\"font-weight-bold\">ИТОГО потребление</span></td>\r\n                                <td>\r\n                                    <span className=\"font-weight-bold\">\r\n                                        {\r\n                                            act.current_date && act.last_date ? act.current_value - act.last_value : (\r\n                                                act.current_date ? act.current_value : null\r\n                                            )\r\n                                        }\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorReportInfo;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport NavBar from '../NavBar';\r\nimport { Link } from 'react-router-dom';\r\nimport Pagination from 'react-js-pagination';\r\n\r\nclass InspectorPlaceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: props.user,\r\n      places: [],\r\n      pageLimit: 30,\r\n      activePage: 1,\r\n      totalItemsCount: 0,\r\n      isLoaded: false\r\n    };\r\n  }\r\n\r\n  loadItems = pageNumber => async () => {\r\n    try {\r\n      this.setState({...this.state, isLoaded: false});\r\n      const { user: { token }, pageLimit } = this.state;\r\n      const result = await api.getCountPlaces(token);\r\n      if (result && result.count > 0) {\r\n        const places = await api.getAllPlaces(token, pageLimit, (pageNumber - 1) * pageLimit);\r\n        this.setState({ ...this.state, places, totalItemsCount: result.count, activePage: pageNumber, isLoaded: true })\r\n      }\r\n      else {\r\n        this.setState({ ...this.state, isLoaded: true });\r\n      }\r\n    }\r\n    catch ({ error }) {\r\n      this.setState({...this.state, isLoaded: true}, () => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    Promise.resolve()\r\n      .then(this.loadItems(this.state.activePage))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  };\r\n\r\n  handlerChangePage = pageNumber => {\r\n    Promise.resolve()\r\n      .then(this.loadItems(pageNumber))\r\n      .catch(({ error }) => {\r\n        this.props.showWarningAlert(error.message);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.isLoaded) return null;\r\n    return (\r\n      <div className=\"container justify-content-center\">\r\n        <NavBar {...this.props}>\r\n          <Link className=\"nav-link\" to='/inspector/places/create'>Добавить</Link>\r\n        </NavBar>\r\n        <Table places={this.state.places} />\r\n        {\r\n          this.state.totalItemsCount > this.state.pageLimit ?\r\n            <Pagination\r\n              hideDisabled\r\n              activePage={this.state.activePage}\r\n              itemsCountPerPage={this.state.pageLimit}\r\n              totalItemsCount={this.state.totalItemsCount}\r\n              innerClass=\"pagination justify-content-center\"\r\n              itemClass=\"page-item\"\r\n              linkClass=\"page-link\"\r\n              onChange={this.handlerChangePage}\r\n            /> : null\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n};\r\n\r\nconst Table = props => {\r\n  const { places } = props;\r\n  return (\r\n    <div className=\"table-responsive\">\r\n      <table className=\"table table-bordered table-hover\">\r\n        <thead className=\"thead-dark\">\r\n          <tr>\r\n            <th scope=\"col\" className=\"text-center\"><i className=\"fas fa-plus\"></i></th>\r\n            <th scope=\"col\" className=\"text-center\">Название</th>\r\n            <th scope=\"col\" className=\"text-center\">Потребитель</th>\r\n            <th scope=\"col\" className=\"text-center\">Счетчик</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody style={{ fontSize: '1rem' }}>\r\n          {\r\n            places && places.map(place => <TableRow key={`${place.id}-${place.name}`} place={place} />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TableRow = props => {\r\n  const { place } = props;\r\n  return (\r\n    <tr style={style(place)}>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}/addData`}><i className=\"text-secondary fas fa-plus\"></i></Link></td>\r\n      <td className=\"text-center\"><Link to={`/inspector/places/${place.id}`}>{place.name}</Link></td>\r\n      <td className=\"text-center\">{place.consumer ? place.consumer.name : null}</td>\r\n      <td className=\"text-center\">{place.meter ? place.meter.number : null}</td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst style = place => {\r\n  if (!place.meter) return { backgroundColor: '#b0bec5' };\r\n  if (place.meter) {\r\n    const { lastData } = place.meter;\r\n    if (lastData && (new Date(lastData.date)).getMonth() === (new Date(Date.now())).getMonth()) {\r\n      return { backgroundColor: '#ffab91' };\r\n    }\r\n    else {\r\n      return { backgroundColor: '#c5e1a5' }\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default InspectorPlaceList;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate } from '../../lib/helpers';\r\n\r\nclass InspectorPlaceInfo extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            isLoaded: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/addData`}>Добавить показания</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceInfo;","import React, { Component } from 'react';\r\n\r\nclass CanvasSign extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.touches = { x: [], y: [] };\r\n        this.brush = { color: 'black', size: 3 };\r\n        this.snapshot = null;\r\n        this.canvas = {\r\n            width: 300,\r\n            height: 300,\r\n            ref: React.createRef(),\r\n            refHidden: React.createRef()\r\n        };\r\n\r\n        this.ongoingTouches = [];\r\n    }\r\n\r\n    dX = () => this.canvas.ref.current.getBoundingClientRect().left + window.scrollX;\r\n\r\n    dY = () => this.canvas.ref.current.getBoundingClientRect().top + window.scrollY;\r\n\r\n    handlerTouchStart = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            this.ongoingTouches.push(this.copyTouch(touches[i]));\r\n            ctx.beginPath();\r\n            ctx.arc(touches[i].pageX - this.dX(), touches[i].pageY - this.dY(), this.brush.size / 2, 0, 2 * Math.PI, false);  // a circle at the start\r\n            ctx.fillStyle = this.brush.color;\r\n            ctx.fill();\r\n        }\r\n    };\r\n\r\n    handlerTouchMove = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.strokeStyle = this.brush.color;\r\n                ctx.stroke();\r\n                this.ongoingTouches.splice(idx, 1, this.copyTouch(touches[i]));  // swap in the new touch record\r\n            } else {\r\n                console.log(\"can't figure out which touch to continue\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handlerTouchEnd = e => {\r\n        e.preventDefault();\r\n        let signCanvas = document.getElementById(\"signCanvas\");\r\n        let ctx = signCanvas.getContext(\"2d\");\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            if (idx >= 0) {\r\n                ctx.lineWidth = this.brush.size;\r\n                ctx.fillStyle = this.brush.color;\r\n                ctx.beginPath();\r\n                ctx.moveTo(this.ongoingTouches[idx].pageX - this.dX(), this.ongoingTouches[idx].pageY - this.dY());\r\n                ctx.lineTo(touches[i].pageX - this.dX(), touches[i].pageY - this.dY());\r\n                //ctx.fillRect(touches[i].pageX - this.dX() - 4, touches[i].pageY - this.dY() - 4, 8, 8);  // and a square at the end\r\n                this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n            } else {\r\n                console.log(\"can't figure out which touch to end\");\r\n            }\r\n        }\r\n    };\r\n\r\n    handleCancel = e => {\r\n        e.preventDefault();\r\n        let touches = e.changedTouches;\r\n\r\n        for (let i = 0; i < touches.length; i++) {\r\n            const idx = this.ongoingTouchIndexById(touches[i].identifier);\r\n            this.ongoingTouches.splice(idx, 1);  // remove it; we're done\r\n        }\r\n    }\r\n\r\n    // colorForTouch = touch => {\r\n    //     let r = touch.identifier % 16;\r\n    //     let g = Math.floor(touch.identifier / 3) % 16;\r\n    //     let b = Math.floor(touch.identifier / 7) % 16;\r\n    //     r = r.toString(16); // make it a hex digit\r\n    //     g = g.toString(16); // make it a hex digit\r\n    //     b = b.toString(16); // make it a hex digit\r\n    //     const color = \"#\" + r + g + b;\r\n    //     console.log(\"color for touch with identifier \" + touch.identifier + \" = \" + color);\r\n    //     return color;\r\n    // }\r\n\r\n    copyTouch = touch => {\r\n        return { identifier: touch.identifier, pageX: touch.pageX, pageY: touch.pageY };\r\n    }\r\n\r\n    ongoingTouchIndexById = idToFind => {\r\n        for (let i = 0; i < this.ongoingTouches.length; i++) {\r\n            const id = this.ongoingTouches[i].identifier;\r\n\r\n            if (id === idToFind) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;    // not found\r\n    }\r\n\r\n    componentDidMount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.addEventListener('touchstart', this.handlerTouchStart, false);\r\n        canvas.addEventListener('touchmove', this.handlerTouchMove, false);\r\n        canvas.addEventListener('touchcancel', this.handleCancel, false);\r\n        canvas.addEventListener('touchend', this.handlerTouchEnd, false);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        const canvas = this.canvas.ref.current;\r\n        canvas.removeEventListener('touchstart', this.handlerTouchStart);\r\n        canvas.removeEventListener('touchmove', this.handlerTouchMove);\r\n        canvas.removeEventListener('touchcancel', this.handleCancel);\r\n        canvas.removeEventListener('touchend', this.handlerTouchEnd);\r\n    }\r\n\r\n    handleClear = e => {\r\n        e.preventDefault();\r\n        const ctx = this.canvas.ref.current.getContext(\"2d\");\r\n        ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container justify-content-center\">\r\n                <div className=\"border text-center mx-auto\">\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.ref} />\r\n                    <canvas id=\"signCanvas\" width={this.canvas.width} height={this.canvas.height} ref={this.canvas.refHidden} style={{display: 'none'}} />\r\n                </div>\r\n                <button className=\"btn btn-warning btn-block\" onClick={this.handleClear}>Очистить</button>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default CanvasSign;","import React, { Component } from 'react';\r\nimport api from '../../lib/api';\r\nimport { Link } from 'react-router-dom';\r\nimport NavBar from '../NavBar';\r\nimport { prettyDate, formatDate, strBase64ToBin } from '../../lib/helpers';\r\nimport CanvasSign from '../CanvasSign';\r\nimport ProgressBar from '../ProgressBar';\r\n\r\nclass InspectorPlaceAddData extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            user: props.user,\r\n            inspector: props.inspector,\r\n            place: {\r\n                id: props.match.params.place_id\r\n            },\r\n            consumption: null,\r\n            isLoaded: false,\r\n            isProcess: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const token = this.state.user.token;\r\n        const place_id = this.state.place.id;\r\n        api.getPlaceById(token, place_id)\r\n            .then(\r\n                place => {\r\n                    if (place) {\r\n                        this.setState({ ...this.state, place, isLoaded: true });\r\n                    }\r\n                    else {\r\n                        this.props.showWarningAlert('Место не найдено');\r\n                        this.props.history.goBack();\r\n                    }\r\n                },\r\n                ({ error }) => {\r\n                    this.props.showWarningAlert(error.message);\r\n                    this.props.history.goBack();\r\n                }\r\n            );\r\n    }\r\n\r\n    handleCreateReport = async (value, signData) => {\r\n        console.log(value);\r\n        const { place } = this.state;\r\n        if (!place.meter) {\r\n            return this.props.showWarningAlert(\"Отсутствует счетчик\");\r\n        }\r\n        if (Number.isNaN(value)) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (place.meter && place.meter.lastData && (value < Number(place.meter.lastData.value))) {\r\n            return this.props.showWarningAlert('Некорректные показания');\r\n        }\r\n        if (this.state.place.isSignNeed && !signData) {\r\n            return this.props.showWarningAlert('Отсутствует подпись');\r\n        }\r\n\r\n        const token = this.state.user.token;\r\n        //const inspector_id = this.state.inspector.id;\r\n        const inspector = this.state.inspector.name;\r\n        //const place_id = this.state.place.id;\r\n        const placeName = this.state.place.name;\r\n        const consumer = this.state.place.consumer.name;\r\n        const meter = this.state.place.meter.number;\r\n        const date = formatDate(Date.now());\r\n        let sign_id = null;\r\n\r\n        let sign = null;\r\n        //let report = null;\r\n        let act = null;\r\n\r\n        this.setState({...this.state, isProcess: true});\r\n\r\n        try {\r\n            if (this.state.place.isSignNeed) {\r\n                sign = await api.createSign(token, signData);\r\n                sign_id = sign.id;\r\n            }\r\n            //report = await api.createReport(token, inspector_id, place_id, sign_id, date, value);\r\n            act = await api.act_01.create(token, inspector, consumer, placeName, meter, sign_id, date, value);\r\n        } catch ({error}) {\r\n            if (sign) api.deleteSignById(token, sign.id).then(() => {});\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert(error.message);\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!act) {\r\n            this.setState({...this.state, isProcess: false}, () => {\r\n                this.props.showWarningAlert('Неудалось создать отчет');\r\n            });\r\n        }\r\n        else {\r\n            //api.sendReport(token, report.id)\r\n            console.log(act);\r\n            api.act_01.sendEmailById(token, act.id)\r\n                .then(done => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showSuccessAlert('Отчет создан и отправлен.');\r\n                        this.props.history.goBack();\r\n                    });\r\n                })\r\n                .catch(({error}) => {\r\n                    this.setState({...this.state, isProcess: false}, () => {\r\n                        this.props.showWarningAlert(\"Отчет создан, но не отправлен. \\n\" + error.message);\r\n                        this.props.history.goBack();\r\n                    });\r\n                });\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let val, canvas;\r\n        if (!this.state.isLoaded) return null;\r\n        const { place } = this.state;\r\n\r\n        const onClickCreateReport = e => {\r\n            e.preventDefault();\r\n\r\n            if (!this.state.place.isSignNeed) {\r\n                return this.handleCreateReport(val.value, null);\r\n            }\r\n\r\n            const signData = canvas.canvas.ref.current.toDataURL();\r\n            const emptyDataSize = canvas.canvas.refHidden.current.toDataURL().length;\r\n            if (signData.length <= emptyDataSize) {\r\n                return this.props.showWarningAlert('Необходима подпись');\r\n            }\r\n            \r\n            const file = strBase64ToBin(signData);\r\n            this.handleCreateReport(val.value, file);\r\n        };\r\n\r\n        const onChangeValue = e => {\r\n            let consumption = null; \r\n            if (val.value <= 0) {\r\n                consumption = null;\r\n            }\r\n            else if (!this.state.place.meter) {\r\n                consumption = null;\r\n            }\r\n            else if (this.state.place.meter && !this.state.place.meter.lastData) {\r\n                consumption = val.value;\r\n            }\r\n            else {\r\n                consumption = val.value - Number(this.state.place.meter.lastData.value);    \r\n            }\r\n            this.setState({...this.state, consumption: consumption});\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <NavBar {...this.props}>\r\n                    <Link className=\"nav-link\" to={`/inspector/places/${place.id}/update`}>Изменить</Link>\r\n                </NavBar>\r\n                <h3 className=\"text-center mb-2\">Место установки счетчика</h3>\r\n                <div className=\"table-responsive\">\r\n                    <table className=\"table table-hover table-sm border-bottom\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Id</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.id}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Название</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.name}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Потребитель</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer ? place.consumer.name : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Телефон</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.consumer && place.consumer.phone ? <a href={`tel:${place.consumer.phone}`}>{place.consumer.phone}</a> : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Счетчик</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter ? place.meter.number : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Подпись</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.isSignNeed ? 'Да' : 'Нет'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\"><span className=\"font-weight-bold\">Последние показания:</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Дата</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? prettyDate(place.meter.lastData.date) : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><span className=\"font-weight-bold\">Показание</span></td>\r\n                                <td><span className=\"font-weight-bold\">{place.meter && place.meter.lastData ? place.meter.lastData.value : '---'}</span></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td colSpan=\"2\">\r\n                                    <div className=\"form-group my-0 p-0\">\r\n                                        <input className=\"form-control\" type=\"number\" placeholder=\"Текущие показания\" required ref={r => val = r} onChange={onChangeValue} />\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                            <tr className={this.state.consumption === 0 ? 'table-warning' : (this.state.consumption > 0 ? 'table-success' : 'table-danger') }>\r\n                                <td><span className=\"font-weight-bold\">Потребление: </span></td>\r\n                                <td><span className=\"font-weight-bold text-right\">{this.state.consumption}</span></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                {/* <div className=\"input-group mb-3\">\r\n                    <div className=\"custom-file\">\r\n                        <input type=\"file\" className=\"custom-file-input\" />\r\n                        <label className=\"custom-file-label\">Фотография показаний</label>\r\n                    </div>\r\n                </div> */}\r\n                {\r\n                    place.isSignNeed &&\r\n                    <>\r\n                        <h5 className=\"text-center mb-2\">Подпись потребителя</h5>\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                                <div className=\"my-2\">\r\n                                    <CanvasSign ref={r => canvas = r} />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n                <div className=\"row justify-content-center\">\r\n                    <div className=\"col-12 col-sm-12 col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3\">\r\n                        <div className=\"form-group\">\r\n                        {\r\n                            this.state.isProcess ?\r\n                            <ProgressBar message=\"Создание отчета...\" large={true}/> :\r\n                            <button className=\"btn btn-primary btn-block\" onClick={onClickCreateReport}>Создать</button>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default InspectorPlaceAddData;","import React, { Component } from 'react';\r\nimport { withRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport Login from '../Login';\r\n\r\nimport UserChangePassword from '../UserChangePassword';\r\n\r\nimport Owner from '../Owner';\r\nimport OwnerInfo from '../OwnerInfo';\r\n\r\n//import UserList from '../UserList';\r\n\r\nimport InspectorList from '../InspectorList';\r\nimport InspectorCreate from '../InspectorCreate';\r\nimport InspectorInfo from '../InspectorInfo';\r\nimport InspectorUpdate from '../InspectorUpdate';\r\nimport InspectorDelete from '../InspectorDelete';\r\n\r\nimport ConsumerList from '../ConsumerList';\r\nimport ConsumerCreate from '../ConsumerCreate';\r\nimport ConsumerInfo from '../ConsumerInfo';\r\nimport ConsumerUpdate from '../ConsumerUpdate';\r\nimport ConsumerDelete from '../ConsumerDelete';\r\n\r\nimport MeterList from '../MeterList';\r\nimport MeterCreate from '../MeterCreate';\r\nimport MeterInfo from '../MeterInfo';\r\nimport MeterUpdate from '../MeterUpdate';\r\nimport MeterDelete from '../MeterDelete';\r\nimport MeterAddData from '../MeterAddData';\r\n\r\nimport PlaceList from '../PlaceList';\r\nimport PlaceCreate from '../PlaceCreate';\r\nimport PlaceInfo from '../PlaceInfo';\r\nimport PlaceUpdate from '../PlaceUpdate';\r\nimport PlaceDelete from '../PlaceDelete';\r\n\r\nimport ReportList from '../ReportList';\r\nimport OwnerReportInfo from '../OwnerReportInfo';\r\nimport ReportUpdate from '../ReportUpdate';\r\nimport ReportDelete from '../ReportDelete';\r\n\r\nimport RegisterList from '../RegisterList';\r\nimport RegisterCreate from '../RegisterCreate';\r\nimport RegisterInfo from '../RegisterInfo';\r\nimport RegisterUpdate from '../RegisterUpdate';\r\nimport RegisterDelete from '../RegisterDelete';\r\n\r\nimport InspectorAppLayout from '../InspectorAppLayout';\r\nimport InspectorUserInfo from '../InspectorUserInfo';\r\nimport InspectorReportList from '../InspectorReportList';\r\nimport InspectorReportInfo from '../InspectorReportInfo';\r\nimport InspectorPlaceList from '../InspectorPlaceList';\r\nimport InspectorPlaceInfo from '../InspectorPlaceInfo';\r\nimport InspectorPlaceAddData from '../InspectorPlaceAddData';\r\n\r\n//import Consumer from '../Consumer';\r\n\r\nimport api from '../../lib/api';\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      user: null,\r\n      alert: null\r\n    }\r\n\r\n  }\r\n\r\n  handlerLogout = () => {\r\n    this.props.history.index = -1;\r\n    this.props.history.push('/login');\r\n    let state = {};\r\n    Object.keys(this.state).forEach(key => {\r\n      state[key] = null;\r\n    });\r\n    this.setState({...state});\r\n  }\r\n\r\n  handlerlogin = (login, password) => {\r\n    if (!login || !password) {\r\n      this.setState({ ...this.state, alert: { type: 'warning', message: 'Incorrect login or password' } });\r\n      return;\r\n    }\r\n    api.login(login, password)\r\n      .then(user => {\r\n        this.setState({ ...this.state, user }, () => {\r\n          switch (user.role) {\r\n            case 'ADMIN': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'OWNER': {\r\n              this.props.history.push('/owner');\r\n              break;\r\n            }\r\n            case 'INSPECTOR': {\r\n              this.props.history.push('/inspector');\r\n              break;\r\n            }\r\n            // case 'CONSUMER': {\r\n            //   this.props.history.push('/consumer');\r\n            //   break;\r\n            // }\r\n            default: {\r\n              this.props.history.push('/login');\r\n            }\r\n          }\r\n        });\r\n      })\r\n      .catch(({error}) => {\r\n        this.setState({ ...this.state, alert: { type: 'warning', message: error.message } })\r\n      });\r\n  }\r\n\r\n  handlerCloseAlert = () => {\r\n    this.setState({ ...this.state, alert: null });\r\n  }\r\n\r\n  componentDidMount() {\r\n    //this.props.history.push('/login');\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.state;\r\n    console.log(\"APP\", user);\r\n    return (\r\n      <div>\r\n        <Switch>\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/login' render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n          <Route exact path='/owner' render={props => <Owner {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          <Route exact path='/inspector' render={props => <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout} />} />\r\n          {/*<Route exact path='/consumer' render={props => <Consumer {...props} user={user} handlerLogout={this.handlerLogout} />} />*/}\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/inspector/user'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUserInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/user/changePassword'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/create'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/places/:place_id/addData'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorPlaceAddData {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportList {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorReportInfo {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/inspector/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <InspectorAppLayout {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </InspectorAppLayout>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/user'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/user/changePassword'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <UserChangePassword {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/inspectors'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/inspectors/:inspector_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <InspectorDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/consumers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/consumers/:consumer_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ConsumerDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/meters'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/meters/:meter_id/addData'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <MeterAddData {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/reports'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <OwnerReportInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/reports/:id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <ReportDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/places'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/places/:place_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <PlaceDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route exact path='/owner/registers'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterList {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/create'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterCreate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterInfo {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/update'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterUpdate {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          <Route exact path='/owner/registers/:register_id/delete'\r\n            render={\r\n              props =>\r\n                <Owner {...props} user={user} handlerLogout={this.handlerLogout}>\r\n                  <RegisterDelete {...props} user={user} />\r\n                </Owner>\r\n            }\r\n          />\r\n\r\n          {/* =================================================================================== */}\r\n\r\n          <Route render={props => <Login {...props} alert={this.state.alert} handlerLogin={this.handlerlogin} handlerCloseAlert={this.handlerCloseAlert} />} />\r\n\r\n        </Switch>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {MemoryRouter} from 'react-router-dom';\n\nimport '../node_modules/bootstrap/dist/css/bootstrap.css';\nimport '../node_modules/bootstrap/dist/js/bootstrap';\nimport '../node_modules/@fortawesome/fontawesome-free/css/all.css';\n\nimport App from './components/App';\n\nReactDOM.render(<MemoryRouter><App /></MemoryRouter>, document.getElementById('root'));"],"sourceRoot":""}